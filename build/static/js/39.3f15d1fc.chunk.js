(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[39],{316:function(e,c,t){"use strict";c.a=t.p+"static/media/successful-payment.08385652.svg"},323:function(e,c,t){"use strict";c.a=t.p+"static/media/cancel-payment.f939aa43.svg"},382:function(e,c,t){},445:function(e,c,t){"use strict";t.r(c);var s=t(6),a=t(0),o=t(2),i=(t(382),t(28)),r=t(31),n=t(316),d=t(323),l=t(20),j=t(25),u=t(13),b=t(7),O=t(86);c.default=function(){var e=Object(o.useState)(null),c=Object(s.a)(e,2),t=c[0],h=c[1],v=Object(o.useState)(!1),x=Object(s.a)(v,2),m=x[0],f=x[1],g=Object(o.useState)(!1),k=Object(s.a)(g,2),p=k[0],y=k[1],S=Object(o.useState)("Orders pay on delivery"),N=Object(s.a)(S,2),I=N[0],P=N[1],T=Object(l.b)(),_=Object(i.i)(),E=_.status,w=_.id;return Object(o.useEffect)((function(){var e={url:"".concat(b.T).concat(w,"/order_verify/"),method:"POST",body:null};if("success"==E){var c=!!localStorage.getItem("sundora_guest_id");c&&y(!0),Object(u.e)(e).then((function(e){if(e.success){var t,s,a,o,i,r,n={url:"".concat(b.i).concat(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(s=t.order)||void 0===s?void 0:s.uuid,"/"),method:"GET",body:null};(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(o=a.order)||void 0===o?void 0:o.shipping)||P("Cash on pickup"),h(!0),f(!0),Object(u.e)(n).then((function(e){var c=e.data;Object(O.c)(c)})),(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.user)||void 0===r?void 0:r.guest)&&localStorage.removeItem("sundoraToken"),localStorage.removeItem("id_checkout"),c&&localStorage.removeItem("sundora_guest_id"),T(Object(j.d)())}else e.isError&&(h(!0),f(!1))})).catch((function(){return f(!1)}))}else h(!0),f(!0)}),[]),Object(a.jsxs)("section",{className:"section-PaymentSuccessPage",children:[t?"success"==E&&m?Object(a.jsxs)("div",{className:"status-box done",children:[Object(a.jsx)("img",{src:n.a,alt:""}),Object(a.jsx)("h3",{children:"THANK YOU!"}),Object(a.jsx)("h4",{children:I}),p?Object(a.jsx)(r.b,{to:"/",children:"Back to home"}):Object(a.jsx)(r.b,{to:"/account/order-history",children:"View orders"})]}):"cancel"==E?Object(a.jsxs)("div",{className:"status-box done",children:[Object(a.jsx)("img",{src:d.a,alt:""}),Object(a.jsx)("h4",{children:"Your order cancelled"}),Object(a.jsx)(r.b,{to:"/checkout",children:"Back to checkout"})]}):"failed"==E?Object(a.jsxs)("div",{className:"status-box done",children:[Object(a.jsx)("img",{src:d.a,alt:""}),Object(a.jsx)("h3",{children:"OOP!"}),Object(a.jsx)("h4",{children:"Your order was failed. Please try again"}),Object(a.jsx)(r.b,{to:"/checkout",children:"Back to checkout"})]}):"":Object(a.jsxs)("section",{className:"verify",children:[Object(a.jsx)("h4",{children:"Searching for verify order"}),Object(a.jsxs)("div",{className:"lds-ellipsis",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})]}),t&&!m?Object(a.jsxs)("div",{className:"status-box done",children:[Object(a.jsx)("img",{src:d.a,alt:""}),Object(a.jsx)("h4",{children:"VERIFICATION FAILED"}),Object(a.jsx)("h4",{children:"Your order is incorrect. Please try again"}),Object(a.jsx)(r.b,{to:"/checkout",children:"Back to checkout"})]}):""]})}}}]);
//# sourceMappingURL=39.3f15d1fc.chunk.js.map