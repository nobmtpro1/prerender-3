{"version":3,"sources":["images/thump-video-example.png","../node_modules/react-lite-youtube-embed/dist/index.es.jsx","../lite-vimeo.ts","components/BlockVideo/index.tsx"],"names":["props","_a","preconnected","setPreconnected","_b","iframe","setIframe","videoId","encodeURIComponent","id","videoPlaylisCovertId","playlistCoverId","videoTitle","title","posterImp","poster","paramsImp","params","posterUrl","playlist","ytUrl","noCookie","cookie","iframeSrc","activatedClassImp","activatedClass","adNetworkImp","adNetwork","iframeClassImp","iframeClass","playerClassImp","playerClass","wrapperClassImp","wrapperClass","onIframeAdded","rel","href","as","onPointerOver","onClick","className","style","backgroundImage","width","height","frameBorder","allow","allowFullScreen","src","BlockVideo","data","showReadmore","video","publisher","dangerouslySetInnerHTML","__html","placeholder","file","API_URL","url","controls","thumb","logo","original","Picture","text","link","product","to","relative_url","brand_page","page_ptr","handle","memo"],"mappings":"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","file":"static/js/4.90b3a759.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/thump-video-example.a2e3329c.png\";","/**\n* react-lite-youtube-embed v2.0.3\n*  https://github.com/ibrahimcesar/react-lite-youtube-embed.git\n*\n*  Copyright (c) Ibrahim Cesar < email@ibrahimcesar.com > and project contributors.\n*\n*  This source code is licensed under the MIT license found in the\n*  LICENSE file in the root directory of this source tree.\n*\n*  Author site: https://ibrahimcesar.cloud\n*/\n    import * as React from 'react';\nimport { useState } from 'react';\n\nfunction LiteYouTubeEmbed(props) {\r\n    var _a = useState(false), preconnected = _a[0], setPreconnected = _a[1];\r\n    var _b = useState(false), iframe = _b[0], setIframe = _b[1];\r\n    var videoId = encodeURIComponent(props.id);\r\n    var videoPlaylisCovertId = typeof props.playlistCoverId === 'string' ? encodeURIComponent(props.playlistCoverId) : null;\r\n    var videoTitle = props.title;\r\n    var posterImp = props.poster || \"hqdefault\";\r\n    var paramsImp = \"&\" + props.params || \"\";\r\n    var posterUrl = !props.playlist ?\r\n        \"https://i.ytimg.com/vi/\" + videoId + \"/\" + posterImp + \".jpg\" :\r\n        \"https://i.ytimg.com/vi/\" + videoPlaylisCovertId + \"/\" + posterImp + \".jpg\";\r\n    var ytUrl = props.noCookie\r\n        ? \"https://www.youtube-nocookie.com\"\r\n        : \"https://www.youtube.com\";\r\n    ytUrl = props.cookie\r\n        ? \"https://www.youtube.com\"\r\n        : \"https://www.youtube-nocookie.com\";\r\n    var iframeSrc = !props.playlist\r\n        ? ytUrl + \"/embed/\" + videoId + \"?autoplay=1\" + paramsImp\r\n        : ytUrl + \"/embed/videoseries?autoplay=1&list=\" + videoId + paramsImp;\r\n    var activatedClassImp = props.activatedClass || \"lyt-activated\";\r\n    var adNetworkImp = props.adNetwork || false;\r\n    var iframeClassImp = props.iframeClass || \"\";\r\n    var playerClassImp = props.playerClass || \"lty-playbtn\";\r\n    var wrapperClassImp = props.wrapperClass || \"yt-lite\";\r\n    var onIframeAdded = props.onIframeAdded || function () { };\r\n    var warmConnections = function () {\r\n        if (preconnected)\r\n            return;\r\n        setPreconnected(true);\r\n    };\r\n    var addIframe = function () {\r\n        if (iframe)\r\n            return;\r\n        onIframeAdded();\r\n        setIframe(true);\r\n    };\r\n    return (React.createElement(React.Fragment, null,\r\n        React.createElement(\"link\", { rel: \"preload\", href: posterUrl, as: \"image\" }),\r\n        React.createElement(React.Fragment, null, preconnected && (React.createElement(React.Fragment, null,\r\n            React.createElement(\"link\", { rel: \"preconnect\", href: ytUrl }),\r\n            React.createElement(\"link\", { rel: \"preconnect\", href: \"https://www.google.com\" }),\r\n            adNetworkImp && (React.createElement(React.Fragment, null,\r\n                React.createElement(\"link\", { rel: \"preconnect\", href: \"https://static.doubleclick.net\" }),\r\n                React.createElement(\"link\", { rel: \"preconnect\", href: \"https://googleads.g.doubleclick.net\" })))))),\r\n        React.createElement(\"div\", { onPointerOver: warmConnections, onClick: addIframe, className: wrapperClassImp + \" \" + (iframe && activatedClassImp), \"data-title\": videoTitle, style: { backgroundImage: \"url(\" + posterUrl + \")\" } },\r\n            React.createElement(\"div\", { className: playerClassImp }),\r\n            iframe && (React.createElement(\"iframe\", { className: iframeClassImp, title: videoTitle, width: \"560\", height: \"315\", frameBorder: \"0\", allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\", allowFullScreen: true, src: iframeSrc })))));\r\n}\n\nexport default LiteYouTubeEmbed;\n//# sourceMappingURL=index.es.jsx.map\n","/**\n *\n * The shadowDom / Intersection Observer version of Paul's concept:\n * https://github.com/paulirish/lite-youtube-embed\n *\n * A lightweight YouTube embed. Still should feel the same to the user, just\n * MUCH faster to initialize and paint.\n *\n * Thx to these as the inspiration\n *   https://storage.googleapis.com/amp-vs-non-amp/youtube-lazy.html\n *   https://autoplay-youtube-player.glitch.me/\n *\n * Once built it, I also found these (üëçüëç):\n *   https://github.com/ampproject/amphtml/blob/master/extensions/amp-youtube\n *   https://github.com/Daugilas/lazyYT https://github.com/vb/lazyframe\n */\n/*\n * Vimeo example embed markup:\n<iframe src=\"https://player.vimeo.com/video/364402896\"\n  width=\"640\" height=\"360\"\n  frameborder=\"0\"\n  allow=\"autoplay; fullscreen\" allowfullscreen>\n</iframe>\n<p><a href=\"https://vimeo.com/364402896\">\n  Alex Russell - The Mobile Web: MIA</a> from\n    <a href=\"https://vimeo.com/fronteers\">Fronteers</a>\n    on <a href=\"https://vimeo.com\">Vimeo</a>.\n</p>\n */\nlet LiteVimeoEmbed = /** @class */ (() => {\n    class LiteVimeoEmbed extends HTMLElement {\n        constructor() {\n            super();\n            this.iframeLoaded = false;\n            this.setupDom();\n        }\n        static get observedAttributes() {\n            return ['videoid'];\n        }\n        connectedCallback() {\n            this.addEventListener('pointerover', LiteVimeoEmbed.warmConnections, {\n                once: true,\n            });\n            this.addEventListener('click', () => this.addIframe());\n        }\n        get videoId() {\n            return encodeURIComponent(this.getAttribute('videoid') || '');\n        }\n        set videoId(id) {\n            this.setAttribute('videoid', id);\n        }\n        get videoTitle() {\n            return this.getAttribute('videotitle') || 'Video';\n        }\n        set videoTitle(title) {\n            this.setAttribute('videotitle', title);\n        }\n        get videoPlay() {\n            return this.getAttribute('videoPlay') || 'Play';\n        }\n        set videoPlay(name) {\n            this.setAttribute('videoPlay', name);\n        }\n        get videoStartAt() {\n            return this.getAttribute('videoPlay') || '0s';\n        }\n        set videoStartAt(time) {\n            this.setAttribute('videoPlay', time);\n        }\n        get autoLoad() {\n            return this.hasAttribute('autoload');\n        }\n        set autoLoad(value) {\n            if (value) {\n                this.setAttribute('autoload', '');\n            }\n            else {\n                this.removeAttribute('autoload');\n            }\n        }\n        get autoPlay() {\n            return this.hasAttribute('autoplay');\n        }\n        set autoPlay(value) {\n            if (value) {\n                this.setAttribute('autoplay', 'autoplay');\n            }\n            else {\n                this.removeAttribute('autoplay');\n            }\n        }\n        /**\n         * Define our shadowDOM for the component\n         */\n        setupDom() {\n            const shadowDom = this.attachShadow({ mode: 'open' });\n            shadowDom.innerHTML = `\n      <style>\n        :host {\n          contain: content;\n          display: block;\n          position: relative;\n          width: 100%;\n          padding-bottom: calc(100% / (16 / 9));\n        }\n\n        #frame, #fallbackPlaceholder, iframe {\n          position: absolute;\n          width: 100%;\n          height: 100%;\n        }\n\n        #frame {\n          cursor: pointer;\n        }\n\n        #fallbackPlaceholder {\n          object-fit: cover;\n        }\n\n        #frame::before {\n          content: '';\n          display: block;\n          position: absolute;\n          top: 0;\n          background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);\n          background-position: top;\n          background-repeat: repeat-x;\n          height: 60px;\n          padding-bottom: 50px;\n          width: 100%;\n          transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);\n          z-index: 1;\n        }\n        /* play button */\n        .lvo-playbtn {\n          width: 70px;\n          height: 46px;\n          background-color: #212121;\n          z-index: 1;\n          opacity: 0.8;\n          border-radius: 10%;\n          transition: all 0.2s cubic-bezier(0, 0, 0.2, 1);\n          border: 0;\n        }\n        #frame:hover .lvo-playbtn {\n          background-color: rgb(98, 175, 237);\n          opacity: 1;\n        }\n        /* play button triangle */\n        .lvo-playbtn:before {\n          content: '';\n          border-style: solid;\n          border-width: 11px 0 11px 19px;\n          border-color: transparent transparent transparent #fff;\n        }\n        .lvo-playbtn,\n        .lvo-playbtn:before {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate3d(-50%, -50%, 0);\n        }\n\n        /* Post-click styles */\n        .lvo-activated {\n          cursor: unset;\n        }\n\n        #frame.lvo-activated::before,\n        .lvo-activated .lvo-playbtn {\n          display: none;\n        }\n      </style>\n      <div id=\"frame\">\n        <picture>\n          <source id=\"webpPlaceholder\" type=\"image/webp\">\n          <source id=\"jpegPlaceholder\" type=\"image/jpeg\">\n          <img id=\"fallbackPlaceholder\"\n               referrerpolicy=\"origin\"\n               width=\"1100\"\n               height=\"619\"\n               decoding=\"async\"\n               loading=\"lazy\">\n        </picture>\n        <button class=\"lvo-playbtn\"></button>\n      </div>\n    `;\n            this.domRefFrame = this.shadowRoot.querySelector('#frame');\n            this.domRefImg = {\n                fallback: this.shadowRoot.querySelector('#fallbackPlaceholder'),\n                webp: this.shadowRoot.querySelector('#webpPlaceholder'),\n                jpeg: this.shadowRoot.querySelector('#jpegPlaceholder'),\n            };\n            this.domRefPlayButton = this.shadowRoot.querySelector('.lvo-playbtn');\n        }\n        /**\n         * Parse our attributes and fire up some placeholders\n         */\n        setupComponent() {\n            this.initImagePlaceholder();\n            this.domRefPlayButton.setAttribute('aria-label', `${this.videoPlay}: ${this.videoTitle}`);\n            this.setAttribute('title', `${this.videoPlay}: ${this.videoTitle}`);\n            if (this.autoLoad) {\n                this.initIntersectionObserver();\n            }\n        }\n        /**\n         * Lifecycle method that we use to listen for attribute changes to period\n         * @param {*} name\n         * @param {*} oldVal\n         * @param {*} newVal\n         */\n        attributeChangedCallback(name, oldVal, newVal) {\n            switch (name) {\n                case 'videoid': {\n                    if (oldVal !== newVal) {\n                        this.setupComponent();\n                        // if we have a previous iframe, remove it and the activated class\n                        if (this.domRefFrame.classList.contains('lvo-activated')) {\n                            this.domRefFrame.classList.remove('lvo-activated');\n                            this.shadowRoot.querySelector('iframe').remove();\n                        }\n                    }\n                    break;\n                }\n                default:\n                    break;\n            }\n        }\n        /**\n         * Inject the iframe into the component body\n         */\n        addIframe() {\n            if (!this.iframeLoaded) {\n                /**\n                 * Vimeo example embed markup:\n                 *\n                 *  <iframe src=\"https://player.vimeo.com/video/364402896#t=1m3s\"\n                 *    width=\"640\" height=\"360\"\n                 *    frameborder=\"0\"\n                 *    allow=\"autoplay; fullscreen\" allowfullscreen>\n                 *  </iframe>\n                 */\n                // FIXME: add a setting for autoplay\n                const apValue = ((this.autoLoad && this.autoPlay) || (!this.autoLoad)) ?\n                    \"autoplay=1\" : \"\";\n                const srcUrl = new URL(`/video/${this.videoId}?${apValue}&#t=${this.videoStartAt}`, \"https://player.vimeo.com/\");\n                // TODO: construct src value w/ URL constructor\n                const iframeHTML = `\n<iframe frameborder=\"0\"\n  allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n  allowfullscreen src=\"${srcUrl}\"></iframe>`;\n                this.domRefFrame.insertAdjacentHTML('beforeend', iframeHTML);\n                this.domRefFrame.classList.add('lvo-activated');\n                this.iframeLoaded = true;\n            }\n        }\n        /**\n         * Setup the placeholder image for the component\n         */\n        async initImagePlaceholder() {\n            // TODO(slightlyoff): TODO: cache API responses\n            // we don't know which image type to preload, so warm the connection\n            LiteVimeoEmbed.addPrefetch('preconnect', 'https://i.vimeocdn.com/');\n            // API is the video-id based\n            // http://vimeo.com/api/v2/video/364402896.json\n            const apiUrl = `https://vimeo.com/api/v2/video/${this.videoId}.json`;\n            // Now fetch the JSON that locates our placeholder from vimeo's JSON API\n            const apiResponse = (await (await fetch(apiUrl)).json())[0];\n            // Extract the image id, e.g. 819916979, from a URL like:\n            // thumbnail_large: \"https://i.vimeocdn.com/video/819916979_640.jpg\"\n            const tnLarge = apiResponse.thumbnail_large;\n            const imgId = (tnLarge.substr(tnLarge.lastIndexOf(\"/\") + 1)).split(\"_\")[0];\n            // const posterUrlWebp =\n            //    `https://i.ytimg.com/vi_webp/${this.videoId}/hqdefault.webp`;\n            const posterUrlWebp = `https://i.vimeocdn.com/video/${imgId}.webp?mw=1100&mh=619&q=70`;\n            const posterUrlJpeg = `https://i.vimeocdn.com/video/${imgId}.jpg?mw=1100&mh=619&q=70`;\n            this.domRefImg.webp.srcset = posterUrlWebp;\n            this.domRefImg.jpeg.srcset = posterUrlJpeg;\n            this.domRefImg.fallback.src = posterUrlJpeg;\n            this.domRefImg.fallback.setAttribute('aria-label', `${this.videoPlay}: ${this.videoTitle}`);\n            this.domRefImg.fallback.setAttribute('alt', `${this.videoPlay}: ${this.videoTitle}`);\n        }\n        /**\n         * Setup the Intersection Observer to load the iframe when scrolled into view\n         */\n        initIntersectionObserver() {\n            if ('IntersectionObserver' in window &&\n                'IntersectionObserverEntry' in window) {\n                const options = {\n                    root: null,\n                    rootMargin: '0px',\n                    threshold: 0,\n                };\n                const observer = new IntersectionObserver((entries, observer) => {\n                    entries.forEach(entry => {\n                        if (entry.isIntersecting && !this.iframeLoaded) {\n                            LiteVimeoEmbed.warmConnections();\n                            this.addIframe();\n                            observer.unobserve(this);\n                        }\n                    });\n                }, options);\n                observer.observe(this);\n            }\n        }\n        /**\n         * Add a <link rel={preload | preconnect} ...> to the head\n         * @param {*} kind\n         * @param {*} url\n         * @param {*} as\n         */\n        static addPrefetch(kind, url, as) {\n            const linkElem = document.createElement('link');\n            linkElem.rel = kind;\n            linkElem.href = url;\n            if (as) {\n                linkElem.as = as;\n            }\n            linkElem.crossOrigin = 'true';\n            document.head.append(linkElem);\n        }\n        /**\n         * Begin preconnecting to warm up the iframe load Since the embed's netwok\n         * requests load within its iframe, preload/prefetch'ing them outside the\n         * iframe will only cause double-downloads. So, the best we can do is warm up\n         * a few connections to origins that are in the critical path.\n         *\n         * Maybe `<link rel=preload as=document>` would work, but it's unsupported:\n         * http://crbug.com/593267 But TBH, I don't think it'll happen soon with Site\n         * Isolation and split caches adding serious complexity.\n         */\n        static warmConnections() {\n            if (LiteVimeoEmbed.preconnected)\n                return;\n            // Host that Vimeo uses to serve JS needed by player\n            LiteVimeoEmbed.addPrefetch('preconnect', 'https://f.vimeocdn.com');\n            // The iframe document comes from player.vimeo.com\n            LiteVimeoEmbed.addPrefetch('preconnect', 'https://player.vimeo.com');\n            // Image for placeholder comes from i.vimeocdn.com\n            LiteVimeoEmbed.addPrefetch('preconnect', 'https://i.vimeocdn.com');\n            LiteVimeoEmbed.preconnected = true;\n        }\n    }\n    LiteVimeoEmbed.preconnected = false;\n    return LiteVimeoEmbed;\n})();\nexport { LiteVimeoEmbed };\n// Register custom element\ncustomElements.define('lite-vimeo', LiteVimeoEmbed);\n//# sourceMappingURL=lite-vimeo.js.map","import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport thumb from '../../images/thump-video-example.png';\r\nimport { API_URL } from '../../config';\r\nimport Picture from '../Picture';\r\nimport { Link } from 'react-router-dom';\r\nimport LiteYouTubeEmbed from 'react-lite-youtube-embed';\r\nimport '@slightlyoff/lite-vimeo';\r\n\r\nfunction BlockVideo({\r\n  data = {},\r\n  title = '',\r\n  showReadmore = false,\r\n}: {\r\n  data: any;\r\n  title: string;\r\n  showReadmore: boolean;\r\n}) {\r\n  return data && data.video ? (\r\n    <section className=\"blk-video\">\r\n      <div className=\"container\">\r\n        {title ? <h3 className=\"title-block\">{title}</h3> : ''}\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-7 col-md-12 col-12 p-0\">\r\n            <div className=\"wrapper-video\">\r\n              {data?.video?.id ? (\r\n                data?.video?.publisher === 'vimeo' ? (\r\n                  <div\r\n                    className=\"video-vimeo\"\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: `<lite-vimeo videoid=\"${data?.video?.id}\" style=\"width: 100%; height: 100%;\"></lite-vimeo>`,\r\n                    }}\r\n                  ></div>\r\n                ) : (\r\n                  <LiteYouTubeEmbed\r\n                    id={data?.video?.id}\r\n                    title={data?.video?.placeholder || ''}\r\n                    activatedClass=\"lyt-activated\"\r\n                    playerClass=\"lty-playbtn\"\r\n                    wrapperClass=\"yt-lite\"\r\n                  />\r\n                )\r\n              ) : data.video.file ? (\r\n                <video\r\n                  src={`${API_URL + data.video.file.url}`}\r\n                  controls\r\n                  poster={thumb}\r\n                ></video>\r\n              ) : (\r\n                ''\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-5 col-md-12 col-12 p-0\">\r\n            <div className=\"content-video\">\r\n              <div className=\"content\">\r\n                <div className=\"logo\">\r\n                  {data?.logo?.original ? <Picture data={data?.logo} /> : ''}\r\n                </div>\r\n                <h2 dangerouslySetInnerHTML={{ __html: data.text }}></h2>\r\n                {showReadmore && (data?.link || data?.product) ? (\r\n                  <Link\r\n                    to={\r\n                      data?.link && data?.link?.relative_url\r\n                        ? `${data?.link?.relative_url}`\r\n                        : data?.product\r\n                        ? `/brand/${data?.product?.brand_page?.page_ptr?.handle}/${data?.product.handle}`\r\n                        : '/'\r\n                    }\r\n                  >\r\n                    {data?.link && data?.link?.relative_url\r\n                      ? `Read now`\r\n                      : data?.product\r\n                      ? 'Shop now'\r\n                      : ''}\r\n                  </Link>\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n\r\nBlockVideo.propTypes = {\r\n  item: PropTypes.object,\r\n};\r\n\r\nexport default memo(BlockVideo);\r\n"],"sourceRoot":""}