{"version":3,"sources":["components/CarouselVideo/index.tsx","components/BlockCarousel/index.tsx"],"names":["CarouselVideo","width","src","type","link","muted","autoplay","loop","videoPreview","className","style","height","isMobile","autoPlay","to","memo","Carousel","slides","dragOrAuto","maxWidth","maxHeight","hasText","useState","indexSlide","setIndexSlide","productLinks","setProductLinks","userReducer","useSelector","state","useEffect","a","routeProductPage","routes","find","route","name","path","pending","productLinkArr","length","forEach","slide","i","product","obj","index","productLink","push","options","url","GET_PRODUCT_DETAIL","id","method","body","fetchClient","Promise","all","replace","brand_page","page_ptr","slug","handle","fetch","sliderHeight","isTablet","window","innerHeight","Slider","onSlideComplete","activeIndex","threshHold","transition","scaleOnDrag","isSquare","slideInterval","filter","show_only_for_user","user","map","item","x","onClick","href","loginPopup","btnLogins","document","querySelectorAll","btnLogin","click","location","handleClickCarousel","full_url","login_popup","video","Picture","data","background","text","dangerouslySetInnerHTML","__html"],"mappings":"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","file":"static/js/50.d3a5ed82.chunk.js","sourcesContent":["import React, { memo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nexport interface ICarouselVideo {\r\n  width?: string;\r\n  src: string;\r\n  type: string;\r\n  link?: string;\r\n  muted?: boolean;\r\n  autoplay?: boolean;\r\n  loop?: boolean;\r\n}\r\n\r\nfunction CarouselVideo({\r\n  width = '100%',\r\n  src,\r\n  type,\r\n  link,\r\n  muted = true,\r\n  autoplay = true,\r\n  loop = true,\r\n}: ICarouselVideo) {\r\n  const videoPreview = () => {\r\n    return (\r\n      <div className=\"video-wrapper\">\r\n        <video\r\n          style={{\r\n            width: width,\r\n            height: isMobile ? 'auto' : '100%',\r\n          }}\r\n          className=\"video-preview\"\r\n          muted={muted}\r\n          autoPlay={autoplay}\r\n          loop={loop}\r\n        >\r\n          <source src={src} type={type} />\r\n        </video>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (link) {\r\n    return <Link to={link}>{videoPreview()}</Link>;\r\n  } else {\r\n    {\r\n      return videoPreview();\r\n    }\r\n  }\r\n}\r\n\r\nCarouselVideo.propTypes = {\r\n  item: PropTypes.object,\r\n};\r\n\r\nexport default memo(CarouselVideo);\r\n","import React, { memo, useEffect, useState } from 'react';\r\nimport Picture from '../Picture';\r\nimport Slider from '../Slider';\r\nimport { isMobile, isTablet } from '../../DetectScreen';\r\nimport CarouselVideo from '../CarouselVideo';\r\nimport { fetchClient } from '../../redux/Helpers';\r\nimport { GET_PRODUCT_DETAIL } from '../../config';\r\nimport routes from '../../routes/routeModel';\r\nimport { RootStateOrAny, useSelector } from 'react-redux';\r\n\r\nfunction Carousel({\r\n  slides,\r\n  dragOrAuto = false,\r\n  maxWidth,\r\n  maxHeight,\r\n  hasText = false,\r\n}: {\r\n  slides: any;\r\n  dragOrAuto: boolean;\r\n  maxWidth?: string;\r\n  maxHeight?: string;\r\n  hasText?: boolean;\r\n}): JSX.Element {\r\n  const [indexSlide, setIndexSlide] = useState(0);\r\n  const [productLinks, setProductLinks] = useState([]);\r\n\r\n  const userReducer = useSelector((state: RootStateOrAny) => state?.userReducer);\r\n\r\n  useEffect(() => {\r\n    async function fetch() {\r\n      const routeProductPage: any = routes?.find(\r\n        (route) => route.name == 'Product Detail Page',\r\n      )?.path;\r\n      const pending: any = [];\r\n      const productLinkArr: any = [];\r\n      if (slides?.length > 0) {\r\n        slides.forEach((slide: any, i: any) => {\r\n          if (slide?.product) {\r\n            const obj: any = {};\r\n            obj.index = i;\r\n            obj.productLink = slide?.product;\r\n            productLinkArr.push(obj);\r\n            const options = {\r\n              url: `${GET_PRODUCT_DETAIL}${slide?.product?.id}/`,\r\n              method: 'GET',\r\n              body: null,\r\n            };\r\n            pending.push(fetchClient(options));\r\n          }\r\n        });\r\n      }\r\n      try {\r\n        const productLinks: any = [];\r\n        const results = await Promise.all(pending);\r\n        results.forEach((product: any) => {\r\n          const obj: any = {};\r\n          obj.id = product.id;\r\n          obj.url = routeProductPage\r\n            .replace(':IDBrand', product?.brand_page?.page_ptr?.slug)\r\n            .replace(':IDProduct', product.handle);\r\n          productLinks.push(obj);\r\n        });\r\n        setProductLinks(productLinks);\r\n      } catch {}\r\n    }\r\n\r\n    fetch();\r\n  }, [slides]);\r\n\r\n  const sliderHeight = isTablet ? 135 : isMobile ? 120 : window.innerHeight - 192;\r\n  const defaultHeight = 737; // max-height applied for large screen;\r\n\r\n  const handleClickCarousel = (href: any, loginPopup: any) => {\r\n    if (loginPopup) {\r\n      const btnLogins: any = document.querySelectorAll(`.btn-login`);\r\n      btnLogins?.forEach((btnLogin: any) => {\r\n        btnLogin.click();\r\n      });\r\n      return;\r\n    }\r\n    if (href) {\r\n      window.location.href = href;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"blk-carousel\">\r\n      <div\r\n        className={`carousel-block ${hasText && 'has-text'}`}\r\n        style={{\r\n          maxWidth: maxWidth ? `${maxWidth}px` : '',\r\n          maxHeight: (sliderHeight > defaultHeight ? defaultHeight : sliderHeight) + 'px',\r\n          height: sliderHeight,\r\n        }}\r\n      >\r\n        <Slider\r\n          onSlideComplete={setIndexSlide}\r\n          // onSlideStart={(i) => {\r\n          //   console.log('started dragging on slide', i);\r\n          // }}\r\n          activeIndex={indexSlide}\r\n          threshHold={isMobile ? 100 : 500}\r\n          transition={isMobile ? 0.2 : 0.8}\r\n          scaleOnDrag={false}\r\n          isSquare={false}\r\n          dragOrAuto={dragOrAuto}\r\n          slideInterval={5000}\r\n        >\r\n          {slides\r\n            ?.filter((slide: any) => {\r\n              if (slide?.show_only_for_user == 'logged_in_user_only') {\r\n                if (!userReducer?.user) {\r\n                  return false;\r\n                }\r\n              }\r\n              if (slide?.show_only_for_user == 'guest_user_only') {\r\n                if (userReducer?.user) {\r\n                  return false;\r\n                }\r\n              }\r\n              return true;\r\n            })\r\n            ?.map((item: any, index: number) => {\r\n              const productLink: any = productLinks?.find(\r\n                (x: any) => x?.id == item?.product?.id,\r\n              );\r\n              return (\r\n                <div key={index} className=\"animated faster fadeIn\">\r\n                  {dragOrAuto ? (\r\n                    <a\r\n                      className=\"nav-link-full-img\"\r\n                      onClick={() =>\r\n                        handleClickCarousel(\r\n                          item?.link\r\n                            ? item?.link?.full_url\r\n                            : productLink\r\n                            ? productLink?.url\r\n                            : '',\r\n                          item?.login_popup,\r\n                        )\r\n                      }\r\n                    ></a>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                  {item.video && item.video.src.length ? (\r\n                    <CarouselVideo src={item.video.src[0].src} type={item.video.src[0].type} />\r\n                  ) : (\r\n                    <Picture\r\n                      data={{ ...item.background, maxHeight: maxHeight, maxWidth: maxWidth }}\r\n                    />\r\n                  )}\r\n                  {item?.text ? (\r\n                    <div\r\n                      className=\"content-slide\"\r\n                      dangerouslySetInnerHTML={{ __html: item?.text }}\r\n                    ></div>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n        </Slider>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default memo(Carousel);\r\n"],"sourceRoot":""}