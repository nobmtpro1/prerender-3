{"version":3,"sources":["images/icons/wishlist-regular.svg","images/icons/triangle-top.svg","images/icons/triangle-bottom.svg","images/icons/triangle.svg","images/icons/ic-messenger.svg","components/BlockShareSocial/index.tsx","components/LightboxImages/index.tsx","components/ProductDetail/index.tsx","containers/ProductPage/index.tsx","images/icons/addToCart-white.svg","images/icons/star-solid.svg","images/icons/star-regular.svg","components/BlockTitle/index.tsx","components/BlockProduct/itemProduct.tsx","images/icons/wishlist-gold-regular.svg","components/ProductDetail/modal.tsx","images/icons/chevron-left-solid.svg","images/icons/chevron-right-solid.svg","components/BlockProduct/index.tsx","images/block-questionnaire/logo.png","components/BlockQuestionnaire/BlockProduct/itemProduct.tsx","components/BlockQuestionnaire/BlockProduct/index.tsx","images/block-questionnaire/left-arrow.svg","images/block-questionnaire/home.svg","components/BlockQuestionnaire/index.tsx","images/icons/star-half-solid.svg","images/icons/collection-male.svg","images/icons/collection-female.svg","images/icons/collection-unisex.svg","images/icons/wishlist-solid.svg","images/icons/sundora-icons.svg","images/product-note-top-title.png","components/ProductNoteModal/index.tsx","images/scent-strength.png","images/icons/auth-primary.png","images/icons/freeShipping-primary.png","components/Slider/Slide.tsx","components/Slider/index.tsx"],"names":["BlockShareSocial","props","useState","fbClientID","setFBClientID","timeBeforeShare","setTimeBeforeShare","width","height","handleBeforeShare","a","time","moment","Date","handleShareSuccess","type","localStorage","getItem","end","duration","diff","seconds","asSeconds","options","url","POST_EARN_POINT_SHARE_SOCIAL","method","body","fetchClient","then","res","success","toastrSuccess","useEffect","GET_SOCIAL_MEDIA_CLIENT_IDS","data","find","i","provider","client_id","className","FacebookShareButton","windowPosition","window","location","href","beforeOnClick","onShareWindowClose","network","bgColor","fgColor","style","WhatsappShareButton","FacebookMessengerShareButton","appId","src","icMessenger","alt","memo","LightboxImages","isOpenLightboxImages","setIsOpenLightboxImages","imageList","photoIndex","setPhotoIndex","isOpen","setIsOpen","images","setImages","document","querySelector","classList","add","remove","arrImages","forEach","image","push","original","mainSrc","nextSrc","length","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","ProductDetail","handleOpenModalNote","handleOutStockProduct","defaultVariant","inventory","isWishListChecked","indexSlide","setIndexSlide","variant_id","quantity","checkOutValue","setCheckOutValue","price","setPrice","discountedPrice","setDiscountedPrice","state","useSelector","productReducer","isWishList","setIsWishList","inventoryVariant","setInventoryVariant","dataGender","setDataGender","tagsCollapse","setTagsCollapse","media","setMedia","currentVariantDiscount","setCurrentVariantDiscount","dispatch","useDispatch","discount","handleOpenModal","calculatePriceDiscount","value","discountValue","parseFloat","sortIndexMedia","b","position","index","unisex","collections","handle","gender","tagsCollapseTemp","map","translated_tags","id","product_videos","videos","mediaClone","sortMedia","sortBy","sort","invenVariant","handleInventory","inventory_quantity","titleVariant","product_variants","title","name","toastrWarning","MAXIMUM_QUANTITY_ADDING_TO_CART","PHONE_CONTACT","dataFilterOlScent","filter","scents","item","dataTopScent","dataHeartScent","dataBaseScent","sum","sumBy","reviews","star","avg","Number","Math","round","toFixed","visibility","Slider","onSlideComplete","activeIndex","threshHold","isMobile","transition","scaleOnDrag","isSquare","dragOrAuto","onClick","Picture","loading","itemProp","poster","preview_image","controls","mobile","webp","brand","tags","PERFUME_TYPE_TAGS","includes","toLowerCase","PERFUME_TYPE_MAP","getPerfumeType","content","iconMale","iconFemale","iconUnisex","starIcon","starSolidIcon","starHaftIcon","olfactoryIcon","triangleTopIcon","triangleIcon","triangleBottomIcon","tagId","setItemTagsCollapse","key","isEmpty","isOpened","product_options","slice","reverse","e","toUpperCase","placeholder","searchable","multi","itemRenderer","methods","disabled","addItem","isSelected","labelField","onChange","handleChangeVariant","valueField","values","readOnly","moneyFormater","stopPropagation","lineItems","findIndex","copyArr","newData","addProductToCart","action","actionHome","addIcon","GET_WISHLIST","product_id","wishListActiveIcon","wishListIcon","Loader","lazy","Footer","BlockVideo","VideoBlock","BlockIcon","BlockCarousel","BlockSpotlight","CountDownBlock","BlockBlogs","ProductPage","dataNav","setDataNav","setLoading","dataFooter","setDataFooter","visibleModalNote","setVisibleModalNote","dataModal","setDataModal","dataProductDetail","setDataProductDetail","dataBrandPage","setDataBrandPage","setDefaultVariant","bodyDetailProduct","setBodyDetailProduct","timeStamp","setTimeStamp","dataProductInventoryModal","setDataProductInventoryModal","visibleModalOutStock","setVisibleModalOutStock","setImage","refFooter","useRef","navReducer","dataIcon","icons","text","icon_image","AuthPrimaryIcon","freeShippingPrimaryIcon","ref","fetchDataInit","IDProduct","match","params","undefined","GET_PRODUCT_DETAIL","optionsInventory","pending","Promise","all","results","dataProduct","brand_page","brandPage","visible","body_html","wishlist","checked","fetchNavData","fetchCMSHomepage","NAV_PAGE_SLUG","handleScroll","current","pageYOffset","clientHeight","getBoundingClientRect","top","scroller","footer","handleToggleModal","addEventListener","removeEventListener","addScriptForProduct","removeScriptProductDetail","navAction","error","dataDynamicLinks","get","timestamp","navigation","dataVideo","introduction","link","video_link","video","publisher","video_publisher","file","dataReview","count","SEOData","getSeoDataFromMetaFields","metafields","itemType","itemScope","defer","SEOTitle","property","SEODes","SEO_DESCRIPTION","product_banner","page_ptr","relative_url","iconList","dangerouslySetInnerHTML","__html","showReadmore","created_at","format","fontWeight","color","marginLeft","comment","paddingBottom","slides","maxWidth","max_width","headline","items","rows","BlockTitle","big","top_left","bottom_left","BlockProduct","productList","products","blogList","BlockQuestionnaire","BlockModal","minWidth","maskBg","onKeyPress","onClickAway","ProductNoteModal","ariaHideApp","onRequestClose","overlay","zIndex","background","display","justifyContent","setItem","message","styleDiv","styleText","itemProduct","isInHomePage","productItem","handleModalProduct","itemProductRef","setVideo","keyEndpoint","history","useHistory","videoFirst","variants","brandName","willShowDiscount","show","max_discount","show_on_detail_page","show_on_homepage","countNumberOfDiscount","to","autoPlay","muted","loop","sale","toString","getDiscountedPrice","getDiscountPriceOfLowestProductPrice","isDesktop","ProductDetailModal","handleModalClose","setTags","mergeSimilarTranslatedTags","translateTags","returnedTags","foundTag","tag","marginTop","hasScrollButtons","visibleModalDetail","setVisibleModalDetail","dataProductInventory","setDataProductInventory","dataNoteModal","setDataNoteModal","scrl","scrollX","setscrollX","scrolEnd","setscrolEnd","slide","shift","scrollLeft","floor","scrollWidth","offsetWidth","product","productUrl","LEFTARROW","onScroll","RIGHTARROW","fixed_rebate","variant","icAddToCart","subTitle","selectedIndex","setSelectedIndex","handleSlider","selected","fillParent","mobileTouch","buttons","bullets","onTransitionEnd","currentIndex","marginBottom","dataQuestionnaire","setDataQuestionnaire","question","setQuestion","questionSliderIndex","setQuestionSliderIndex","questionIndex","answerKey","answerTemp","setAnswerTemp","loadingProduct","setLoadingProduct","dotClick","setDotClick","setProducts","productNotExists","setProductNotExists","lastQuestion","setLastQuestion","GET_QUESTIONNAIRE","handleBackOrReStartQuestion","questionClone","pop","handleGetProduct","childQuestion","children","parent_answer","questionnaire_id","collection","scent","questionParent","answer","questionTemp","handleQuestion","backgroundImage","backgroundSize","DotLoader","icBack","icHome","SundoraLogo","padding","handleAnswerTemp","Array","from","keys","handleQuestionSliderDot","description","strength","scentbg","nof_products","Slide","child","sliderWidth","sliderHeight","isSquareWrapper","slideRef","onMouseDown","transform","onMouseUp","clientWidth","innerHeight","unselectable","onTouchStart","onTouchEnd","onMouseLeave","onDragStart","preventDefault","getPositionX","event","pageX","touches","clientX","getElementDimensions","onSlideStart","slideInterval","dimensions","setDimensions","dragging","startPos","currentTranslate","prevTranslate","sliderRef","animationRef","btnDotClick","setBtnDotClick","setPositionByIndex","useCallback","w","setSliderPosition","transitionOn","touchStart","requestAnimationFrame","animation","cursor","touchMove","currentPosition","touchEnd","cancelAnimationFrame","movedBy","useLayoutEffect","elementDimensions","intervalCheckWidth","setInterval","clearInterval","handleResize","handleKeyDown","arrowsPressed","setIndexTransitionInterval","keyIndexInterval","auto","setTimeout","clearTimeout","onContextMenu","onTouchMove","onMouseMove"],"mappings":"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","file":"static/js/26.b04b2d1c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/wishlist-regular.7bf10414.svg\";","export default __webpack_public_path__ + \"static/media/triangle-top.abcc91b0.svg\";","export default __webpack_public_path__ + \"static/media/triangle-bottom.a6421f0b.svg\";","export default __webpack_public_path__ + \"static/media/triangle.2183d409.svg\";","export default __webpack_public_path__ + \"static/media/ic-messenger.ab804543.svg\";","import React, { memo, useEffect, useState } from 'react';\r\nimport { SocialIcon } from 'react-social-icons';\r\nimport './block-share-social.scss';\r\nimport icMessenger from '../../images/icons/ic-messenger.svg';\r\nimport {\r\n  FacebookShareButton,\r\n  FacebookMessengerShareButton,\r\n  WhatsappShareButton,\r\n} from 'react-share';\r\nimport { GET_SOCIAL_MEDIA_CLIENT_IDS, POST_EARN_POINT_SHARE_SOCIAL } from '../../config';\r\nimport { fetchClient, toastrSuccess } from '../../redux/Helpers';\r\nimport moment from 'moment';\r\n\r\ndeclare type Type = 'facebook' | 'whatsapp' | 'messenger';\r\n\r\nfunction BlockShareSocial(props: any): JSX.Element {\r\n  const [fbClientID, setFBClientID] = useState<any>('');\r\n  const [timeBeforeShare, setTimeBeforeShare] = useState<any>('');\r\n  const [width, height] = [props?.width ?? 45, props?.height ?? 45];\r\n\r\n  const handleBeforeShare = async () => {\r\n    const time = moment(new Date());\r\n    setTimeBeforeShare(time);\r\n  };\r\n\r\n  const handleShareSuccess = async (type: Type) => {\r\n    const token = localStorage.getItem('sundoraToken');\r\n    if (!token) {\r\n      return;\r\n    }\r\n\r\n    const end = moment(new Date());\r\n    const duration = moment.duration(end.diff(timeBeforeShare));\r\n    const seconds = duration.asSeconds();\r\n\r\n    const options = {\r\n      url: POST_EARN_POINT_SHARE_SOCIAL,\r\n      method: 'POST',\r\n      body: {\r\n        type,\r\n      },\r\n    };\r\n\r\n    if (\r\n      (type == 'facebook' && seconds < 8) ||\r\n      (type == 'whatsapp' && seconds < 8) ||\r\n      (type == 'messenger' && seconds < 10) ||\r\n      (type == 'facebook' && seconds > 60) ||\r\n      (type == 'whatsapp' && seconds > 60) ||\r\n      (type == 'messenger' && seconds > 60)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    fetchClient(options).then((res) => {\r\n      if (res.success) {\r\n        toastrSuccess('You have received points for sharing the product');\r\n        return;\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const options = {\r\n      url: GET_SOCIAL_MEDIA_CLIENT_IDS,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n    fetchClient(options).then((res: any) => {\r\n      if (res.success) {\r\n        setFBClientID(res?.data.find((i: any) => i.provider == 'facebook')?.client_id);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={`blk-share-social ${props?.className}`}>\r\n      <div className=\"group-social\">\r\n        <FacebookShareButton\r\n          windowPosition=\"windowCenter\"\r\n          url={window.location.href}\r\n          beforeOnClick={() => handleBeforeShare()}\r\n          onShareWindowClose={() => handleShareSuccess('facebook')}\r\n        >\r\n          <SocialIcon\r\n            network=\"facebook\"\r\n            bgColor=\"#ffffff\"\r\n            fgColor=\"#000000\"\r\n            style={{ width: width, height: height }}\r\n          />\r\n        </FacebookShareButton>\r\n        <WhatsappShareButton\r\n          url={window.location.href}\r\n          beforeOnClick={() => handleBeforeShare()}\r\n          onShareWindowClose={() => handleShareSuccess('whatsapp')}\r\n        >\r\n          <SocialIcon\r\n            network=\"whatsapp\"\r\n            bgColor=\"#ffffff\"\r\n            fgColor=\"#000000\"\r\n            style={{ width: width, height: height }}\r\n          />\r\n        </WhatsappShareButton>\r\n        <FacebookMessengerShareButton\r\n          appId={fbClientID}\r\n          url={window.location.href}\r\n          className=\"div-img\"\r\n          beforeOnClick={() => handleBeforeShare()}\r\n          onShareWindowClose={() => handleShareSuccess('messenger')}\r\n        >\r\n          <img src={icMessenger} alt=\"ic-mess\" width={width} height={height} />\r\n        </FacebookMessengerShareButton>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockShareSocial);\r\n","import React, { useState, useEffect } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css'; // This only needs to be imported once in your app\r\n\r\nconst LightboxImages = ({\r\n  isOpenLightboxImages,\r\n  setIsOpenLightboxImages,\r\n  imageList,\r\n}: {\r\n  isOpenLightboxImages: any;\r\n  setIsOpenLightboxImages: any;\r\n  imageList: any;\r\n}) => {\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [images, setImages] = useState([\r\n    '//placekitten.com/1500/500',\r\n    '//placekitten.com/4000/3000',\r\n    '//placekitten.com/800/1200',\r\n    '//placekitten.com/1500/1500',\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setIsOpen(isOpenLightboxImages === false ? false : true);\r\n    setPhotoIndex(isOpenLightboxImages >= 0 ? isOpenLightboxImages : 0);\r\n    const noScroll = () => {\r\n      const html: any = document.querySelector('html');\r\n      html.classList.add('noscroll');\r\n    };\r\n    const resetScroll = () => {\r\n      const html: any = document.querySelector('html');\r\n      html.classList.remove('noscroll');\r\n    };\r\n    if (isOpenLightboxImages !== false) {\r\n      noScroll();\r\n    } else {\r\n      resetScroll();\r\n    }\r\n  }, [isOpenLightboxImages]);\r\n\r\n  useEffect(() => {\r\n    const arrImages: any = [];\r\n    imageList.forEach((image: any) => {\r\n      arrImages.push(image?.url?.original);\r\n    });\r\n    setImages(arrImages);\r\n  }, [imageList]);\r\n\r\n  return (\r\n    <div>\r\n      {isOpen === true && (\r\n        <Lightbox\r\n          mainSrc={images[photoIndex]}\r\n          nextSrc={images[(photoIndex + 1) % images.length]}\r\n          prevSrc={images[(photoIndex + images.length - 1) % images.length]}\r\n          onCloseRequest={() => setIsOpenLightboxImages(false)}\r\n          onMovePrevRequest={() =>\r\n            setPhotoIndex((photoIndex + images.length - 1) % images.length)\r\n          }\r\n          onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % images.length)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LightboxImages;\r\n","import React, { memo, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Slider from '../Slider';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport Picture from '../Picture';\r\nimport starSolidIcon from '../../images/icons/star-solid.svg';\r\nimport starIcon from '../../images/icons/star-regular.svg';\r\nimport starHaftIcon from '../../images/icons/star-half-solid.svg';\r\nimport iconMale from '../../images/icons/collection-male.svg';\r\nimport iconFemale from '../../images/icons/collection-female.svg';\r\nimport iconUnisex from '../../images/icons/collection-unisex.svg';\r\nimport wishListIcon from '../../images/icons/wishlist-solid.svg';\r\nimport wishListActiveIcon from '../../images/icons/wishlist-regular.svg';\r\nimport olfactoryIcon from '../../images/icons/sundora-icons.svg';\r\nimport triangleTopIcon from '../../images/icons/triangle-top.svg';\r\nimport triangleBottomIcon from '../../images/icons/triangle-bottom.svg';\r\nimport triangleIcon from '../../images/icons/triangle.svg';\r\nimport addIcon from '../../images/icons/addToCart-white.svg';\r\nimport { fetchClient, moneyFormater, toastrWarning } from '../../redux/Helpers';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport * as action from '../../redux/product/actions';\r\nimport * as actionHome from '../../redux/home/actions';\r\nimport {\r\n  GET_WISHLIST,\r\n  MAXIMUM_QUANTITY_ADDING_TO_CART,\r\n  PERFUME_TYPE_MAP,\r\n  PERFUME_TYPE_TAGS,\r\n  PHONE_CONTACT,\r\n} from '../../config';\r\nimport { filter, find, isEmpty, map, sortBy, sumBy } from 'lodash';\r\nimport { addProductToCart } from '../../utils/helpers/productTracker';\r\nimport BlockShareSocial from '../BlockShareSocial';\r\nimport { Collapse } from 'react-collapse';\r\nimport Select from 'react-dropdown-select';\r\nimport LightboxImages from '../LightboxImages';\r\n\r\nfunction ProductDetail({\r\n  handleOpenModalNote,\r\n  handleOutStockProduct,\r\n  data,\r\n  defaultVariant,\r\n  inventory,\r\n  isWishListChecked,\r\n}: {\r\n  handleOpenModalNote: any;\r\n  handleOutStockProduct: any;\r\n  data: any;\r\n  defaultVariant: any;\r\n  inventory: any;\r\n  isWishListChecked: boolean;\r\n}): JSX.Element {\r\n  const [indexSlide, setIndexSlide] = useState(0);\r\n  const [checkOutValue, setCheckOutValue] = useState<any>({ variant_id: null, quantity: 1 });\r\n  const [price, setPrice] = useState<any>();\r\n  const [discountedPrice, setDiscountedPrice] = useState<any>();\r\n  const state = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const [isWishList, setIsWishList] = useState<any>(null);\r\n  const [inventoryVariant, setInventoryVariant] = useState<any>({});\r\n  const [dataGender, setDataGender] = useState<any>({});\r\n  const [tagsCollapse, setTagsCollapse] = useState<any>({});\r\n  const [media, setMedia] = useState<any>([]);\r\n  const [isOpenLightboxImages, setIsOpenLightboxImages] = useState<any>(false);\r\n  const [currentVariantDiscount, setCurrentVariantDiscount] = useState<any>(null);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setCurrentVariantDiscount(defaultVariant?.discount);\r\n  }, [defaultVariant]);\r\n\r\n  const handleOpenModal = (data: any) => {\r\n    handleOpenModalNote(data);\r\n  };\r\n\r\n  const calculatePriceDiscount = (value: any, discountValue: any) => {\r\n    return (parseFloat(value) * (100 - parseFloat(discountValue || 0))) / 100;\r\n  };\r\n\r\n  const handleChangeVariant = (data: any) => {\r\n    setCheckOutValue({ ...data, quantity: 1 });\r\n    setPrice(data?.price);\r\n    setDiscountedPrice(calculatePriceDiscount(data?.price, data?.discount));\r\n    setCurrentVariantDiscount(data?.discount);\r\n  };\r\n\r\n  const sortIndexMedia = (a: any, b: any) => {\r\n    if (a.type == 'video' && a.position <= b.position) {\r\n      return 0;\r\n    }\r\n    if (a.type == 'video' && a.position > b.position) {\r\n      if (a.position == b.index || a.position < b.index) {\r\n        return -1;\r\n      }\r\n    }\r\n    return 1;\r\n  };\r\n\r\n  const getPerfumeType = (tags: string[]): string => {\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (PERFUME_TYPE_TAGS.includes(tags[i].toLowerCase()))\r\n        return PERFUME_TYPE_MAP[tags[i].toLowerCase()];\r\n    }\r\n    return '';\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIndexSlide(0);\r\n\r\n    // Gender icon\r\n    const unisex = find(data?.collections, (i: any) => i.handle == 'unisex');\r\n    if (unisex) {\r\n      setDataGender(unisex);\r\n    } else {\r\n      const gender = find(\r\n        data?.collections,\r\n        (i: any) => i.handle == 'man' || i.handle == 'woman',\r\n      );\r\n      setDataGender(gender);\r\n    }\r\n\r\n    // Tags collapse\r\n    const tagsCollapseTemp: any = {};\r\n    map(data?.translated_tags, (i: any) => {\r\n      tagsCollapseTemp[i.id] = true;\r\n    });\r\n    setTagsCollapse(tagsCollapseTemp);\r\n\r\n    // Images and Videos\r\n    if (data?.images && data?.product_videos) {\r\n      const videos = map(data?.product_videos, (i: any) => {\r\n        return {\r\n          ...i,\r\n          type: 'video',\r\n        };\r\n      });\r\n      const images = map(data?.images, (i: any) => {\r\n        return {\r\n          ...i,\r\n          type: 'image',\r\n        };\r\n      });\r\n      const mediaClone = [...videos, ...images];\r\n      const sortMediaPosition = sortBy(mediaClone, ['position', 'preview_image']);\r\n      const sortMedia = sortMediaPosition\r\n        .map((i: any, index: any) => {\r\n          return { ...i, index: ++index };\r\n        })\r\n        .sort(sortIndexMedia);\r\n\r\n      setMedia(sortMedia);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    setCheckOutValue({ ...defaultVariant, quantity: 1 });\r\n    if (defaultVariant?.price) {\r\n      setPrice(defaultVariant?.price);\r\n      if (defaultVariant?.discount) {\r\n        setDiscountedPrice(\r\n          calculatePriceDiscount(defaultVariant?.price, defaultVariant?.discount),\r\n        );\r\n      }\r\n    }\r\n    setIsWishList(null);\r\n    setCheckOutValue;\r\n  }, [defaultVariant]);\r\n\r\n  useEffect(() => {\r\n    const invenVariant = find(\r\n      inventory,\r\n      (i: any) => i.variant_id == checkOutValue?.variant_id,\r\n    );\r\n    setInventoryVariant(invenVariant);\r\n  }, [inventory, checkOutValue]);\r\n\r\n  const setItemTagsCollapse = (tagId: any) => {\r\n    const item: any = {};\r\n    item[tagId] = !tagsCollapse[tagId];\r\n    setTagsCollapse({ ...tagsCollapse, ...item });\r\n  };\r\n\r\n  const handleCheckoutProduct = (e: any) => {\r\n    e.stopPropagation();\r\n    if (!handleInventory('checkout')) {\r\n      return;\r\n    }\r\n    const index = state?.lineItems.findIndex(function (e: any) {\r\n      return e.variant_id == checkOutValue.variant_id;\r\n    });\r\n    const copyArr = [...state?.lineItems];\r\n\r\n    let quantity = checkOutValue?.quantity;\r\n    if (index != -1) {\r\n      quantity = state?.lineItems[index].quantity + checkOutValue.quantity;\r\n      const newData = {\r\n        variant_id: checkOutValue.variant_id,\r\n        quantity: quantity,\r\n      };\r\n      copyArr[index] = newData;\r\n    } else {\r\n      copyArr.push(checkOutValue);\r\n    }\r\n\r\n    addProductToCart({\r\n      ...data,\r\n      variant_id: checkOutValue?.variant_id,\r\n      price: calculatePriceDiscount(checkOutValue?.price, checkOutValue?.discount),\r\n      title: checkOutValue?.title,\r\n      quantity: quantity,\r\n    });\r\n\r\n    dispatch(action.checkoutProduct(copyArr));\r\n\r\n    dispatch(actionHome.toggleShoppingbag(true));\r\n  };\r\n\r\n  const decrement = () => {\r\n    setCheckOutValue({ ...checkOutValue, quantity: checkOutValue.quantity - 1 });\r\n    setPrice(parseFloat(checkOutValue?.price) * (checkOutValue.quantity - 1));\r\n    setDiscountedPrice(\r\n      calculatePriceDiscount(\r\n        parseFloat(checkOutValue?.price) * (checkOutValue.quantity - 1),\r\n        checkOutValue?.discount,\r\n      ),\r\n    );\r\n  };\r\n  const increment = () => {\r\n    if (!handleInventory('increment')) {\r\n      return;\r\n    }\r\n    setCheckOutValue({ ...checkOutValue, quantity: checkOutValue.quantity + 1 });\r\n    setPrice(parseFloat(checkOutValue?.price) * (checkOutValue.quantity + 1));\r\n    setDiscountedPrice(\r\n      calculatePriceDiscount(\r\n        parseFloat(checkOutValue?.price) * (checkOutValue.quantity + 1),\r\n        checkOutValue?.discount,\r\n      ),\r\n    );\r\n  };\r\n\r\n  const handleInventory = (type: string) => {\r\n    if (inventoryVariant?.inventory_quantity <= 0) {\r\n      handleOutStockProduct();\r\n      return false;\r\n    }\r\n\r\n    const titleVariant = find(\r\n      data?.product_variants,\r\n      (i: any) => i?.variant_id == inventoryVariant?.variant_id,\r\n    )?.title;\r\n    const title = `${data.name} ${titleVariant != 'Default Title' ? `- ${titleVariant}` : ''}`;\r\n\r\n    if (\r\n      type == 'increment' &&\r\n      checkOutValue.quantity + 1 > inventoryVariant.inventory_quantity\r\n    ) {\r\n      toastrWarning(`${title} only ${inventoryVariant.inventory_quantity} products left`);\r\n      return false;\r\n    }\r\n    if (type == 'increment' && checkOutValue.quantity == MAXIMUM_QUANTITY_ADDING_TO_CART) {\r\n      toastrWarning(`For bigger purchase, please contact ${PHONE_CONTACT}`);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const dataFilterOlScent = filter(data.scents, (item) => item.type == 'olfactory');\r\n  const dataTopScent = filter(data.scents, (item) => item.type == 'top');\r\n  const dataHeartScent = filter(data.scents, (item) => item.type == 'heart');\r\n  const dataBaseScent = filter(data.scents, (item) => item.type == 'base');\r\n  const handleAddToWishList = () => {\r\n    if (isWishList == null) {\r\n      if (isWishListChecked) {\r\n        const options = {\r\n          url: `${GET_WISHLIST}/`,\r\n          method: 'DELETE',\r\n          body: {\r\n            product_id: data?.id || null,\r\n          },\r\n        };\r\n        fetchClient(options).then((res) => {\r\n          if (res.success) {\r\n            setIsWishList(false);\r\n          }\r\n        });\r\n      } else {\r\n        const options = {\r\n          url: `${GET_WISHLIST}/`,\r\n          method: 'POST',\r\n          body: {\r\n            product_id: data?.id || null,\r\n          },\r\n        };\r\n        fetchClient(options).then((res) => {\r\n          if (res.success) {\r\n            setIsWishList(true);\r\n          }\r\n        });\r\n      }\r\n    } else if (isWishList == false) {\r\n      const options = {\r\n        url: `${GET_WISHLIST}/`,\r\n        method: 'POST',\r\n        body: {\r\n          product_id: data?.id || null,\r\n        },\r\n      };\r\n      fetchClient(options).then((res) => {\r\n        if (res.success) {\r\n          setIsWishList(true);\r\n        }\r\n      });\r\n    } else {\r\n      const options = {\r\n        url: `${GET_WISHLIST}/`,\r\n        method: 'DELETE',\r\n        body: {\r\n          product_id: data?.id || null,\r\n        },\r\n      };\r\n      fetchClient(options).then((res) => {\r\n        if (res.success) {\r\n          setIsWishList(false);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const sum = sumBy(data?.reviews, (item: any) => item.star);\r\n  const avg = Number(\r\n    data?.reviews && sum ? (Math.round((sum / data?.reviews.length) * 2) / 2).toFixed(1) : 0,\r\n  );\r\n\r\n  return data ? (\r\n    <section className=\"blk-product-detail\">\r\n      <section className=\"row\">\r\n        {data?.images ? (\r\n          <div className=\"col-md-6 col-12\" style={{ position: 'relative' }}>\r\n            <div className=\"favorite-box\">\r\n              <div></div>\r\n              <span\r\n                className=\"sale-inf\"\r\n                style={{\r\n                  visibility: currentVariantDiscount > 0 ? 'visible' : 'hidden',\r\n                }}\r\n              >\r\n                {currentVariantDiscount > 0 ? `-${currentVariantDiscount}%` : ''}\r\n              </span>\r\n            </div>\r\n            <LightboxImages\r\n              isOpenLightboxImages={isOpenLightboxImages}\r\n              setIsOpenLightboxImages={setIsOpenLightboxImages}\r\n              imageList={media}\r\n            />\r\n            <Slider\r\n              onSlideComplete={setIndexSlide}\r\n              activeIndex={indexSlide}\r\n              threshHold={isMobile ? 100 : 200}\r\n              transition={isMobile ? 0.2 : 0.8}\r\n              scaleOnDrag={false}\r\n              isSquare={true}\r\n              dragOrAuto={false}\r\n            >\r\n              {map(media, (item: any, index: number) => (\r\n                <div key={index} className=\"animated faster fadeIn product-slide\">\r\n                  {item?.type == 'image' ? (\r\n                    <>\r\n                      <div onClick={() => setIsOpenLightboxImages(index)}>\r\n                        <Picture data={{ ...item.url, loading: 'eager' }} />\r\n                        <link itemProp=\"image\" href={item?.url?.original} />\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <video\r\n                        poster={item.preview_image}\r\n                        width={'100%'}\r\n                        height={'auto'}\r\n                        controls={true}\r\n                      >\r\n                        <source src={item.src} type=\"video/mp4\" />\r\n                      </video>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </Slider>\r\n            <ul className=\"small-img-dot\">\r\n              {map(media, (item: any, index: number) => (\r\n                <li\r\n                  key={index}\r\n                  className={`section-square ${\r\n                    item.type == 'video' ? 'filter-brightness' : ''\r\n                  }`}\r\n                  onClick={() => setIndexSlide(index)}\r\n                >\r\n                  {item.type == 'image' ? (\r\n                    <Picture data={item.url} />\r\n                  ) : (\r\n                    <>\r\n                      <span className=\"material-icons play-icon\">play_circle_outline</span>\r\n                      <Picture\r\n                        data={{\r\n                          original: item.preview_image,\r\n                          mobile: item.preview_image,\r\n                          webp: item.preview_image,\r\n                          alt: item.preview_image,\r\n                        }}\r\n                      />\r\n                    </>\r\n                  )}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n        <div className=\"col-md-6 col-12 box-shadow\">\r\n          {data?.product_variants ? (\r\n            <section className=\"detail-product\">\r\n              <div>\r\n                <div className={`${!isMobile ? 'd-flex justify-content-between' : ''} head`}>\r\n                  <div className=\"block-name\">\r\n                    {data?.brand?.name ? (\r\n                      <h3 className=\"brand-name\">{data?.brand?.name}</h3>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                    <h1 className=\"product-name\">{data?.name}</h1>\r\n                    <h1 className=\"product-type\">\r\n                      {data?.tags?.length ? getPerfumeType(data?.tags) : ''}\r\n                    </h1>\r\n                    <meta itemProp=\"name\" content={data?.name} />\r\n                  </div>\r\n                  <div className=\"box-gender\">\r\n                    <img\r\n                      src={\r\n                        dataGender?.handle == 'man'\r\n                          ? iconMale\r\n                          : dataGender?.handle == 'woman'\r\n                          ? iconFemale\r\n                          : iconUnisex\r\n                      }\r\n                      alt=\"ic-male\"\r\n                      width={35}\r\n                      height={35}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"box-evaluate-share\">\r\n                  <div className=\"evaluate-box\">\r\n                    <ul>\r\n                      {map([1, 2, 3, 4, 5], (star: any, index: any) => {\r\n                        return avg % 1 != 0.5 ? (\r\n                          <li key={index}>\r\n                            <span className=\"star-icon\">\r\n                              {avg < star ? (\r\n                                <img src={starIcon} alt=\"\" />\r\n                              ) : (\r\n                                <img src={starSolidIcon} alt=\"\" />\r\n                              )}\r\n                            </span>\r\n                          </li>\r\n                        ) : (\r\n                          <li>\r\n                            <span className=\"star-icon\" key={index}>\r\n                              {(avg - star) % 1 == 0.5 ? (\r\n                                <img src={starSolidIcon} alt=\"\" />\r\n                              ) : avg + 0.5 < star ? (\r\n                                <img src={starIcon} alt=\"\" />\r\n                              ) : (\r\n                                <img src={starHaftIcon} alt=\"\" />\r\n                              )}\r\n                            </span>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                      <li>\r\n                        <p className=\"text-avg\">\r\n                          {avg} ({data?.reviews.length})\r\n                        </p>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"d-flex align-items-center box-share\">\r\n                    <p className=\"box-share__text-share\">SHARE</p>\r\n                    <BlockShareSocial width={36} height={36} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"main\">\r\n                {data?.scents && data?.scents.length > 0 ? (\r\n                  <ul className=\"scent-group-box\">\r\n                    {dataFilterOlScent.length > 0 ? (\r\n                      <li>\r\n                        <div className=\"wrapper-img\">\r\n                          <img src={olfactoryIcon} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"scent-note\">\r\n                          <h4>SCENT FAMILY</h4>\r\n                          {map(dataFilterOlScent, (item: any, index: any) => (\r\n                            <button key={index} onClick={() => handleOpenModal(item)}>\r\n                              {item.name}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </li>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                    {dataTopScent.length > 0 ? (\r\n                      <li>\r\n                        <div className=\"wrapper-img\">\r\n                          <img src={triangleTopIcon} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"scent-note\">\r\n                          <h4>TOP NOTES</h4>\r\n                          {map(dataTopScent, (item: any, index: any) => (\r\n                            <button key={index} onClick={() => handleOpenModal(item)}>\r\n                              {item.name}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </li>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                    {dataHeartScent.length > 0 ? (\r\n                      <li>\r\n                        <div className=\"wrapper-img\">\r\n                          <img src={triangleIcon} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"scent-note\">\r\n                          <h4>HEART NOTES</h4>\r\n                          {map(dataHeartScent, (item: any, index: any) => (\r\n                            <button key={index} onClick={() => handleOpenModal(item)}>\r\n                              {item.name}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </li>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                    {dataBaseScent.length > 0 ? (\r\n                      <li>\r\n                        <div className=\"wrapper-img\">\r\n                          <img src={triangleBottomIcon} alt=\"\" />\r\n                        </div>\r\n                        <div className=\"scent-note\">\r\n                          <h4>BASE NOTES</h4>\r\n                          {map(dataBaseScent, (item: any, index: any) => (\r\n                            <button key={index} onClick={() => handleOpenModal(item)}>\r\n                              {item.name}\r\n                            </button>\r\n                          ))}\r\n                        </div>\r\n                      </li>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                  </ul>\r\n                ) : (\r\n                  ''\r\n                )}\r\n                {map(data?.translated_tags, (item: any, index: any) => (\r\n                  <div key={index} className=\"box-collapse\">\r\n                    <div\r\n                      className=\"box-collapse__navigate\"\r\n                      onClick={() => setItemTagsCollapse(item.id)}\r\n                    >\r\n                      <p className=\"box-collapse__navigate__text-title\">{item.key}</p>\r\n                      {!isEmpty(tagsCollapse) && tagsCollapse[item.id] ? (\r\n                        <span className=\"material-icons\">expand_less</span>\r\n                      ) : (\r\n                        <span className=\"material-icons\">keyboard_arrow_down</span>\r\n                      )}\r\n                    </div>\r\n                    <Collapse\r\n                      isOpened={!isEmpty(tagsCollapse) ? tagsCollapse[item.id] : false}\r\n                    >\r\n                      <p className=\"tag-description\">{item.value}</p>\r\n                    </Collapse>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"quantity-price-bag\">\r\n                <div className=\"quantity-price-group\">\r\n                  {data?.product_variants &&\r\n                  data?.product_variants[0]?.title == 'Default Title' ? (\r\n                    ''\r\n                  ) : (\r\n                    <div className=\"size-box\">\r\n                      <p>\r\n                        {data?.product_options\r\n                          ?.slice(0)\r\n                          ?.reverse()\r\n                          ?.map((e: any, i: any) => (\r\n                            <span key={i}>\r\n                              {i == 0 ? '' : ' / '}\r\n                              {e?.name?.toUpperCase()}\r\n                            </span>\r\n                          ))}\r\n                      </p>\r\n                      {data?.product_variants && data?.product_variants?.length > 1 ? (\r\n                        <>\r\n                          <Select\r\n                            placeholder=\"Select\"\r\n                            className=\"primary-select variant-select\"\r\n                            searchable={false}\r\n                            multi={false}\r\n                            itemRenderer={({ item, methods }: { item: any; methods: any }) => {\r\n                              return (\r\n                                <div\r\n                                  onClick={() =>\r\n                                    !item?.disabled ? methods.addItem(item) : ''\r\n                                  }\r\n                                  className={`custom-item ${\r\n                                    methods.isSelected(item) ? 'selected' : ''\r\n                                  } ${item?.disabled ? 'disabled' : ''}`}\r\n                                >\r\n                                  <span>\r\n                                    {item.title}{' '}\r\n                                    {item?.discount > 0 && `(-${item?.discount}%)`}\r\n                                  </span>\r\n                                </div>\r\n                              );\r\n                            }}\r\n                            labelField=\"title\"\r\n                            onChange={(value: any) => {\r\n                              handleChangeVariant(value[0]);\r\n                            }}\r\n                            valueField=\"variant_id\"\r\n                            options={data?.product_variants}\r\n                            values={[\r\n                              data?.product_variants && data?.product_variants?.length > 0\r\n                                ? data?.product_variants[0]\r\n                                : {},\r\n                            ]}\r\n                          />\r\n                          <p className=\"variant-option-count\">{`${data?.product_variants?.length} options available`}</p>\r\n                        </>\r\n                      ) : (\r\n                        <div className=\"size\">{data?.product_variants[0]?.title}</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  <div className=\"quantity\">\r\n                    <p>Quantity</p>\r\n                    <section className=\"quantity-box\">\r\n                      <button onClick={decrement} disabled={checkOutValue.quantity <= 1}>\r\n                        &mdash;\r\n                      </button>\r\n                      <input type=\"text\" value={checkOutValue.quantity} readOnly />\r\n                      <button onClick={increment}>&#xff0b;</button>\r\n                    </section>\r\n                  </div>\r\n                  <div\r\n                    className={\r\n                      parseFloat(discountedPrice) < parseFloat(price)\r\n                        ? 'price strike-through'\r\n                        : 'price'\r\n                    }\r\n                  >\r\n                    <p>Price</p>\r\n                    <h2>{moneyFormater(price)}</h2>\r\n                  </div>\r\n                  {parseFloat(discountedPrice) < parseFloat(price) ? (\r\n                    <div className=\"price discount-price\">\r\n                      <p>Discounted Price</p>\r\n                      <h2>{moneyFormater(discountedPrice)}</h2>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n                <div className=\"box-button\">\r\n                  <button className=\"add-to-bag\" onClick={handleCheckoutProduct}>\r\n                    ADD TO BAG\r\n                    <img src={addIcon} />\r\n                  </button>\r\n                  <button\r\n                    className={`btn-add-wish ${\r\n                      isWishList == null\r\n                        ? isWishListChecked\r\n                          ? 'wish-list'\r\n                          : ''\r\n                        : isWishList\r\n                        ? 'wish-list'\r\n                        : ''\r\n                    } `}\r\n                    onClick={handleAddToWishList}\r\n                  >\r\n                    <span>\r\n                      {isWishList == null\r\n                        ? isWishListChecked\r\n                          ? 'ADDED'\r\n                          : 'ADD'\r\n                        : isWishList\r\n                        ? 'ADDED'\r\n                        : 'ADD'}{' '}\r\n                      TO WISH LIST\r\n                    </span>\r\n                    {isWishList == null ? (\r\n                      isWishListChecked ? (\r\n                        <img src={wishListActiveIcon} className=\"ic-wishlist\" />\r\n                      ) : (\r\n                        <img src={wishListIcon} className=\"ic-wishlist\" />\r\n                      )\r\n                    ) : isWishList ? (\r\n                      <img src={wishListActiveIcon} className=\"ic-wishlist\" />\r\n                    ) : (\r\n                      <img src={wishListIcon} className=\"ic-wishlist\" />\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n      </section>\r\n    </section>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n\r\nProductDetail.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default memo(ProductDetail);\r\n","import { get, isEmpty, map } from 'lodash';\r\nimport moment from 'moment';\r\nimport React, { lazy, memo, useEffect, useRef, useState } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport Modal from 'react-modal';\r\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\r\nimport '../../components/BlockBlogs/block-blogs.scss';\r\nimport BlockModal from '../../components/BlockModal';\r\nimport BlockProduct from '../../components/BlockProduct';\r\nimport BlockQuestionnaire from '../../components/BlockQuestionnaire';\r\nimport BlockTitle from '../../components/BlockTitle';\r\nimport Picture from '../../components/Picture';\r\nimport ProductDetail from '../../components/ProductDetail';\r\nimport ProductNoteModal from '../../components/ProductNoteModal';\r\nimport {\r\n  GET_PRODUCT_DETAIL,\r\n  GET_WISHLIST,\r\n  NAV_PAGE_SLUG,\r\n  SEO_DESCRIPTION,\r\n} from '../../config';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport AuthPrimaryIcon from '../../images/icons/auth-primary.png';\r\nimport freeShippingPrimaryIcon from '../../images/icons/freeShipping-primary.png';\r\nimport starIcon from '../../images/icons/star-regular.svg';\r\nimport starSolidIcon from '../../images/icons/star-solid.svg';\r\nimport * as action from '../../redux/auth/actions';\r\nimport {\r\n  addScriptForProduct,\r\n  fetchClient,\r\n  fetchCMSHomepage,\r\n  getSeoDataFromMetaFields,\r\n  removeScriptProductDetail,\r\n  toastrSuccess,\r\n} from '../../redux/Helpers';\r\nimport './styles.scss';\r\nimport * as navAction from '../../redux/nav/actions';\r\n\r\nconst Loader = lazy(() => import('../../components/Loader'));\r\nconst Footer = lazy(() => import('../../components/Footer'));\r\nconst BlockVideo = lazy(() => import('../../components/BlockVideo'));\r\nconst VideoBlock = lazy(() => import('../../components/BlockVideo'));\r\nconst BlockIcon = lazy(() => import('../../components/BlockIcon'));\r\nconst BlockCarousel = lazy(() => import('../../components/BlockCarousel'));\r\nconst BlockSpotlight = lazy(() => import('../../components/BlockSpotlight'));\r\nconst CountDownBlock = lazy(() => import('../../components/BlockCountDown'));\r\nconst BlockBlogs = lazy(() => import('../../components/BlockBlogs'));\r\n\r\nfunction ProductPage(props: any) {\r\n  const dispatch = useDispatch();\r\n  const [dataNav, setDataNav] = useState<any>([]);\r\n  const [loading, setLoading] = useState<any>([]);\r\n  const [dataFooter, setDataFooter] = useState<any>([]);\r\n  const [visibleModalNote, setVisibleModalNote] = useState(false);\r\n  const [dataModal, setDataModal] = useState<any>([]);\r\n  const [dataProductDetail, setDataProductDetail] = useState<any>({});\r\n  const [dataBrandPage, setDataBrandPage] = useState<any>({});\r\n  const [defaultVariant, setDefaultVariant] = useState([]);\r\n  const [bodyDetailProduct, setBodyDetailProduct] = useState<any>();\r\n  const [timeStamp, setTimeStamp] = useState<any>('');\r\n  const [isWishList, setIsWishList] = useState<any>(false);\r\n  const [dataProductInventoryModal, setDataProductInventoryModal] = useState<any>({});\r\n  const [visibleModalOutStock, setVisibleModalOutStock] = useState<boolean>(false);\r\n  const [image, setImage] = useState<string>('');\r\n  const refFooter = useRef<any>(null);\r\n\r\n  const state = useSelector((state: RootStateOrAny) => state.navReducer);\r\n  // const [visibleModalEmail, setVisibleModalEmail] = useState(false);\r\n  // const [dataFormField, setDataFormField] = useState<any>([]);\r\n\r\n  const dataIcon = {\r\n    value: {\r\n      icons: [\r\n        {\r\n          text: '100% AUTHENTIC',\r\n          icon_image: {\r\n            original: AuthPrimaryIcon,\r\n            width: 29,\r\n            height: 29,\r\n            webp: AuthPrimaryIcon,\r\n            mobile: AuthPrimaryIcon,\r\n            alt: 'auth_icon.png',\r\n          },\r\n        },\r\n        {\r\n          text: 'FREE SHIPPING*',\r\n          icon_image: {\r\n            original: freeShippingPrimaryIcon,\r\n            width: 52,\r\n            height: 27,\r\n            webp: freeShippingPrimaryIcon,\r\n            mobile: freeShippingPrimaryIcon,\r\n            alt: 'free_shipping_icon.png',\r\n          },\r\n        },\r\n      ],\r\n    },\r\n  };\r\n\r\n  const handleKeyPress = () => {\r\n    setVisibleModalNote(false);\r\n  };\r\n\r\n  const ref = useRef<any>(null);\r\n\r\n  const fetchDataInit = async () => {\r\n    setLoading(true);\r\n\r\n    const IDProduct = props.match.params ? props.match.params.IDProduct : undefined;\r\n\r\n    const options = {\r\n      url: `${GET_PRODUCT_DETAIL}${IDProduct}/`,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n    const optionsInventory = {\r\n      url: `${GET_PRODUCT_DETAIL}${IDProduct}/inventory/`,\r\n      method: 'POST',\r\n      body: null,\r\n    };\r\n    if (\r\n      isEmpty(dataNav) ||\r\n      IDProduct ||\r\n      isEmpty(dataFooter) ||\r\n      isEmpty(defaultVariant) ||\r\n      isEmpty(bodyDetailProduct)\r\n    ) {\r\n      fetchClient(optionsInventory).then((res: any) => {\r\n        if (res?.success) {\r\n          setDataProductInventoryModal(res.data);\r\n        }\r\n      });\r\n      // this.props.loadingPage(true);\r\n      const pending = [fetchClient(options)];\r\n      try {\r\n        const results = await Promise.all(pending);\r\n        const dataProduct = results[0];\r\n        const body = results[0]?.brand_page?.body;\r\n        const brandPage = {\r\n          ...results[0]?.brand_page,\r\n          body: body ? body.filter((item: any) => item?.value?.visible != 'brand') : {},\r\n        };\r\n\r\n        // if (\r\n        //   dataProduct?.discount &&\r\n        //   dataProduct?.discount?.value &&\r\n        //   dataProduct?.discount?.show_on_detail_page\r\n        // ) {\r\n        //   setRebate(dataProduct?.discount?.value);\r\n        // }\r\n        setDefaultVariant(dataProduct.product_variants[0]);\r\n        setDataProductDetail(dataProduct);\r\n        setDataBrandPage(brandPage);\r\n        setBodyDetailProduct(dataProduct.body_html);\r\n        setIsWishList(dataProduct?.wishlist?.checked || false);\r\n        // setDataFormField(dataProduct?.brand_page?.form_fields);\r\n        if (dataProduct?.images?.length) {\r\n          setImage(dataProduct.images[0]?.url?.original);\r\n        }\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setLoading(false);\r\n\r\n        // toastrError(error.message);\r\n        // this.props.loadingPage(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchNavData = async () => await fetchCMSHomepage(NAV_PAGE_SLUG);\r\n\r\n  const handleScroll = () => {\r\n    if (ref && ref.current) {\r\n      // const offset = window.pageYOffset + 370;\r\n      const offset = !isMobile\r\n        ? window.pageYOffset + ref.current.clientHeight + 194\r\n        : window.pageYOffset + ref.current.clientHeight + 194 + 186;\r\n      const height = ref.current.getBoundingClientRect().top + ref.current.clientHeight;\r\n      if (offset >= height) {\r\n        // setSticky(true);\r\n        ref.current.classList.add('stick-icon');\r\n      } else {\r\n        ref.current.classList.remove('stick-icon');\r\n        // setSticky(false);\r\n      }\r\n\r\n      const scroller = ref;\r\n      const footer = refFooter;\r\n      const scroll_bot =\r\n        scroller.current.getBoundingClientRect().top + scroller.current.clientHeight;\r\n      const footer_top = footer.current.getBoundingClientRect().top;\r\n      if (scroll_bot > footer_top) {\r\n        ref.current.classList.remove('stick-icon');\r\n        scroller.current.classList.add('on-footer');\r\n      } else {\r\n        scroller.current.classList.remove('on-footer');\r\n        scroller.current.style.top = 'unset';\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleModal = (data: any) => {\r\n    setDataModal(data);\r\n    setVisibleModalNote(!visibleModalNote);\r\n  };\r\n\r\n  const handleAddToWishList = () => {\r\n    if (!localStorage.getItem('sundoraToken')) {\r\n      localStorage.setItem('product_wishlist_id', dataProductDetail?.id);\r\n      dispatch(action.toggleModalLoginActions(true));\r\n      return;\r\n    }\r\n    const options = {\r\n      url: `${GET_WISHLIST}/`,\r\n      method: 'POST',\r\n      body: {\r\n        product_id: dataProductDetail?.id || null,\r\n      },\r\n    };\r\n    fetchClient(options).then((res) => {\r\n      if (res.success) {\r\n        toastrSuccess(res?.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, [props.match.params.IDProduct]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', () => handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isEmpty(dataProductDetail)) {\r\n      addScriptForProduct(dataProductDetail);\r\n    }\r\n\r\n    return () => {\r\n      removeScriptProductDetail();\r\n    };\r\n  }, [dataProductDetail]);\r\n\r\n  useEffect(() => {\r\n    if (isEmpty(state)) {\r\n      setLoading(true);\r\n      try {\r\n        const data = fetchNavData();\r\n        dispatch(navAction.getNavData(data));\r\n        setLoading(false);\r\n      } catch (error) {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      const dataDynamicLinks = get(state, 'dynamic_links');\r\n      setTimeStamp(state.timestamp);\r\n\r\n      setDataNav(dataDynamicLinks?.navigation);\r\n      setDataFooter(dataDynamicLinks?.footer);\r\n    }\r\n  }, [state]);\r\n\r\n  const dataVideo = {\r\n    value: {\r\n      text: dataProductDetail?.brand_page?.introduction,\r\n      link: dataProductDetail?.brand_page?.video_link,\r\n      video: {\r\n        publisher: dataProductDetail?.brand_page?.video_publisher,\r\n        id: dataProductDetail?.brand_page?.video,\r\n        file: null,\r\n      },\r\n    },\r\n  };\r\n\r\n  const dataReview = {\r\n    count: dataProductDetail?.reviews?.length,\r\n    data: dataProductDetail?.reviews,\r\n  };\r\n\r\n  const iconList = [\r\n    {\r\n      text: 'SECURE PAYMENT',\r\n      icon_image: {\r\n        original:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.original.png',\r\n        width: 43,\r\n        height: 28,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/secure_payment_icon.width-768.format-webp.webp',\r\n        alt: 'secure_payment_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'FREE SHIPPING*',\r\n      icon_image: {\r\n        original:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.original.png',\r\n        width: 52,\r\n        height: 27,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/free_shipping_icon.width-768.format-webp.webp',\r\n        alt: 'free_shipping_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: '100% AUTHENTIC',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/auth_icon.original.png',\r\n        width: 29,\r\n        height: 29,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/auth_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/auth_icon.width-768.format-webp.webp',\r\n        alt: 'auth_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'OFFICIAL DISTRIBUTOR',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/offical_icon.original.png',\r\n        width: 39,\r\n        height: 33,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/offical_icon.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/offical_icon.width-768.format-webp.webp',\r\n        alt: 'offical_icon.png',\r\n      },\r\n    },\r\n    {\r\n      text: 'ON TIME DELIVERY',\r\n      icon_image: {\r\n        original: 'https://s.sundora-stage.23c.se/media/images/time_delivery.original.png',\r\n        width: 36,\r\n        height: 28,\r\n        webp:\r\n          'https://s.sundora-stage.23c.se/media/images/time_delivery.original.format-webp.webp',\r\n        mobile:\r\n          'https://s.sundora-stage.23c.se/media/images/time_delivery.width-768.format-webp.webp',\r\n        alt: 'time_delivery.png',\r\n      },\r\n    },\r\n  ];\r\n\r\n  const SEOData = getSeoDataFromMetaFields(dataProductDetail?.metafields);\r\n  return (\r\n    <div className=\"site-productPage\" itemType=\"http://schema.org/Product\" itemScope={true}>\r\n      <Helmet defer={false}>\r\n        <title>{SEOData.SEOTitle || dataProductDetail?.name}</title>\r\n        <meta property=\"og:title\" content={SEOData.SEOTitle || dataProductDetail?.name} />\r\n        <meta property=\"og:image\" content={image} />\r\n        <meta property=\"og:image:secure_url\" content={image} />\r\n        <meta name=\"description\" content={SEOData.SEODes || SEO_DESCRIPTION} />\r\n        <meta property=\"og:description\" content={SEOData.SEODes || SEO_DESCRIPTION} />\r\n      </Helmet>\r\n\r\n      {loading ? <Loader /> : ''}\r\n      {/* <Banner /> */}\r\n      <div className={`container ${isMobile ? 'wrapper-mobile-productpage' : ''}`}>\r\n        {dataProductDetail?.brand_page?.product_banner ? (\r\n          <div className=\"banner-all-product\">\r\n            <Picture data={dataProductDetail?.brand_page?.product_banner} />\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        <div className=\"breadcrumb\">\r\n          <ul>\r\n            <li>\r\n              <a href=\"/\">Home</a>\r\n            </li>\r\n            {dataProductDetail?.brand_page?.page_ptr ? (\r\n              <li>\r\n                <a\r\n                  href={\r\n                    dataProductDetail?.brand_page?.page_ptr?.relative_url\r\n                      ? `${dataProductDetail?.brand_page?.page_ptr?.relative_url}`\r\n                      : '/'\r\n                  }\r\n                >\r\n                  {dataProductDetail?.brand_page?.page_ptr?.title}\r\n                </a>\r\n              </li>\r\n            ) : (\r\n              ''\r\n            )}\r\n            <li>{dataProductDetail?.name}</li>\r\n          </ul>\r\n        </div>\r\n        <main>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <ProductDetail\r\n                handleOpenModalNote={handleToggleModal || null}\r\n                handleOutStockProduct={() => setVisibleModalOutStock(true)}\r\n                data={dataProductDetail}\r\n                defaultVariant={defaultVariant}\r\n                inventory={dataProductInventoryModal}\r\n                // bodyDetailProduct={bodyDetailProduct ? bodyDetailProduct : ''}\r\n                isWishListChecked={isWishList}\r\n              />\r\n              <div className=\"block-icon-1\">\r\n                <BlockIcon iconList={dataIcon.value.icons} />\r\n              </div>\r\n\r\n              <section className=\"info-product\">\r\n                {/* body_html */}\r\n                {bodyDetailProduct ? (\r\n                  <div dangerouslySetInnerHTML={{ __html: bodyDetailProduct }}></div>\r\n                ) : (\r\n                  ''\r\n                )}\r\n              </section>\r\n              {dataProductDetail?.brand_page?.video_link ? (\r\n                <div className=\"video-product-detail\">\r\n                  <BlockVideo data={dataVideo.value} title=\"\" showReadmore={true} />\r\n                </div>\r\n              ) : (\r\n                ''\r\n              )}\r\n\r\n              <section className=\"review\">\r\n                <h3>\r\n                  REVIEW{dataReview?.count > 2 ? 'S' : ''} ({dataReview?.count})\r\n                </h3>\r\n                {map(dataReview?.data, (item: any, index: number) => {\r\n                  return (\r\n                    <div\r\n                      className=\"comment-box\"\r\n                      itemProp=\"review\"\r\n                      itemScope={true}\r\n                      itemType=\"https://schema.org/Review\"\r\n                      key={index}\r\n                    >\r\n                      <div className=\"evaluate-box\">\r\n                        <span className=\"d-none\" itemProp=\"name\">\r\n                          {dataProductDetail?.name}\r\n                        </span>\r\n                        <span\r\n                          className=\"d-none\"\r\n                          itemProp=\"reviewRating\"\r\n                          itemScope={true}\r\n                          itemType=\"https://schema.org/Rating\"\r\n                        >\r\n                          <span itemProp=\"ratingValue\">{item.star}</span>\r\n                        </span>\r\n                        <span\r\n                          className=\"d-none\"\r\n                          itemProp=\"publisher\"\r\n                          itemScope={true}\r\n                          itemType=\"https://schema.org/Organization\"\r\n                        >\r\n                          <meta itemProp=\"name\" content=\"Bangladesh\"></meta>\r\n                        </span>\r\n                        <ul>\r\n                          <li>\r\n                            <span className=\"star-icon\">\r\n                              <img src={item.star < 1 ? starIcon : starSolidIcon} alt=\"\" />\r\n                            </span>\r\n                          </li>\r\n                          <li>\r\n                            <span className=\"star-icon\">\r\n                              <img src={item.star < 2 ? starIcon : starSolidIcon} alt=\"\" />\r\n                            </span>\r\n                          </li>\r\n                          <li>\r\n                            <span className=\"star-icon\">\r\n                              <img src={item.star < 3 ? starIcon : starSolidIcon} alt=\"\" />\r\n                            </span>\r\n                          </li>\r\n                          <li>\r\n                            <button className=\"star-icon\">\r\n                              <img src={item.star < 4 ? starIcon : starSolidIcon} alt=\"\" />\r\n                            </button>\r\n                          </li>\r\n                          <li>\r\n                            <span className=\"star-icon\">\r\n                              <img src={item.star < 5 ? starIcon : starSolidIcon} alt=\"\" />\r\n                            </span>\r\n                          </li>\r\n                        </ul>\r\n                        <p\r\n                          itemProp=\"author\"\r\n                          itemScope={true}\r\n                          itemType=\"https://schema.org/Person\"\r\n                        >\r\n                          By <span itemProp=\"name\"> {item?.name || ''}</span>\r\n                          {` - ${moment(item.created_at).format('MMM YYYY')}`}\r\n                        </p>\r\n                        <meta\r\n                          itemProp=\"datePublished\"\r\n                          content={moment(item.created_at).format('y-MM-DD')}\r\n                        ></meta>\r\n                        <p\r\n                          style={{ fontWeight: 700, color: 'rgb(42 103 107)', marginLeft: 6 }}\r\n                        >\r\n                          - VERIFIED CUSTOMER\r\n                        </p>\r\n                      </div>\r\n                      <p itemProp=\"reviewBody\">{item?.comment}</p>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n      <div style={{ paddingBottom: '85px' }}>\r\n        {map(dataBrandPage?.body, (item: any, index: any) => {\r\n          switch (item.type) {\r\n            case 'carousel':\r\n              return (\r\n                <BlockCarousel\r\n                  slides={item && item.value ? item?.value.slides : []}\r\n                  key={index}\r\n                  dragOrAuto={false}\r\n                  maxWidth={item && item.value ? item?.value.max_width : ''}\r\n                />\r\n              );\r\n            case 'spotlight':\r\n              return (\r\n                <BlockSpotlight\r\n                  headline={item?.value.headline}\r\n                  items={item?.value.rows}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'countdown':\r\n              return <CountDownBlock data={item?.value} key={index} timestamp={timeStamp} />;\r\n            case 'paragraph':\r\n              return (\r\n                <div className=\"container\" key={index}>\r\n                  <div\r\n                    className=\"content-block\"\r\n                    dangerouslySetInnerHTML={{ __html: item?.value?.text }}\r\n                  ></div>\r\n                </div>\r\n              );\r\n            case 'title':\r\n              return <BlockTitle key={index} title={item?.value?.title} />;\r\n            case 'video':\r\n              return (\r\n                <VideoBlock\r\n                  data={item?.value}\r\n                  title={item?.value?.title || ''}\r\n                  showReadmore={true}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'icons':\r\n              return (\r\n                <div\r\n                  // className={`main-content ${isSticky ? 'stick-icon' : ''}`}\r\n                  className=\"main-content\"\r\n                  ref={ref ? ref : ''}\r\n                  key={index}\r\n                >\r\n                  <BlockIcon iconList={item.value?.icons || []} />\r\n                </div>\r\n              );\r\n            case 'images':\r\n              return (\r\n                <div className=\"container\" key={index}>\r\n                  <div className=\"images-box-default\">\r\n                    <div className=\"wrapper-img row-span\">\r\n                      <Picture data={item?.value?.images?.big} />\r\n                    </div>\r\n                    <div className=\"wrapper-img\">\r\n                      <Picture data={item?.value?.images?.top_left} />\r\n                    </div>\r\n                    <div className=\"wrapper-img\">\r\n                      <Picture data={item?.value?.images?.bottom_left} />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            case 'product':\r\n              return (\r\n                <BlockProduct\r\n                  productList={item?.value.products}\r\n                  title={item?.value?.headline}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'bloglist':\r\n              return <BlockBlogs blogList={item?.value} title=\"Sundora Blogs\" key={index} />;\r\n            case 'recommended':\r\n              return (\r\n                <BlockProduct\r\n                  productList={item?.value?.products}\r\n                  title={item?.value?.headline}\r\n                  key={index}\r\n                />\r\n              );\r\n            case 'questionnaire':\r\n              return <BlockQuestionnaire data={item?.value} key={index} />;\r\n            default:\r\n              break;\r\n          }\r\n        })}\r\n      </div>\r\n      <div\r\n        // className={`main-content ${isSticky ? 'stick-icon' : ''}`}\r\n        className=\"main-content\"\r\n      >\r\n        <BlockIcon iconList={iconList} />\r\n      </div>\r\n      {visibleModalNote ? (\r\n        <BlockModal\r\n          isOpen={visibleModalNote}\r\n          minWidth=\"70%\"\r\n          maskBg={true}\r\n          onKeyPress={() => handleKeyPress()}\r\n          onClickAway={() => handleToggleModal(null)}\r\n        >\r\n          <ProductNoteModal data={dataModal} />\r\n        </BlockModal>\r\n      ) : (\r\n        ''\r\n      )}\r\n      {/* Product out stock modal */}\r\n      <Modal\r\n        isOpen={visibleModalOutStock}\r\n        ariaHideApp={false}\r\n        onRequestClose={() => setVisibleModalOutStock(false)}\r\n        style={{ overlay: { zIndex: 99, background: 'rgba(0, 0, 0, 0.35)' } }}\r\n        className=\"modal-outstock-view__content\"\r\n      >\r\n        <div className=\"box-warning\">\r\n          <div className=\"col-12\" style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n            <button\r\n              className=\"btn-close\"\r\n              type=\"button\"\r\n              onClick={() => setVisibleModalOutStock(false)}\r\n            ></button>\r\n          </div>\r\n          <div className=\"box-content\">\r\n            <p className=\"warning\">Warning</p>\r\n            <p className=\"description\">\r\n              Sorry! This product is out of stock, click on the button below to get notified\r\n              when it is back!\r\n            </p>\r\n            <button className=\"btn-add-to-wishlist\" onClick={handleAddToWishList}>\r\n              Notify me\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </Modal>\r\n      <div ref={refFooter}>\r\n        <Footer data={dataFooter} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(ProductPage);\r\n","export default __webpack_public_path__ + \"static/media/addToCart-white.47327068.svg\";","export default __webpack_public_path__ + \"static/media/star-solid.a72ad899.svg\";","export default __webpack_public_path__ + \"static/media/star-regular.b7450f45.svg\";","import React, { memo } from 'react';\r\n\r\nfunction BlockTitle(props: any) {\r\n  return (\r\n    <div className=\"container\" style={props?.styleDiv}>\r\n      <h1 className=\"title-block-default\" style={props?.styleText}>\r\n        {props?.title}\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockTitle);\r\n","import React, { useEffect, useRef, useState } from 'react';\r\n// import icHeart from '../../images/icons/ic-heart.svg';\r\nimport Picture from '../Picture';\r\n// import { isMobile } from '../../DetectScreen';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getDiscountedPrice, moneyFormater } from '../../redux/Helpers';\r\nimport { isDesktop } from 'react-device-detect';\r\nimport { find } from 'lodash';\r\nimport { PERFUME_TYPE_MAP, PERFUME_TYPE_TAGS } from '../../config';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst itemProduct = ({\r\n  isInHomePage = false,\r\n  productItem,\r\n  handleModalProduct,\r\n}: {\r\n  isInHomePage?: boolean;\r\n  productItem: any;\r\n  handleModalProduct: any;\r\n}) => {\r\n  const itemProductRef = useRef<any>(null);\r\n  const [image, setImage] = useState<any>({});\r\n  const [video, setVideo] = useState<any>({});\r\n  const keyEndpoint = productItem?.value ? productItem?.value : productItem;\r\n\r\n  const history = useHistory();\r\n\r\n  const directDetailProduct = (handle: any, brandName: any) => {\r\n    history.push('/brand/' + brandName + '/' + handle);\r\n  };\r\n\r\n  const generateLink = (handle: any, brandName: any) => {\r\n    return '/brand/' + brandName + '/' + handle;\r\n  };\r\n\r\n  const getLowestProductPrice = (variants: { price: string }[]): string => {\r\n    const sort = variants.sort(function (a, b) {\r\n      return (parseFloat(a.price) || 0) - (parseFloat(b.price) || 0);\r\n    });\r\n    return sort[0].price.toString();\r\n  };\r\n\r\n  const getDiscountPriceOfLowestProductPrice = (variants: any) => {\r\n    const sort = variants.sort(function (a: any, b: any) {\r\n      return (parseFloat(a.price) || 0) - (parseFloat(b.price) || 0);\r\n    });\r\n    return getDiscountedPrice(sort[0]?.price, sort[0]?.discount);\r\n  };\r\n\r\n  const getPerfumeType = (tags: string[]): string => {\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (PERFUME_TYPE_TAGS.includes(tags[i].toLowerCase()))\r\n        return PERFUME_TYPE_MAP[tags[i].toLowerCase()];\r\n    }\r\n    return '';\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (itemProductRef && itemProductRef.current) {\r\n      const width = itemProductRef.current.clientHeight;\r\n      const height = itemProductRef.current.clientHeight;\r\n      setImage({\r\n        ...keyEndpoint.images?.[0]?.url,\r\n        width: width,\r\n        height: height,\r\n      });\r\n    }\r\n  }, [keyEndpoint, itemProductRef]);\r\n\r\n  useEffect(() => {\r\n    if (keyEndpoint?.product_videos) {\r\n      const videoFirst = find(keyEndpoint.product_videos, (i: any) => i.position == 1);\r\n      setVideo(videoFirst);\r\n    }\r\n  }, [keyEndpoint]);\r\n\r\n  const willShowDiscount = (): boolean => {\r\n    let show =\r\n      keyEndpoint?.max_discount &&\r\n      keyEndpoint?.max_discount?.value &&\r\n      keyEndpoint?.max_discount?.show_on_detail_page;\r\n\r\n    if (isInHomePage) show = show * keyEndpoint?.max_discount?.show_on_homepage;\r\n\r\n    return show;\r\n  };\r\n\r\n  const countNumberOfDiscount = () => {\r\n    let count: any = 0;\r\n    keyEndpoint?.product_variants?.forEach((e: any) => {\r\n      if (e?.discount > 0) {\r\n        count++;\r\n      }\r\n    });\r\n    return count;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {keyEndpoint ? (\r\n        <div\r\n          className=\"product-item-box\"\r\n          onClick={() => {\r\n            directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n          }}\r\n        >\r\n          <div className=\"favorite-box\">\r\n            <div></div>\r\n            <span\r\n              className=\"sale-inf\"\r\n              style={{\r\n                visibility: willShowDiscount() ? 'visible' : 'hidden',\r\n              }}\r\n            >\r\n              {countNumberOfDiscount() > 1 && 'Up to '}-{keyEndpoint?.max_discount?.value}%\r\n            </span>\r\n          </div>\r\n          <div className=\"img-box\">\r\n            <Link\r\n              to={generateLink(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle)}\r\n            >\r\n              <div className=\"img-video-product\" ref={itemProductRef}>\r\n                {video ? (\r\n                  <video\r\n                    poster={video?.preview_image}\r\n                    width={'100%'}\r\n                    height={'100%'}\r\n                    autoPlay\r\n                    muted\r\n                    loop\r\n                  >\r\n                    <source src={video.src} type=\"video/mp4\" />\r\n                  </video>\r\n                ) : (\r\n                  <Picture data={image} />\r\n                )}\r\n              </div>\r\n            </Link>\r\n            <button\r\n              className=\"btn-quick-view\"\r\n              onClick={(e: any) => {\r\n                e.stopPropagation();\r\n                handleModalProduct(keyEndpoint);\r\n              }}\r\n            >\r\n              QUICK VIEW\r\n            </button>\r\n          </div>\r\n          <div className=\"info\">\r\n            <p className=\"title-item\">{keyEndpoint.brand?.name}</p>\r\n            <div className=\"title-info\">\r\n              <h4 className=\"product-name\">{keyEndpoint?.name}</h4>\r\n              <p className=\"type\">\r\n                {keyEndpoint?.tags?.length ? getPerfumeType(keyEndpoint?.tags) : ''}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"bot\">\r\n            <span>\r\n              <span className={productItem.sale ? 'sale-price' : ''}>\r\n                From &nbsp;\r\n                {keyEndpoint?.product_variants && keyEndpoint?.product_variants[0]?.price ? (\r\n                  <span className={`price ${willShowDiscount() ? 'strike-through' : ''}`}>\r\n                    {`${moneyFormater(getLowestProductPrice(keyEndpoint?.product_variants))}`}\r\n                  </span>\r\n                ) : null}\r\n              </span>\r\n              &nbsp;\r\n              {willShowDiscount() ? (\r\n                <span style={{ marginLeft: '1rem' }} className=\"discount-price\">\r\n                  {getDiscountPriceOfLowestProductPrice(keyEndpoint?.product_variants)}\r\n                </span>\r\n              ) : null}\r\n            </span>\r\n\r\n            {!isDesktop ? (\r\n              <button\r\n                className=\"btn-add\"\r\n                onClick={(e: any) => {\r\n                  e.stopPropagation();\r\n                  handleModalProduct(keyEndpoint);\r\n                }}\r\n              >\r\n                QUICK VIEW\r\n              </button>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\n// itemProduct.propTypes = {\r\n//   productItem: PropTypes.object.isRequired,\r\n// };\r\n\r\nexport default itemProduct;\r\n","export default __webpack_public_path__ + \"static/media/wishlist-gold-regular.9318fd16.svg\";","import React, { memo, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n// import { isTablet } from '../../DetectScreen';\r\nimport Picture from '../Picture';\r\nimport starSolidIcon from '../../images/icons/star-solid.svg';\r\nimport starIcon from '../../images/icons/star-regular.svg';\r\nimport starHaftIcon from '../../images/icons/star-half-solid.svg';\r\nimport iconMale from '../../images/icons/collection-male.svg';\r\nimport iconFemale from '../../images/icons/collection-female.svg';\r\nimport iconUnisex from '../../images/icons/collection-unisex.svg';\r\nimport wishListIcon from '../../images/icons/wishlist-solid.svg';\r\nimport olfactoryIcon from '../../images/icons/sundora-icons.svg';\r\nimport wishListActiveIcon from '../../images/icons/wishlist-gold-regular.svg';\r\nimport addIcon from '../../images/icons/addToCart-white.svg';\r\nimport { fetchClient, moneyFormater, toastrWarning } from '../../redux/Helpers';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport * as action from '../../redux/product/actions';\r\nimport * as actionHome from '../../redux/home/actions';\r\nimport {\r\n  GET_WISHLIST,\r\n  MAXIMUM_QUANTITY_ADDING_TO_CART,\r\n  PERFUME_TYPE_MAP,\r\n  PERFUME_TYPE_TAGS,\r\n  PHONE_CONTACT,\r\n} from '../../config';\r\nimport { filter, find, isEmpty, map, sumBy } from 'lodash';\r\nimport { addProductToCart } from '../../utils/helpers/productTracker';\r\nimport { useHistory } from 'react-router';\r\nimport Select from 'react-dropdown-select';\r\nimport { Collapse } from 'react-collapse';\r\n\r\nfunction ProductDetailModal({\r\n  handleOpenModalNote,\r\n  handleModalClose,\r\n  handleOutStockProduct,\r\n  data,\r\n  inventory,\r\n  defaultVariant,\r\n  isWishListChecked,\r\n}: {\r\n  handleOpenModalNote: any;\r\n  handleModalClose: any;\r\n  handleOutStockProduct: any;\r\n  data: any;\r\n  inventory: any;\r\n  defaultVariant: any;\r\n  isWishListChecked: boolean;\r\n}): JSX.Element {\r\n  const [checkOutValue, setCheckOutValue] = useState<any>({ variant_id: null, quantity: 1 });\r\n  const [price, setPrice] = useState<any>();\r\n  const [discountedPrice, setDiscountedPrice] = useState<any>();\r\n  const state = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const [isWishList, setIsWishList] = useState<any>(null);\r\n  const [dataGender, setDataGender] = useState<any>({});\r\n  const [inventoryVariant, setInventoryVariant] = useState<any>({});\r\n  const [tagsCollapse, setTagsCollapse] = useState<any>({});\r\n  const [tags, setTags] = useState<any>([]);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const calculatePriceDiscount = (value: any, discountValue: any) => {\r\n    return (parseFloat(value) * (100 - parseFloat(discountValue || 0))) / 100;\r\n  };\r\n\r\n  const handleChangeVariant = (value: any) => {\r\n    setCheckOutValue({ ...value, quantity: 1 });\r\n    setPrice(value?.price);\r\n    setDiscountedPrice(calculatePriceDiscount(value?.price, value?.discount));\r\n  };\r\n\r\n  const getPerfumeType = (tags: string[]): string => {\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (PERFUME_TYPE_TAGS.includes(tags[i].toLowerCase()))\r\n        return PERFUME_TYPE_MAP[tags[i].toLowerCase()];\r\n    }\r\n    return '';\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Gender icon\r\n    const unisex = find(data?.collections, (i: any) => i.handle == 'unisex');\r\n    if (unisex) {\r\n      setDataGender(unisex);\r\n    } else {\r\n      const gender = find(\r\n        data?.collections,\r\n        (i: any) => i.handle == 'man' || i.handle == 'woman',\r\n      );\r\n      setDataGender(gender);\r\n    }\r\n\r\n    //Merge similar tags\r\n    if (data?.translated_tags) {\r\n      setTags(mergeSimilarTranslatedTags(data.translated_tags));\r\n    }\r\n  }, [data]);\r\n  useEffect(() => {\r\n    setCheckOutValue({ ...defaultVariant, quantity: 1 });\r\n    if (defaultVariant?.price) {\r\n      setPrice(defaultVariant?.price);\r\n      if (defaultVariant?.discount) {\r\n        setDiscountedPrice(\r\n          calculatePriceDiscount(defaultVariant?.price, defaultVariant?.discount),\r\n        );\r\n      }\r\n    }\r\n    setIsWishList(null);\r\n  }, [defaultVariant]);\r\n\r\n  useEffect(() => {\r\n    const invenVariant = find(\r\n      inventory,\r\n      (i: any) => i.variant_id == checkOutValue?.variant_id,\r\n    );\r\n    setInventoryVariant(invenVariant);\r\n  }, [inventory, checkOutValue]);\r\n\r\n  const handleCheckoutProduct = (e: any) => {\r\n    e.stopPropagation();\r\n    if (!handleInventory('checkout')) {\r\n      return;\r\n    }\r\n    const index = state?.lineItems.findIndex(function (e: any) {\r\n      return e.variant_id == checkOutValue.variant_id;\r\n    });\r\n    const copyArr = [...state?.lineItems];\r\n\r\n    let quantity = checkOutValue?.quantity;\r\n    if (index != -1) {\r\n      quantity = state?.lineItems[index].quantity + checkOutValue.quantity;\r\n      const newData = {\r\n        variant_id: checkOutValue.variant_id,\r\n        quantity: quantity,\r\n      };\r\n      copyArr[index] = newData;\r\n    } else {\r\n      copyArr.push(checkOutValue);\r\n    }\r\n\r\n    addProductToCart({\r\n      ...data,\r\n      variant_id: checkOutValue?.variant_id,\r\n      price: checkOutValue?.price,\r\n      title: checkOutValue?.title,\r\n      quantity: quantity,\r\n    });\r\n\r\n    dispatch(action.checkoutProduct(copyArr));\r\n\r\n    dispatch(actionHome.toggleShoppingbag(true));\r\n\r\n    handleModalClose();\r\n  };\r\n\r\n  const decrement = () => {\r\n    setCheckOutValue({ ...checkOutValue, quantity: checkOutValue.quantity - 1 });\r\n    setPrice(parseFloat(checkOutValue?.price) * (checkOutValue?.quantity - 1));\r\n    setDiscountedPrice(\r\n      calculatePriceDiscount(\r\n        parseFloat(checkOutValue.price) * (checkOutValue.quantity - 1),\r\n        checkOutValue?.discount,\r\n      ),\r\n    );\r\n  };\r\n  const increment = () => {\r\n    if (!handleInventory('increment')) {\r\n      return;\r\n    }\r\n    setCheckOutValue({ ...checkOutValue, quantity: checkOutValue.quantity + 1 });\r\n    setPrice(parseFloat(checkOutValue.price) * (checkOutValue.quantity + 1));\r\n    setDiscountedPrice(\r\n      calculatePriceDiscount(\r\n        parseFloat(checkOutValue.price) * (checkOutValue.quantity + 1),\r\n        checkOutValue?.discount,\r\n      ),\r\n    );\r\n  };\r\n\r\n  const handleInventory = (type: string) => {\r\n    if (inventoryVariant?.inventory_quantity <= 0) {\r\n      handleOutStockProduct();\r\n      return false;\r\n    }\r\n\r\n    const titleVariant = find(\r\n      data?.product_variants,\r\n      (i: any) => i.variant_id == inventoryVariant.variant_id,\r\n    )?.title;\r\n    const title = `${data.name} ${titleVariant != 'Default Title' ? `- ${titleVariant}` : ''}`;\r\n\r\n    if (\r\n      type == 'increment' &&\r\n      checkOutValue.quantity + 1 > inventoryVariant.inventory_quantity\r\n    ) {\r\n      toastrWarning(`${title} only ${inventoryVariant.inventory_quantity} products left`);\r\n      return false;\r\n    }\r\n    if (type == 'increment' && checkOutValue.quantity == MAXIMUM_QUANTITY_ADDING_TO_CART) {\r\n      toastrWarning(`For bigger purchase, please contact ${PHONE_CONTACT}`);\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const dataFilterOlScent = filter(data.scents, (item: any) => item.type == 'olfactory');\r\n\r\n  const handleOpenModal = (data: any) => {\r\n    handleOpenModalNote(data);\r\n  };\r\n\r\n  const handleAddToWishList = () => {\r\n    if (isWishList == null) {\r\n      if (isWishListChecked) {\r\n        const options = {\r\n          url: `${GET_WISHLIST}/`,\r\n          method: 'DELETE',\r\n          body: {\r\n            product_id: data?.id || null,\r\n          },\r\n        };\r\n        fetchClient(options).then((res) => {\r\n          if (res.success) {\r\n            setIsWishList(false);\r\n          }\r\n        });\r\n      } else {\r\n        const options = {\r\n          url: `${GET_WISHLIST}/`,\r\n          method: 'POST',\r\n          body: {\r\n            product_id: data?.id || null,\r\n          },\r\n        };\r\n        fetchClient(options).then((res) => {\r\n          if (res.success) {\r\n            setIsWishList(true);\r\n          }\r\n        });\r\n      }\r\n    } else if (isWishList == false) {\r\n      const options = {\r\n        url: `${GET_WISHLIST}/`,\r\n        method: 'POST',\r\n        body: {\r\n          product_id: data?.id || null,\r\n        },\r\n      };\r\n      fetchClient(options).then((res) => {\r\n        if (res.success) {\r\n          setIsWishList(true);\r\n        }\r\n      });\r\n    } else {\r\n      const options = {\r\n        url: `${GET_WISHLIST}/`,\r\n        method: 'DELETE',\r\n        body: {\r\n          product_id: data?.id || null,\r\n        },\r\n      };\r\n      fetchClient(options).then((res) => {\r\n        if (res.success) {\r\n          setIsWishList(false);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const directDetailProduct = (handle: any, brandName: any) => {\r\n    history.push('/brand/' + brandName + '/' + handle);\r\n  };\r\n\r\n  const sum = sumBy(data?.reviews, (item: any) => item.star);\r\n  const avg = Number(\r\n    data?.reviews && sum ? (Math.round((sum / data?.reviews.length) * 2) / 2).toFixed(1) : 0,\r\n  );\r\n\r\n  const setItemTagsCollapse = (tagId: any) => {\r\n    const item: any = {};\r\n    item[tagId] = !tagsCollapse[tagId];\r\n    setTagsCollapse({ ...tagsCollapse, ...item });\r\n  };\r\n\r\n  const mergeSimilarTranslatedTags = (\r\n    translateTags: Array<{ id: number; key: string; value: string }>,\r\n  ): Array<{ id: number; key: string; value: string }> => {\r\n    const returnedTags: Array<{ id: number; key: string; value: string }> = [];\r\n    translateTags.forEach((item) => {\r\n      const foundTag = returnedTags.findIndex((tag) => tag.key === item.key);\r\n      if (foundTag >= 0) {\r\n        returnedTags[foundTag].value = returnedTags[foundTag].value + ',' + item.value;\r\n      } else {\r\n        returnedTags.push(item);\r\n      }\r\n    });\r\n    return returnedTags;\r\n  };\r\n\r\n  return data ? (\r\n    <section className=\"blk-product-detail-modal\">\r\n      <section className=\"row\">\r\n        <div className=\"col-12\" style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n          <button className=\"btn-close\" type=\"button\" onClick={handleModalClose}></button>\r\n        </div>\r\n        {data?.images ? (\r\n          <div className=\"col-md-6 col-12 img-favorite-box\">\r\n            <div className=\"favorite-box\">\r\n              <div></div>\r\n              <span\r\n                className=\"sale-inf\"\r\n                style={{\r\n                  visibility: checkOutValue?.discount > 0 ? 'visible' : 'hidden',\r\n                }}\r\n              >\r\n                {checkOutValue?.discount > 0 ? `-${checkOutValue?.discount}%` : ''}\r\n              </span>\r\n            </div>\r\n            {data?.images && data?.images.length > 0 ? (\r\n              <div className=\"product-img\">\r\n                <Picture data={data.images[0].url} />\r\n                <link itemProp=\"image\" href={data.images[0]?.url?.original} />\r\n              </div>\r\n            ) : (\r\n              ''\r\n            )}\r\n          </div>\r\n        ) : (\r\n          ''\r\n        )}\r\n        <div className=\"col-md-6 col-12\">\r\n          {data?.product_variants ? (\r\n            <section className=\"detail-product\">\r\n              <div>\r\n                <div className=\"head\">\r\n                  <div className=\"block-name\">\r\n                    {data?.brand?.name ? (\r\n                      <h3 className=\"brand-name\">{data?.brand?.name}</h3>\r\n                    ) : (\r\n                      ''\r\n                    )}\r\n                    <h1 className=\"product-name\">{data?.name}</h1>\r\n                    <h1 className=\"product-type\">\r\n                      {data?.tags?.length ? getPerfumeType(data?.tags) : ''}\r\n                    </h1>\r\n                    <meta itemProp=\"name\" content={data?.name} />\r\n                  </div>\r\n                  <div className=\"box-gender\">\r\n                    <img\r\n                      src={\r\n                        dataGender?.handle == 'man'\r\n                          ? iconMale\r\n                          : dataGender?.handle == 'woman'\r\n                          ? iconFemale\r\n                          : iconUnisex\r\n                      }\r\n                      alt=\"ic-male\"\r\n                      width={35}\r\n                      height={35}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"box-evaluate-wishlist\">\r\n                  <div className=\"evaluate-box\">\r\n                    <ul>\r\n                      {map([1, 2, 3, 4, 5], (star: any, index: any) => {\r\n                        return avg % 1 != 0.5 ? (\r\n                          <li key={index}>\r\n                            <span className=\"star-icon\">\r\n                              {avg < star ? (\r\n                                <img src={starIcon} alt=\"\" />\r\n                              ) : (\r\n                                <img src={starSolidIcon} alt=\"\" />\r\n                              )}\r\n                            </span>\r\n                          </li>\r\n                        ) : (\r\n                          <li>\r\n                            <span className=\"star-icon\" key={index}>\r\n                              {(avg - star) % 1 == 0.5 ? (\r\n                                <img src={starSolidIcon} alt=\"\" />\r\n                              ) : avg + 0.5 < star ? (\r\n                                <img src={starIcon} alt=\"\" />\r\n                              ) : (\r\n                                <img src={starHaftIcon} alt=\"\" />\r\n                              )}\r\n                            </span>\r\n                          </li>\r\n                        );\r\n                      })}\r\n                      <li>\r\n                        <p className=\"text-avg\">\r\n                          {avg} ({data?.reviews.length})\r\n                        </p>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"d-flex align-items-center box-wishlist\">\r\n                    <button\r\n                      className={`btn-add-wish ${\r\n                        isWishList == null\r\n                          ? isWishListChecked\r\n                            ? 'wish-list'\r\n                            : ''\r\n                          : isWishList\r\n                          ? 'wish-list'\r\n                          : ''\r\n                      } `}\r\n                      onClick={handleAddToWishList}\r\n                    >\r\n                      <span>\r\n                        {isWishList == null\r\n                          ? isWishListChecked\r\n                            ? 'Added'\r\n                            : 'Add'\r\n                          : isWishList\r\n                          ? 'Added'\r\n                          : 'Add'}{' '}\r\n                        to WishList\r\n                      </span>\r\n                      {isWishList == null ? (\r\n                        isWishListChecked ? (\r\n                          <img src={wishListActiveIcon} className=\"ic-wishlist\" />\r\n                        ) : (\r\n                          <img src={wishListIcon} className=\"ic-wishlist\" />\r\n                        )\r\n                      ) : isWishList ? (\r\n                        <img src={wishListActiveIcon} className=\"ic-wishlist\" />\r\n                      ) : (\r\n                        <img src={wishListIcon} className=\"ic-wishlist\" />\r\n                      )}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"main\">\r\n                <ul className=\"scent-group-box\">\r\n                  {dataFilterOlScent.length > 0 ? (\r\n                    <li>\r\n                      <div className=\"wrapper-img\">\r\n                        <img src={olfactoryIcon} alt=\"\" />\r\n                      </div>\r\n                      <div className=\"scent-note\">\r\n                        <h4>SCENT FAMILY</h4>\r\n                        {map(dataFilterOlScent, (item: any, index: any) => (\r\n                          <button key={index} onClick={() => handleOpenModal(item)}>\r\n                            {item.name}\r\n                          </button>\r\n                        ))}{' '}\r\n                      </div>\r\n                    </li>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </ul>\r\n                {/* {data?.translated_tags && data?.translated_tags.length > 0 ? (\r\n                  <div className=\"tag-translated-box\">\r\n                    <ul>\r\n                      {map(data?.translated_tags, (item: any, index: any) => (\r\n                        <li key={index}>\r\n                          <p>\r\n                            <span className=\"title\">{item.key}</span>: {item.value}\r\n                          </p>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                ) : (\r\n                  ''\r\n                )} */}\r\n                {/* Tags translation collapse */}\r\n                {map(tags, (item: any, index: any) => (\r\n                  <div key={index} className=\"box-collapse\">\r\n                    <div\r\n                      className=\"box-collapse__navigate\"\r\n                      onClick={() => setItemTagsCollapse(item.id)}\r\n                    >\r\n                      <p className=\"box-collapse__navigate__text-title\">{item.key}</p>\r\n                      {!isEmpty(tagsCollapse) && tagsCollapse[item.id] ? (\r\n                        <span className=\"material-icons\">expand_less</span>\r\n                      ) : (\r\n                        <span className=\"material-icons\">keyboard_arrow_down</span>\r\n                      )}\r\n                    </div>\r\n                    <Collapse\r\n                      isOpened={!isEmpty(tagsCollapse) ? tagsCollapse[item.id] : false}\r\n                    >\r\n                      <p className=\"tag-description\">{item.value}</p>\r\n                    </Collapse>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              {/* {!isTablet ? ( */}\r\n              <div className=\"quantity-price-bag\">\r\n                <div className=\"size-quantity-group\">\r\n                  {data?.product_variants &&\r\n                  data?.product_variants[0]?.title == 'Default Title' ? (\r\n                    ''\r\n                  ) : (\r\n                    <div className=\"size-box\">\r\n                      <p>\r\n                        {data?.product_options\r\n                          ?.slice(0)\r\n                          ?.reverse()\r\n                          ?.map((e: any, i: any) => (\r\n                            <span key={i}>\r\n                              {i == 0 ? '' : ' / '}\r\n                              {e?.name?.toUpperCase()}\r\n                            </span>\r\n                          ))}\r\n                      </p>\r\n                      {data?.product_variants && data?.product_variants?.length > 1 ? (\r\n                        <>\r\n                          <Select\r\n                            placeholder=\"Select\"\r\n                            className=\"primary-select variant-select\"\r\n                            searchable={false}\r\n                            multi={false}\r\n                            itemRenderer={({ item, methods }: { item: any; methods: any }) => (\r\n                              <div\r\n                                onClick={() => (!item?.disabled ? methods.addItem(item) : '')}\r\n                                className={`custom-item ${\r\n                                  methods.isSelected(item) ? 'selected' : ''\r\n                                } ${item?.disabled ? 'disabled' : ''}`}\r\n                              >\r\n                                <span>\r\n                                  {item.title} {item?.discount > 0 && `(-${item?.discount}%)`}\r\n                                </span>\r\n                              </div>\r\n                            )}\r\n                            labelField=\"title\"\r\n                            onChange={(value: any) => {\r\n                              handleChangeVariant(value[0]);\r\n                            }}\r\n                            valueField=\"variant_id\"\r\n                            options={data?.product_variants}\r\n                            values={[\r\n                              data?.product_variants && data?.product_variants?.length > 0\r\n                                ? data?.product_variants[0]\r\n                                : {},\r\n                            ]}\r\n                          />\r\n                          <p className=\"variant-option-count\">{`${data?.product_variants?.length} options available`}</p>\r\n                        </>\r\n                      ) : (\r\n                        <div className=\"size\">{data?.product_variants[0]?.title}</div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                  <div className=\"quantity-price-group\">\r\n                    <div>\r\n                      <p>Quantity</p>\r\n                      <section className=\"quantity-box\">\r\n                        <button onClick={decrement} disabled={checkOutValue.quantity <= 1}>\r\n                          &mdash;\r\n                        </button>\r\n                        <input type=\"text\" value={checkOutValue.quantity} readOnly />\r\n                        <button onClick={increment}>&#xff0b;</button>\r\n                      </section>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    style={{ marginTop: '1rem' }}\r\n                    className={checkOutValue?.discount > 0 ? 'price strike-through' : 'price'}\r\n                  >\r\n                    <p>Price</p>\r\n                    <h2>{moneyFormater(price)}</h2>\r\n                  </div>\r\n                  {checkOutValue?.discount > 0 ? (\r\n                    <div className=\"price discount-price\" style={{ marginTop: '1rem' }}>\r\n                      <p>Discounted Price</p>\r\n                      <h2>{moneyFormater(discountedPrice)}</h2>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n                <div className=\"box-button\">\r\n                  <button className=\"add-to-bag\" onClick={handleCheckoutProduct}>\r\n                    ADD TO BAG\r\n                    <img src={addIcon} />\r\n                  </button>\r\n                  <button\r\n                    className=\"view-more__btn\"\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      directDetailProduct(data.handle, data?.brand_page?.page_ptr?.handle);\r\n                    }}\r\n                  >\r\n                    View more details\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {\r\n                //  ) : (\r\n                //   ''\r\n                // )}\r\n              }\r\n            </section>\r\n          ) : (\r\n            ''\r\n          )}\r\n        </div>\r\n      </section>\r\n      {/* {isTablet ? (\r\n        <div className=\"quantity-price-bag pb-4\">\r\n          <div className=\"quantity-price-group\">\r\n            <div>\r\n              <p>Quantity</p>\r\n              <section className=\"quantity-box\">\r\n                <button onClick={decrement} disabled={checkOutValue.quantity <= 1}>\r\n                  &mdash;\r\n                </button>\r\n                <input type=\"text\" value={checkOutValue.quantity} readOnly />\r\n                <button onClick={increment}>&#xff0b;</button>\r\n              </section>\r\n            </div>\r\n            <div className=\"price\">\r\n              <p>Price</p>\r\n              <h2>{price ? price : ''}</h2>\r\n            </div>\r\n          </div>\r\n          <div className=\"box-button\">\r\n            <button className=\"add-to-bag\" onClick={handleCheckoutProduct}>\r\n              ADD TO BAG\r\n              <img src={addIcon} />\r\n            </button>\r\n            <button\r\n              className=\"view-more__btn\"\r\n              onClick={() => {\r\n                directDetailProduct(data.handle, data?.brand_page?.page_ptr?.handle);\r\n              }}\r\n            >\r\n              View more details\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        ''\r\n      )} */}\r\n    </section>\r\n  ) : (\r\n    <></>\r\n  );\r\n}\r\n\r\nProductDetailModal.propTypes = {\r\n  data: PropTypes.object,\r\n};\r\n\r\nexport default memo(ProductDetailModal);\r\n","export default __webpack_public_path__ + \"static/media/chevron-left-solid.f0ce9362.svg\";","export default __webpack_public_path__ + \"static/media/chevron-right-solid.883f9ff6.svg\";","import React, { memo, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ItemProduct from './itemProduct';\r\nimport { map } from 'lodash';\r\nimport ProductDetailModal from '../ProductDetail/modal';\r\nimport { fetchClient, toastrSuccess } from '../../redux/Helpers';\r\nimport { GET_PRODUCT_DETAIL, GET_WISHLIST } from '../../config';\r\nimport Modal from 'react-modal';\r\nimport ProductNoteModal from '../ProductNoteModal';\r\nimport { useDispatch } from 'react-redux';\r\nimport * as action from '../../redux/auth/actions';\r\nimport LEFTARROW from '../../images/icons/chevron-left-solid.svg';\r\nimport RIGHTARROW from '../../images/icons/chevron-right-solid.svg';\r\n// import DotLoader from '../DotLoader';\r\n\r\nfunction BlockProduct({\r\n  productList,\r\n  title,\r\n  isInHomePage = false,\r\n  hasScrollButtons = false,\r\n}: {\r\n  productList: any;\r\n  title: string;\r\n  isInHomePage?: boolean;\r\n  hasScrollButtons?: boolean;\r\n}) {\r\n  const scrollAmount = 500;\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const [visibleModalDetail, setVisibleModalDetail] = useState<boolean>(false);\r\n  const [dataProductDetail, setDataProductDetail] = useState<any>({});\r\n  const [dataProductInventory, setDataProductInventory] = useState<any>({});\r\n\r\n  const [visibleModalNote, setVisibleModalNote] = useState<boolean>(false);\r\n  const [dataNoteModal, setDataNoteModal] = useState<any>([]);\r\n\r\n  const [visibleModalOutStock, setVisibleModalOutStock] = useState<boolean>(false);\r\n\r\n  const scrl = useRef<HTMLDivElement>(null);\r\n  const [scrollX, setscrollX] = useState(0);\r\n  const [scrolEnd, setscrolEnd] = useState(false);\r\n\r\n  const slide = (shift: number) => {\r\n    if (scrl.current) {\r\n      scrl.current.scrollLeft += shift;\r\n      setscrollX(scrollX + shift);\r\n\r\n      if (\r\n        Math.floor(scrl.current.scrollWidth - scrl.current.scrollLeft) <=\r\n        scrl.current.offsetWidth\r\n      ) {\r\n        setscrolEnd(true);\r\n      } else {\r\n        setscrolEnd(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const scrollCheck = () => {\r\n    if (scrl.current) {\r\n      setscrollX(scrl.current.scrollLeft);\r\n      if (\r\n        Math.floor(scrl.current.scrollWidth - scrl.current.scrollLeft) <=\r\n        scrl.current.offsetWidth\r\n      ) {\r\n        setscrolEnd(true);\r\n      } else {\r\n        setscrolEnd(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleModalProduct = async (product: any) => {\r\n    const productUrl: string = product.handle;\r\n    setLoading(true);\r\n    const options = {\r\n      url: `${GET_PRODUCT_DETAIL}${productUrl}/quick-view/`,\r\n      method: 'GET',\r\n      body: null,\r\n    };\r\n    const optionsInventory = {\r\n      url: `${GET_PRODUCT_DETAIL}${productUrl}/inventory/`,\r\n      method: 'POST',\r\n      body: null,\r\n    };\r\n    fetchClient(optionsInventory).then((res: any) => {\r\n      if (res?.success) {\r\n        setDataProductInventory(res.data);\r\n      }\r\n    });\r\n\r\n    const pending = [fetchClient(options)];\r\n    try {\r\n      const results = await Promise.all(pending);\r\n      const dataProduct = results[0];\r\n      setDataProductDetail(dataProduct);\r\n      setVisibleModalDetail(true);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      // toastrError(error.message);\r\n      // this.props.loadingPage(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleModal = (data: any) => {\r\n    setDataNoteModal(data);\r\n    setVisibleModalNote(!visibleModalNote);\r\n  };\r\n  const handleAddToWishList = () => {\r\n    if (!localStorage.getItem('sundoraToken')) {\r\n      localStorage.setItem('product_wishlist_id', dataProductDetail?.id);\r\n      dispatch(action.toggleModalLoginActions(true));\r\n      return;\r\n    }\r\n    const options = {\r\n      url: `${GET_WISHLIST}/`,\r\n      method: 'POST',\r\n      body: {\r\n        product_id: dataProductDetail?.id || null,\r\n      },\r\n    };\r\n    fetchClient(options).then((res) => {\r\n      if (res.success) {\r\n        toastrSuccess(res?.message);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section className=\"blk-product\">\r\n      {loading ? '' : ''}\r\n      <div className=\"container\">\r\n        {/* <div className=\"curl\"></div> */}\r\n        {title ? <h3 className=\"title-block\">{title}</h3> : ''}\r\n        {scrollX !== 0 && hasScrollButtons && productList.length > 4 && (\r\n          <img\r\n            className=\"icon prev-icon\"\r\n            onClick={() => slide(-scrollAmount)}\r\n            src={LEFTARROW}\r\n            alt=\"left\"\r\n          />\r\n        )}\r\n        <div ref={scrl} onScroll={scrollCheck} className=\"row list-product\">\r\n          {map(productList, (item: any, index: number) => (\r\n            <div\r\n              className=\"col-md-3 col-12 animated fasted fade-in product-wrapper\"\r\n              key={index}\r\n            >\r\n              <ItemProduct\r\n                isInHomePage={isInHomePage}\r\n                productItem={item}\r\n                handleModalProduct={handleModalProduct}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {!scrolEnd && hasScrollButtons && productList.length > 4 && (\r\n          <img\r\n            className=\"icon next-icon\"\r\n            onClick={() => slide(+scrollAmount)}\r\n            src={RIGHTARROW}\r\n            alt=\"left\"\r\n          />\r\n        )}\r\n        {/* Product detail modal */}\r\n        {visibleModalDetail ? (\r\n          <Modal\r\n            isOpen={visibleModalDetail}\r\n            ariaHideApp={false}\r\n            onRequestClose={() => setVisibleModalDetail(false)}\r\n            style={{ overlay: { zIndex: 99, background: 'rgba(0, 0, 0, 0.35)' } }}\r\n            className=\"modal-quick-view__content\"\r\n          >\r\n            <ProductDetailModal\r\n              handleOpenModalNote={handleToggleModal || null}\r\n              handleModalClose={() => setVisibleModalDetail(false)}\r\n              handleOutStockProduct={() => setVisibleModalOutStock(true)}\r\n              data={dataProductDetail}\r\n              inventory={dataProductInventory}\r\n              defaultVariant={\r\n                dataProductDetail?.product_variants &&\r\n                dataProductDetail?.product_variants.length > 0\r\n                  ? dataProductDetail?.product_variants[0]\r\n                  : {}\r\n              }\r\n              isWishListChecked={dataProductDetail?.wishlist?.checked}\r\n            />\r\n          </Modal>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        {/* Product scents modal */}\r\n        {visibleModalNote ? (\r\n          <Modal\r\n            isOpen={visibleModalNote}\r\n            ariaHideApp={false}\r\n            onRequestClose={() => handleToggleModal(null)}\r\n            style={{ overlay: { zIndex: 99, background: 'rgba(0, 0, 0, 0.35)' } }}\r\n            className=\"modal-scent-view__content\"\r\n          >\r\n            <div className=\"col-12\" style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n              <button\r\n                className=\"btn-close\"\r\n                type=\"button\"\r\n                onClick={() => handleToggleModal(null)}\r\n              ></button>\r\n            </div>\r\n            <ProductNoteModal data={dataNoteModal} />\r\n          </Modal>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        {/* Product out stock modal */}\r\n        {visibleModalOutStock ? (\r\n          <Modal\r\n            isOpen={visibleModalOutStock}\r\n            ariaHideApp={false}\r\n            onRequestClose={() => setVisibleModalOutStock(false)}\r\n            style={{ overlay: { zIndex: 99, background: 'rgba(0, 0, 0, 0.35)' } }}\r\n            className=\"modal-outstock-view__content\"\r\n          >\r\n            <div className=\"box-warning\">\r\n              <div className=\"col-12\" style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                <button\r\n                  className=\"btn-close\"\r\n                  type=\"button\"\r\n                  onClick={() => setVisibleModalOutStock(false)}\r\n                ></button>\r\n              </div>\r\n              <div className=\"box-content\">\r\n                <p className=\"warning\">Warning</p>\r\n                <p className=\"description\">\r\n                  Sorry! This product is out of stock, click on the button below to get\r\n                  notified when it is back!\r\n                </p>\r\n                <button className=\"btn-add-to-wishlist\" onClick={handleAddToWishList}>\r\n                  Notify me\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Modal>\r\n        ) : (\r\n          ''\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nBlockProduct.propTypes = {\r\n  productList: PropTypes.array,\r\n  title: PropTypes.string,\r\n};\r\n\r\nexport default memo(BlockProduct);\r\n","export default __webpack_public_path__ + \"static/media/logo.d1cd0572.png\";","import React, { useEffect, useRef, useState } from 'react';\r\nimport icAddToCart from '../../../images/icons/addToCart-white.svg';\r\nimport Picture from '../../Picture';\r\nimport { useDispatch, useSelector, RootStateOrAny } from 'react-redux';\r\nimport * as action from '../../../redux/product/actions';\r\nimport * as actionHome from '../../../redux/home/actions';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { moneyFormater } from '../../../redux/Helpers';\r\nimport { addProductToCart } from '../../../utils/helpers/productTracker';\r\n\r\nfunction itemProduct({ productItem }: { productItem: any }) {\r\n  const state = useSelector((state: RootStateOrAny) => state.productReducer);\r\n  const itemProductRef = useRef<any>(null);\r\n  const [image, setImage] = useState({});\r\n  const dispatch = useDispatch();\r\n  const keyEndpoint = productItem?.value ? productItem?.value : productItem;\r\n  const handleCheckoutProduct = (e: any) => {\r\n    e.stopPropagation();\r\n    const variant = keyEndpoint?.product_variants[0] || {};\r\n    const data = {\r\n      // variant_id: 39482168017060,\r\n      variant_id: variant?.variant_id ?? '',\r\n      quantity: 1,\r\n    };\r\n    const index = state?.lineItems.findIndex(function (e: any) {\r\n      return e.variant_id == data.variant_id;\r\n    });\r\n    const copyArr = [...state?.lineItems];\r\n\r\n    if (index != -1) {\r\n      const newData = {\r\n        variant_id: data.variant_id,\r\n        quantity: state?.lineItems[index].quantity + data.quantity,\r\n      };\r\n      copyArr[index] = newData;\r\n    } else {\r\n      copyArr.push(data);\r\n    }\r\n\r\n    addProductToCart({\r\n      ...keyEndpoint,\r\n      variant_id: variant.variant_id,\r\n      price: variant?.price,\r\n      title: variant?.title,\r\n      quantity: 1,\r\n    });\r\n\r\n    dispatch(action.checkoutProduct(copyArr));\r\n\r\n    dispatch(actionHome.toggleShoppingbag(true));\r\n  };\r\n  const history = useHistory();\r\n\r\n  const directDetailProduct = (handle: any, brandName: any) => {\r\n    history.push('/brand/' + brandName + '/' + handle);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (itemProductRef && itemProductRef.current) {\r\n      const width = itemProductRef.current.clientHeight;\r\n      const height = itemProductRef.current.clientHeight;\r\n      setImage({\r\n        ...keyEndpoint.images[0]?.url,\r\n        width: width,\r\n        height: height,\r\n      });\r\n    }\r\n  }, [keyEndpoint, itemProductRef]);\r\n  return (\r\n    <div\r\n      className=\"product-item-box\"\r\n      // onClick={() => {\r\n      //   directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n      // }}\r\n    >\r\n      <div className=\"favorite-box\">\r\n        {/* <img\r\n          src={icHeart}\r\n          alt=\"\"\r\n          style={{ visibility: !productItem.is_favorite ? 'visible' : 'hidden' }}\r\n        /> */}\r\n        <div></div>\r\n\r\n        {keyEndpoint.fixed_rebate ? (\r\n          <span\r\n            className=\"sale-inf\"\r\n            style={{ visibility: keyEndpoint.fixed_rebate > 0 ? 'visible' : 'hidden' }}\r\n          >\r\n            {keyEndpoint.fixed_rebate > 0 ? `-${keyEndpoint.fixed_rebate}%` : ''}\r\n          </span>\r\n        ) : (\r\n          ''\r\n        )}\r\n        {/* <span\r\n          className=\"sale-inf bonus\"\r\n          style={{ display: productItem.bonus ? 'flex' : 'none' }}\r\n        >\r\n          3{' '}\r\n          <span>\r\n            <span>FOR</span> 2\r\n          </span>\r\n        </span> */}\r\n      </div>\r\n      <div className=\"img-product\" ref={itemProductRef}>\r\n        <Picture data={image} />\r\n      </div>\r\n      <div className=\"bot\">\r\n        <div className=\"row\">\r\n          <div className=\"info\">\r\n            <p className=\"title-item\">{keyEndpoint.brand?.name}</p>\r\n            <p className=\"title-info\">{keyEndpoint?.name}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\" info\">\r\n            <span className={`money ${productItem.sale ? 'sale-price' : ''}`}>\r\n              {moneyFormater(keyEndpoint?.product_variants[0].price)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"btn-detail\"\r\n          onClick={() => {\r\n            directDetailProduct(keyEndpoint.handle, keyEndpoint?.brand_page?.page_ptr?.handle);\r\n          }}\r\n        >\r\n          Discover\r\n        </button>\r\n        <button className=\"btn-add\" onClick={handleCheckoutProduct}>\r\n          ADD TO BAG\r\n          <img src={icAddToCart} alt=\"ic-add-to-cart\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// itemProduct.propTypes = {\r\n//   productItem: PropTypes.object.isRequired,\r\n// };\r\n\r\nexport default itemProduct;\r\n","import React, { memo, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ItemProduct from './itemProduct';\r\nimport { map } from 'lodash';\r\nimport { isMobile } from '../../../DetectScreen';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\n\r\nfunction BlockProduct({\r\n  productList,\r\n  title,\r\n  subTitle,\r\n}: {\r\n  productList: any;\r\n  title: string;\r\n  subTitle: string;\r\n}) {\r\n  const [selectedIndex, setSelectedIndex] = useState<number>(0);\r\n\r\n  const handleSlider = (type: string) => {\r\n    if (type == 'next') {\r\n      setSelectedIndex(\r\n        selectedIndex + 1 >= productList.length ? productList.length - 1 : selectedIndex + 1,\r\n      );\r\n      return;\r\n    }\r\n    if (type == 'prev') {\r\n      setSelectedIndex(selectedIndex - 1 <= 0 ? 0 : selectedIndex - 1);\r\n      return;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"blk-questionnaire-product\">\r\n      <div className=\"container\">\r\n        {/* Title */}\r\n        {title ? <h3 className=\"title-block\">{title}</h3> : ''}\r\n\r\n        {/* Sub title */}\r\n        {subTitle ? <p className=\"sub-title-block\">{subTitle}</p> : ''}\r\n\r\n        {/* line center */}\r\n        <div className=\"line-center\"></div>\r\n\r\n        <div className={`${!isMobile ? 'row' : ''} list-product`}>\r\n          {isMobile ? (\r\n            <>\r\n              <AwesomeSlider\r\n                selected={selectedIndex}\r\n                fillParent={false}\r\n                mobileTouch={true}\r\n                buttons={false}\r\n                bullets={true}\r\n                className=\"animation-slider\"\r\n                onTransitionEnd={(e: any) => {\r\n                  setSelectedIndex(e.currentIndex);\r\n                }}\r\n              >\r\n                {map(productList, (item: any, index: number) => (\r\n                  <div\r\n                    className=\"animated fasted fade-in\"\r\n                    key={index}\r\n                    style={{ marginBottom: 16 }}\r\n                  >\r\n                    <ItemProduct productItem={item} />\r\n                  </div>\r\n                ))}\r\n              </AwesomeSlider>\r\n              <div className=\"group-button\">\r\n                <button\r\n                  className={`next ${\r\n                    selectedIndex == productList.length - 1 ? 'btn-end' : ''\r\n                  }`}\r\n                  onClick={() => {\r\n                    handleSlider('next');\r\n                  }}\r\n                >\r\n                  <span className=\"material-icons\">navigate_next</span>\r\n                </button>\r\n                <button\r\n                  className={`prev ${selectedIndex == 0 ? 'btn-end' : ''}`}\r\n                  onClick={() => {\r\n                    handleSlider('prev');\r\n                  }}\r\n                >\r\n                  <span className=\"material-icons\">navigate_next</span>\r\n                </button>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {map(productList, (item: any, index: number) => (\r\n                <div\r\n                  className=\"col-lg-3 col-md-4 col-6 animated fasted fade-in\"\r\n                  key={index}\r\n                  style={{ marginBottom: 16 }}\r\n                >\r\n                  <ItemProduct productItem={item} />\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nBlockProduct.propTypes = {\r\n  productList: PropTypes.array,\r\n  title: PropTypes.string,\r\n};\r\n\r\nexport default memo(BlockProduct);\r\n","export default __webpack_public_path__ + \"static/media/left-arrow.3c5c1c94.svg\";","export default __webpack_public_path__ + \"static/media/home.9bf8126f.svg\";","import { isEmpty } from 'lodash';\r\nimport React, { memo, useEffect, useState } from 'react';\r\nimport SundoraLogo from '../../images/block-questionnaire/logo.png';\r\nimport { GET_QUESTIONNAIRE } from '../../config';\r\nimport { fetchClient } from '../../redux/Helpers';\r\nimport AwesomeSlider from 'react-awesome-slider';\r\nimport 'react-awesome-slider/src/core/styles.scss';\r\nimport DotLoader from '../DotLoader';\r\nimport BlockProduct from './BlockProduct';\r\nimport { isMobile } from '../../DetectScreen';\r\nimport icBack from '../../images/block-questionnaire/left-arrow.svg';\r\nimport icHome from '../../images/block-questionnaire/home.svg';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction BlockQuestionnaire({ data }: { data: any }) {\r\n  const [dataQuestionnaire, setDataQuestionnaire] = useState<any>([]);\r\n  const [question, setQuestion] = useState<any>([]);\r\n  const [questionSliderIndex, setQuestionSliderIndex] = useState<any>(0);\r\n  const [answerTemp, setAnswerTemp] = useState<any>({\r\n    questionIndex: null,\r\n    answerKey: null,\r\n  });\r\n  // const [questionReady, setQuestionReady] = useState<boolean>(false);\r\n  const [loadingProduct, setLoadingProduct] = useState<boolean>(false);\r\n  const [dotClick, setDotClick] = useState<boolean>(false);\r\n  const [products, setProducts] = useState<Array<any>>([]);\r\n  const [productNotExists, setProductNotExists] = useState<boolean>(false);\r\n  const [lastQuestion, setLastQuestion] = useState<boolean>(false);\r\n\r\n  const fetchDataInit = async () => {\r\n    if (isEmpty(dataQuestionnaire)) {\r\n      const options = {\r\n        url: `${GET_QUESTIONNAIRE}${data?.value}`,\r\n        method: 'GET',\r\n        body: null,\r\n      };\r\n      try {\r\n        const res = await fetchClient(options);\r\n        if (res.length > 0) {\r\n          setDataQuestionnaire(res);\r\n          setQuestion([...question, { ...res[0] }]);\r\n        }\r\n      } catch (error) {\r\n        // toastrError(error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAnswerTemp = (index: any, answerKey: any) => {\r\n    if (index == 5) {\r\n      setLastQuestion(true);\r\n    } else {\r\n      setLastQuestion(false);\r\n    }\r\n    setAnswerTemp({\r\n      ...answerTemp,\r\n      questionIndex: index,\r\n      answerKey: answerKey,\r\n    });\r\n  };\r\n\r\n  const handleQuestionSliderDot = (index: any) => {\r\n    if (index < question.length && index != questionSliderIndex) {\r\n      if (questionSliderIndex > 0) {\r\n        const questionClone = [...question];\r\n        setQuestion(questionClone.slice(0, index + 1));\r\n      }\r\n      setQuestionSliderIndex(index);\r\n      setDotClick(true);\r\n    }\r\n  };\r\n\r\n  const handleBackOrReStartQuestion = () => {\r\n    if (productNotExists || products.length > 0) {\r\n      setProducts([]);\r\n      setQuestion([{ ...dataQuestionnaire[0] }]);\r\n      setQuestionSliderIndex(0);\r\n      setProductNotExists(false);\r\n      return;\r\n    }\r\n    if (questionSliderIndex > 0) {\r\n      const questionClone = [...question];\r\n      questionClone.pop();\r\n      setQuestion(questionClone);\r\n    }\r\n    const index = questionSliderIndex == 0 ? 0 : questionSliderIndex - 1;\r\n    setQuestionSliderIndex(index);\r\n    setDotClick(true);\r\n  };\r\n\r\n  const handleQuestion = () => {\r\n    if (answerTemp.questionIndex == null) {\r\n      return;\r\n    }\r\n    const questionParent = question.find(\r\n      (item: any, index: any) => index == answerTemp.questionIndex,\r\n    );\r\n    if (!lastQuestion && questionParent && questionParent.children) {\r\n      const answer = questionParent.children.find(\r\n        (item: any) => item.data.parent_answer == `answer_${answerTemp.answerKey}`,\r\n      );\r\n      if (answer) {\r\n        if (dotClick) {\r\n          const questionTemp = question.slice(0, answerTemp.questionIndex + 1);\r\n          setQuestion([...questionTemp, { ...answer }]);\r\n          setQuestionSliderIndex(questionTemp.length);\r\n          setDotClick(false);\r\n        } else {\r\n          setQuestion([...question, { ...answer }]);\r\n          setQuestionSliderIndex(question.length);\r\n        }\r\n        setAnswerTemp({\r\n          ...answerTemp,\r\n          questionIndex: null,\r\n          answerKey: null,\r\n        });\r\n        // setQuestionReady(true);\r\n      } else {\r\n        setLoadingProduct(true);\r\n      }\r\n      return;\r\n    }\r\n    setLoadingProduct(true);\r\n  };\r\n\r\n  const handleGetProduct = async () => {\r\n    const lastQuestion = question[question.length - 1];\r\n    let childQuestion = lastQuestion;\r\n    if (lastQuestion?.children && lastQuestion?.children.length > 0) {\r\n      childQuestion = lastQuestion.children.find(\r\n        (item: any) => item.data.parent_answer == `answer_${answerTemp.answerKey}`,\r\n      );\r\n    }\r\n    const params = {\r\n      questionnaire_id: childQuestion?.id,\r\n      collections: childQuestion?.data?.collection,\r\n      scents: childQuestion?.data?.scent,\r\n    };\r\n    const options = {\r\n      url: `${GET_QUESTIONNAIRE}`,\r\n      method: 'POST',\r\n      body: params,\r\n    };\r\n    try {\r\n      const res = await fetchClient(options);\r\n      setProducts(res.products);\r\n      setLoadingProduct(false);\r\n      if (res.products.length == 0) {\r\n        setProductNotExists(true);\r\n      }\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDataInit();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (loadingProduct) {\r\n      handleGetProduct();\r\n    }\r\n  }, [loadingProduct]);\r\n\r\n  useEffect(() => {\r\n    handleQuestion();\r\n  }, [answerTemp]);\r\n\r\n  return (\r\n    <div\r\n      className=\"site-questionnaire\"\r\n      style={{ backgroundImage: `url('${data?.background?.webp}')`, backgroundSize: 'cover' }}\r\n    >\r\n      {loadingProduct ? <DotLoader /> : ''}\r\n      <div className={`container ${products.length > 0 ? 'opacity-none' : ''}`}>\r\n        {/* Posision asoluste */}\r\n        <button className={`btn-back`} onClick={handleBackOrReStartQuestion}>\r\n          {/* <span className=\"material-icons\">trending_flat</span> */}\r\n          <img className=\"ic-back\" src={icBack} alt=\"ic-back\" />\r\n          <span>{productNotExists || products.length > 0 ? 'RESTART QUIZ' : 'BACK'}</span>\r\n        </button>\r\n\r\n        <Link className={`btn-home`} to=\"/\">\r\n          {/* <span className=\"material-icons\">home</span> */}\r\n          <img className=\"ic-home\" src={icHome} alt=\"ic-home\" />\r\n          <br />\r\n          <span>HOME</span>\r\n        </Link>\r\n\r\n        {/* Logo */}\r\n        <div className=\"logo\">\r\n          <img src={SundoraLogo} width={130} height=\"auto\" alt=\"sundora-logo\" />\r\n        </div>\r\n\r\n        {productNotExists ? (\r\n          <div className=\"product-not-exists\">\r\n            <h2>\r\n              There is no suitable product for you,{' '}\r\n              <span onClick={handleBackOrReStartQuestion}>please try again</span>.\r\n            </h2>\r\n          </div>\r\n        ) : products.length > 0 ? (\r\n          <BlockProduct\r\n            productList={products}\r\n            title={'Top products for you:'}\r\n            subTitle={'Based on your answers here it what we recommend'}\r\n          />\r\n        ) : (\r\n          <div className=\"question\">\r\n            {/* Text question */}\r\n            <h2 className=\"text-question-step\">Question {questionSliderIndex + 1} / 6</h2>\r\n\r\n            <AwesomeSlider\r\n              selected={questionSliderIndex}\r\n              fillParent={false}\r\n              mobileTouch={false}\r\n              bullets={false}\r\n              className=\"animation-slider\"\r\n              buttons={false}\r\n            >\r\n              {question.map((item: any, index: any) => (\r\n                <div key={index} className=\"detail-question\">\r\n                  {/* Text question name */}\r\n                  <h1 className=\"text-question-name\">{item.data.question}</h1>\r\n\r\n                  {/* line center */}\r\n                  <div className=\"line-center\"></div>\r\n\r\n                  {/* Block answer */}\r\n                  <div className=\"row\" style={{ padding: isMobile ? 20 : 13 }}>\r\n                    {[1, 2, 3, 4].map((answer: any) => (\r\n                      <button\r\n                        key={answer}\r\n                        onClick={() => {\r\n                          handleAnswerTemp(index, answer);\r\n                        }}\r\n                        className={`${isMobile ? 'col-12' : 'col'} block-answer ${\r\n                          answerTemp.answerKey == answer ? 'block-answer-active' : ''\r\n                        } ${item.data[`answer_${answer}`] != '' ? '' : 'd-none'}`}\r\n                      >\r\n                        <p>{item.data[`answer_${answer}`]}</p>\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </AwesomeSlider>\r\n\r\n            {/* btn next {question */}\r\n            {/* <button className=\"btn-next\" onClick={handleQuestion}>\r\n              <span>Next question</span>\r\n              <span className=\"material-icons\">\r\n                navigate_next\r\n              </span>\r\n            </button> */}\r\n\r\n            {/* group dot */}\r\n            <div className=\"group-dot\">\r\n              {Array.from(Array(6).keys()).map((item: any, index: any) => (\r\n                <button\r\n                  key={index}\r\n                  className={`btn-dot${index < question.length ? ' btn-dot-active' : ''}`}\r\n                  onClick={() => handleQuestionSliderDot(index)}\r\n                ></button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BlockQuestionnaire);\r\n","export default __webpack_public_path__ + \"static/media/star-half-solid.0989532e.svg\";","export default __webpack_public_path__ + \"static/media/collection-male.32e4edc6.svg\";","export default __webpack_public_path__ + \"static/media/collection-female.df0d316d.svg\";","export default __webpack_public_path__ + \"static/media/collection-unisex.00c21738.svg\";","export default __webpack_public_path__ + \"static/media/wishlist-solid.b261e9c0.svg\";","export default __webpack_public_path__ + \"static/media/sundora-icons.de885f7d.svg\";","export default __webpack_public_path__ + \"static/media/product-note-top-title.30db0861.png\";","import React, { memo } from 'react';\r\nimport Picture from '../Picture';\r\nimport scentStrength from '../../images/scent-strength.png';\r\nimport scentbg from '../../images/product-note-top-title.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ProductNoteModal(props: any) {\r\n  const { data } = props;\r\n  return (\r\n    <section className=\"product-note-modal\">\r\n      <div className=\"content\">\r\n        <div className=\"row\">\r\n          {data.image ? (\r\n            <div className=\"col-md-4 col-12\">\r\n              <div className=\"wrapper-img\">\r\n                <Picture data={data.image?.url} />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            ''\r\n          )}\r\n          <div className={`${data.image ? 'col-md-8' : 'col-md-12'} col-12`}>\r\n            <div className=\"content-note\">\r\n              <h2 className=\"title\">{data?.name}</h2>\r\n              <p>{data?.description}</p>\r\n              <section className=\"footer-content\">\r\n                {data.strength ? (\r\n                  <div className=\"col-left\">\r\n                    <div className=\"scent-strenght\">\r\n                      <div className=\"wrap-strength\">\r\n                        <img loading=\"lazy\" src={scentStrength} alt=\"\" />\r\n                        <div\r\n                          className=\"fill-percent animated faster level-strength\"\r\n                          style={{\r\n                            width: `${\r\n                              data.strength == 0\r\n                                ? 0\r\n                                : data?.strength <= 10\r\n                                ? data?.strength + 5\r\n                                : data?.strength\r\n                            }%`,\r\n                          }}\r\n                        ></div>\r\n                      </div>\r\n                      <h1>{data?.strength}</h1>\r\n                    </div>\r\n                    <h2>SCENT STRENGTH</h2>\r\n                  </div>\r\n                ) : (\r\n                  ''\r\n                )}\r\n\r\n                <div\r\n                  className=\"col-right\"\r\n                  style={{ display: data?.type == 'olfactory' ? 'block' : 'none' }}\r\n                >\r\n                  <img src={scentbg} alt=\"\" />\r\n                  <Link to={data?.name ? `/product?scents=${data?.id}` : '/'}>\r\n                    {data?.nof_products} fragrance{data?.nof_products > 2 ? 's' : ''} with{' '}\r\n                    {data?.name}\r\n                  </Link>\r\n                </div>\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default memo(ProductNoteModal);\r\n","export default \"data:image/png;base64,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r7HfkjFohNUi47e59lNTAABUXj2oHvjVr0ocx8JG2GKMGqvRO5odv4Ir5AAAHVMPqkO7h0t8vkv+ZRhHAKDnpSO9QnWMdjRuCqJ5TT8podBWDgCAjioVVIXUcpp+KUKhrRwAAB1VKqhSiH2+AAAvE1QBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRBFQCAkARVAABCElQBAAhJUAUAICRB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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAACCUlEQVQ4jX3UT4iNYRTH8c9FUkjJLbf8nWyMCGlkJ2xEKWnQlBKSUCwsbGz9KQphgTCIZpR/s7BRQkTIQlKGhLrqKilZSOjo3Nvba8yv3nrfnvN83/P8zjlPpX3zVgNoOK5gBm7jKeZgMT5gOb7Hts5atbV7yCCguTiCsdiN2HUUk9CHEeWNw0rf43Ams1iIfhwuxVzDA/RiPT6XMwvIPrxDWwE0kN7nesS966k39vXUG+OLsJNYhY2YOQioqf6Mi/iVuFSEVXABl/ELS9L0+3nkotZifsZF/PHc34IVC1HJoIf4hBOFtS6cx6zSD1qw8GsRXubCUIzEK7zBmALoHLanLcUjd/TUG7Wh1XkdexAGbsPvTP8LDuURoxHnFUAnSlm9Tr8nRGYb0J2QpsKH0dljowYBRdP+Tr/XBexivAzQwD+wugDqy/ferORf9dQblbSgOwD7MTVTLaqrlNHZ7K2YkBuFuGWYHpyA1XP+2kvlLx9tMq7iNCYmNDQNjztr1XpznH6WsnqLLaWqHcSxbIMDaUNTf/0uzuYaPMd1PMqnqMjwZg54f0JXYBMaCqZHFrdyLJ5EmctVS31MUKxHXMTfzQK2YOHbjjT4K+5gyn+AAYr1iGvrrFW3dNaqMfz/XEEBjYsv2iDmci8WYDZe4B525s3RuiCbGuhyjICleIZdWZxT+DYYCP4ADHeE+wNWS38AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAARCAYAAABTnsXCAAAB6UlEQVRIib3VS4iPURjH8c9/XBeINGVQLrPAlIWyssPCpRQbSUnZKCykbCzUsLCTMkkGmVIySRJKSblk4RYLLDRFuZX75FJu6eFJ/97e9280Y371ds55z3me9/uc57zPqbWt36hCy3C6avIf9RHN+Fw0W9nSbGgDX+PxAEv7CTAZVzCiDCLUCCL0BY/6CVHLdjU+Zf8HTqG3LxADoZb0sSmDCk3E4gQbFIimbJfgcfZn4RbWoqupgfH/VJy1Lejofv6yNXZiecnHrg4CyP7cnaMBsadkwapBgAjtxI2AmFqxYOYAfehZtr0lc9/UHcyxhckPAwQQeoI5FRDqId4W3s9vsH4RpuMuLvcBYnj+DfNwCfeqIKYV3r8oSdM4XEArHmI2zkblxfcKgLa0qaXPvdiB9jKIvlTF9nQ2Be8T8jrWobPCpjOjX5P5X4DzOJN14peKdeIc7mBultYZOY70LMQBDMvonqIbG3JN/bMVIzMFu7Pdh4u4nTDh87iSinkYo/Iw9WTktey/ysvoXTr8muOejKxe97NEx+05CdcSeAgm4HXa7cKbIsSJwrirrh/F5VAC3szcRrGJKP9sbUFh04HNaRf+YodOZjBH/naVF3UMo7E9o4toVzQACG3LQ3sQY/JKj1QEwG/hJ3W5bLRdKf6/AAAAAElFTkSuQmCC\"","import PropTypes from 'prop-types';\r\nimport React, { useRef } from 'react';\r\n\r\nfunction Slide({\r\n  child,\r\n  sliderWidth,\r\n  sliderHeight,\r\n  scaleOnDrag = false,\r\n  isSquareWrapper = false,\r\n}: {\r\n  child: any;\r\n  sliderWidth: any;\r\n  sliderHeight: any;\r\n  scaleOnDrag: boolean;\r\n  isSquareWrapper: boolean;\r\n}) {\r\n  const slideRef = useRef<any>('slide');\r\n\r\n  const onMouseDown = () => {\r\n    if (scaleOnDrag) slideRef.current.style.transform = 'scale(0.9)';\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    if (scaleOnDrag) slideRef.current.style.transform = 'scale(1)';\r\n  };\r\n  return (\r\n    <section\r\n      className=\"slide-styles\"\r\n      ref={slideRef}\r\n      style={{\r\n        height: !isSquareWrapper\r\n          ? `${window.innerHeight - 192}px`\r\n          : `${slideRef.current.clientWidth}px`,\r\n      }}\r\n    >\r\n      <div\r\n        unselectable=\"on\"\r\n        className=\"slide-inner\"\r\n        style={{\r\n          width: sliderWidth ? sliderWidth : 0,\r\n          height:\r\n            sliderHeight && !isSquareWrapper\r\n              ? sliderHeight\r\n              : `${slideRef.current.clientWidth}px`,\r\n        }}\r\n        onMouseDown={onMouseDown}\r\n        onMouseUp={onMouseUp}\r\n        onTouchStart={onMouseDown}\r\n        onTouchEnd={onMouseUp}\r\n        onMouseLeave={onMouseUp}\r\n        onDragStart={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          return false;\r\n        }}\r\n      >\r\n        {child}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nSlide.propTypes = {\r\n  child: PropTypes.element.isRequired,\r\n  sliderWidth: PropTypes.number.isRequired,\r\n  sliderHeight: PropTypes.number.isRequired,\r\n  scaleOnDrag: PropTypes.bool,\r\n};\r\n\r\nexport default Slide;\r\n","import PropTypes from 'prop-types';\r\nimport React, { useCallback, useEffect, useLayoutEffect, useRef, useState } from 'react';\r\nimport Slide from './Slide';\r\n\r\nexport function getPositionX(event: any) {\r\n  return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;\r\n}\r\n\r\nexport function getElementDimensions(ref: any) {\r\n  const width = ref.current.clientWidth;\r\n  const height = ref.current.clientHeight;\r\n  return { width, height };\r\n}\r\n\r\nfunction Slider({\r\n  children,\r\n  onSlideComplete,\r\n  onSlideStart,\r\n  activeIndex = null,\r\n  threshHold = 100,\r\n  transition = 0.3,\r\n  scaleOnDrag = false,\r\n  isSquare = false,\r\n  dragOrAuto = false,\r\n  slideInterval = 5000,\r\n}: {\r\n  children: any;\r\n  onSlideComplete: any;\r\n  onSlideStart: any;\r\n  activeIndex: any;\r\n  threshHold: number;\r\n  transition: any;\r\n  scaleOnDrag: boolean;\r\n  isSquare: boolean;\r\n  dragOrAuto: boolean;\r\n  slideInterval?: number;\r\n}) {\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n\r\n  const dragging = useRef<any>(false);\r\n  const startPos = useRef<any>(0);\r\n  const currentTranslate = useRef<any>(0);\r\n  const prevTranslate = useRef<any>(0);\r\n  const currentIndex = useRef<any>(activeIndex || 0);\r\n  const sliderRef = useRef<any>('slider');\r\n  const animationRef = useRef<any>(null);\r\n  const [btnDotClick, setBtnDotClick] = useState<boolean>(false);\r\n\r\n  const setPositionByIndex = useCallback(\r\n    (w = dimensions.width) => {\r\n      currentTranslate.current = currentIndex.current * -w;\r\n      prevTranslate.current = currentTranslate.current;\r\n      setSliderPosition();\r\n    },\r\n    [dimensions.width],\r\n  );\r\n\r\n  const transitionOn = () =>\r\n    (sliderRef.current.style.transition = `transform ${transition}s ease-out`);\r\n\r\n  const transitionOff = () => (sliderRef.current.style.transition = 'none');\r\n\r\n  // watch for a change in activeIndex prop\r\n  useEffect(() => {\r\n    if (activeIndex !== currentIndex.current) {\r\n      transitionOn();\r\n      currentIndex.current = activeIndex;\r\n      setPositionByIndex();\r\n    }\r\n  }, [activeIndex, setPositionByIndex]);\r\n\r\n  // set width after first render\r\n  // set position by startIndex\r\n  // no animation on startIndex\r\n  useLayoutEffect(() => {\r\n    const elementDimensions = getElementDimensions(sliderRef);\r\n    setDimensions(elementDimensions);\r\n\r\n    setPositionByIndex(elementDimensions.width);\r\n\r\n    if (elementDimensions.width == 0 && elementDimensions.height == 0) {\r\n      const intervalCheckWidth = setInterval(() => {\r\n        const elementDimensions = getElementDimensions(sliderRef);\r\n        setDimensions(elementDimensions);\r\n        setPositionByIndex(elementDimensions.width);\r\n      }, 100);\r\n      return () => clearInterval(intervalCheckWidth);\r\n    }\r\n  }, [setPositionByIndex]);\r\n\r\n  // add event listeners\r\n  useEffect(() => {\r\n    // set width if window resizes\r\n    const handleResize = () => {\r\n      transitionOff();\r\n      const { width, height } = getElementDimensions(sliderRef);\r\n      setDimensions({ width, height });\r\n      setPositionByIndex(width);\r\n    };\r\n\r\n    const handleKeyDown = ({ key }: { key: any }) => {\r\n      const arrowsPressed = ['ArrowRight', 'ArrowLeft'].includes(key);\r\n      if (arrowsPressed) transitionOn();\r\n      if (arrowsPressed && onSlideStart) {\r\n        onSlideStart(currentIndex.current);\r\n      }\r\n      if (key === 'ArrowRight' && currentIndex.current < children.length - 1) {\r\n        currentIndex.current += 1;\r\n      }\r\n      if (key === 'ArrowLeft' && currentIndex.current > 0) {\r\n        currentIndex.current -= 1;\r\n      }\r\n      if (arrowsPressed && onSlideComplete) onSlideComplete(currentIndex.current);\r\n      setPositionByIndex();\r\n    };\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [children.length, setPositionByIndex, onSlideComplete, onSlideStart]);\r\n\r\n  function touchStart(index: any) {\r\n    return function (event: any) {\r\n      transitionOn();\r\n      currentIndex.current = index;\r\n      startPos.current = getPositionX(event);\r\n      dragging.current = true;\r\n      animationRef.current = requestAnimationFrame(animation);\r\n      sliderRef.current.style.cursor = 'grabbing';\r\n      // if onSlideStart prop - call it\r\n      if (onSlideStart) onSlideStart(currentIndex.current);\r\n    };\r\n  }\r\n\r\n  function touchMove(event: any) {\r\n    if (dragging.current) {\r\n      const currentPosition = getPositionX(event);\r\n      currentTranslate.current = prevTranslate.current + currentPosition - startPos.current;\r\n    }\r\n  }\r\n\r\n  function touchEnd() {\r\n    transitionOn();\r\n    cancelAnimationFrame(animationRef.current);\r\n    dragging.current = false;\r\n    const movedBy = currentTranslate.current - prevTranslate.current;\r\n\r\n    // if moved enough negative then snap to next slide if there is one\r\n    if (movedBy < -threshHold && currentIndex.current < children.length - 1)\r\n      currentIndex.current += 1;\r\n\r\n    // if moved enough positive then snap to previous slide if there is one\r\n    if (movedBy > threshHold && currentIndex.current > 0) currentIndex.current -= 1;\r\n\r\n    transitionOn();\r\n\r\n    setPositionByIndex();\r\n    sliderRef.current.style.cursor = 'grab';\r\n    // if onSlideComplete prop - call it\r\n    if (onSlideComplete) onSlideComplete(currentIndex.current);\r\n  }\r\n\r\n  function animation() {\r\n    setSliderPosition();\r\n    if (dragging.current) requestAnimationFrame(animation);\r\n  }\r\n\r\n  function setSliderPosition() {\r\n    sliderRef.current.style.transform = `translateX(${currentTranslate?.current}px)`;\r\n  }\r\n\r\n  const setIndexTransitionInterval = () => {\r\n    try {\r\n      const keyIndexInterval = activeIndex + 1 >= children.length ? 0 : activeIndex + 1;\r\n      transitionOn();\r\n      onSlideComplete(keyIndexInterval);\r\n    } catch (error) {\r\n      // console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (dragOrAuto) {\r\n      const autoSlide = () => setTimeout(setIndexTransitionInterval, slideInterval);\r\n      const auto = autoSlide();\r\n      if (btnDotClick) {\r\n        setBtnDotClick(false);\r\n        return () => {\r\n          clearTimeout(auto);\r\n        };\r\n      }\r\n    }\r\n  }, [activeIndex]);\r\n\r\n  return (\r\n    <div className={`${dragOrAuto ? 'block-slider' : 'slider-wrapper'}`}>\r\n      {dragOrAuto ? (\r\n        <>\r\n          <div className=\"slider-wrapper\">\r\n            <ul className=\"slider-styles\" ref={sliderRef}>\r\n              {children.map((child: any) => (\r\n                <li\r\n                  key={child.key}\r\n                  onContextMenu={(e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                  }}\r\n                  className=\"slide-outer\"\r\n                >\r\n                  <Slide\r\n                    child={child}\r\n                    sliderWidth={dimensions.width}\r\n                    sliderHeight={dimensions.height}\r\n                    scaleOnDrag={scaleOnDrag}\r\n                    isSquareWrapper={isSquare}\r\n                  />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div className=\"group-dot\">\r\n            {Array.from(Array(children.length).keys()).map((item: any, index: any) => (\r\n              <div key={index} className=\"owl-page\">\r\n                <button\r\n                  className={`btn-dot ${activeIndex == index ? 'btn-dot-active' : ''}`}\r\n                  onClick={() => {\r\n                    setBtnDotClick(true);\r\n                    onSlideComplete(index);\r\n                  }}\r\n                ></button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <ul className=\"slider-styles\" ref={sliderRef}>\r\n          {children.map((child: any, index: any) => (\r\n            <li\r\n              key={child.key}\r\n              onTouchStart={touchStart(index)}\r\n              onMouseDown={touchStart(index)}\r\n              onTouchMove={touchMove}\r\n              onMouseMove={touchMove}\r\n              onTouchEnd={touchEnd}\r\n              onMouseUp={touchEnd}\r\n              onMouseLeave={() => {\r\n                if (dragging.current) touchEnd();\r\n              }}\r\n              onContextMenu={(e) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n              }}\r\n              className=\"slide-outer\"\r\n            >\r\n              <Slide\r\n                child={child}\r\n                sliderWidth={dimensions.width}\r\n                sliderHeight={dimensions.height}\r\n                scaleOnDrag={scaleOnDrag}\r\n                isSquareWrapper={isSquare}\r\n              />\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nSlider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  onSlideComplete: PropTypes.func,\r\n  onSlideStart: PropTypes.func,\r\n  activeIndex: PropTypes.number,\r\n  threshHold: PropTypes.number,\r\n  transition: PropTypes.number,\r\n  scaleOnDrag: PropTypes.bool,\r\n};\r\n\r\nexport default Slider;\r\n"],"sourceRoot":""}