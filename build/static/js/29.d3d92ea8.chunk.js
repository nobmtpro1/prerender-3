(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[29],{317:function(e,t,c){"use strict";t.a=c.p+"static/media/star-solid.a72ad899.svg"},318:function(e,t,c){"use strict";t.a=c.p+"static/media/star-regular.b7450f45.svg"},383:function(e,t,c){},384:function(e,t,c){},385:function(e,t,c){},386:function(e,t,c){},451:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),i=c(18),s=c(6),l=c(0),o=c(24),r=c(2),d=c(99),j=c(42),u=c(13),b=(c(312),c(383),c(311)),v=c(1),m=c(169),h=function(e){var t=e.size,c=void 0===t?20:t,n=e.stroke,a=void 0===n?"currentColor":n,i=Object(m.a)(e,["size","stroke"]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("svg",Object(v.a)(Object(v.a)({width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"icon-chevron-down"},i),{},{children:Object(l.jsx)("path",{d:"M6 9l6 6 6-6"})}))})},O=function(e){var t=e.size,c=void 0===t?20:t,n=e.stroke,a=void 0===n?"currentColor":n,i=Object(m.a)(e,["size","stroke"]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("svg",Object(v.a)(Object(v.a)({width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"icon-chevron-up"},i),{},{children:Object(l.jsx)("path",{d:"M18 15l-6-6-6 6"})}))})},p=(c(384),c.p+"static/media/shoppingCart-white.397624b1.svg"),x=c.p+"static/media/avatar-white.963773ed.svg",f=c.p+"static/media/ic-sundora-vip.a9adce31.svg",g=c.p+"static/media/heart-border-white.f7671c32.svg",N=c.p+"static/media/tag-white.698699e2.svg",w=c.p+"static/media/location-white.0e951e65.svg";function _(e){var t=e.name,c=function(e){switch(e){case"order":return Object(l.jsx)("img",{src:p});case"sundora-vip":return Object(l.jsx)("img",{src:f,width:"24"});case"account":return Object(l.jsx)("img",{src:x});case"heart":return Object(l.jsx)("img",{src:g});case"tag":return Object(l.jsx)("img",{src:N});case"location":return Object(l.jsx)("img",{src:w});default:return""}};return c(t)?Object(l.jsx)("section",{className:"icon",children:c(t)}):Object(l.jsx)(l.Fragment,{})}_.displayName="Icon";var y=_,k=function(e){var t=e.activeItemId,c=e.onSelect,n=e.items,a=Object(r.useState)({expanded:!0,selectedId:t}),i=Object(s.a)(a,2),o=i[0],d=i[1];function j(e){null===c||void 0===c||c({itemId:e})}return Object(r.useEffect)((function(){d((function(e){return{expanded:e.expanded,selectedId:t}}))}),[t]),Object(l.jsx)(l.Fragment,{children:n.length>0&&Object(l.jsx)("nav",{role:"navigation","aria-label":"side-navigation",className:"side-navigation-panel",children:n.map((function(e){var t=o.expanded&&(e.itemId===o.selectedId||e.subNav&&e.subNav.some((function(e){return e.itemId===o.selectedId}))||!1);return Object(l.jsxs)("ul",{className:"side-navigation-panel-select",children:[Object(l.jsx)("li",{className:"side-navigation-panel-select-wrap",children:Object(l.jsxs)("div",{onClick:function(){!function(e){if(o.expanded){var t=e.itemId===o.selectedId||e.subNav&&e.subNav.some((function(e){return e.itemId===o.selectedId}))||!1;d({expanded:!!(e.subNav&&e.subNav.length>0)&&!t,selectedId:e.itemId})}else d({expanded:!!(e.subNav&&e.subNav.length>0),selectedId:e.itemId})}(e),j(e.itemId)},className:"side-navigation-panel-select-option hover:bg-gray-100 hover:text-gray-800 hover:border-pink-500 focus:outline-none ".concat(o.selectedId===e.itemId?"side-navigation-panel-select-option-selected":""),children:[Object(l.jsxs)("span",{className:"side-navigation-panel-select-option-wrap",children:[Object(l.jsx)(y,{name:e.iconName}),Object(l.jsx)("span",{className:"side-navigation-panel-select-option-text",children:e.title})]}),e.subNav&&e.subNav.length>0&&(t?Object(l.jsx)(O,{}):Object(l.jsx)(h,{}))]})}),e.subNav&&e.subNav.length>0&&t&&Object(l.jsx)("ul",{className:"side-navigation-panel-select-inner",children:e.subNav.map((function(e){return Object(l.jsx)("li",{className:"side-navigation-panel-select-inner-wrap",children:Object(l.jsx)("div",{onClick:function(){d(Object(v.a)(Object(v.a)({},o),{},{selectedId:e.itemId})),j(e.itemId)},className:"side-navigation-panel-select-inner-option hover:bg-gray-100 hover:text-gray-800 hover:border-pink-500 ".concat(o.selectedId===e.itemId?"side-navigation-panel-select-inner-option-selected":""," "),children:e.title})},e.itemId)}))})]},e.itemId)}))})})},I=(c(385),c(8)),C=c(98),S=c.p+"static/media/document.17573b27.svg",E=c.p+"static/media/package.c1149b56.svg",P=c(25),A=c(69),M=c(324),D=c.n(M),R=c(20),T=c(28),B=c(7),Y=c(100);var F=function(e){var t=e.orderId,c=e.isOpen,n=e.onClickAway,a=e.onKeyPress,i=e.fetchDataOrder,o=Object(r.useState)(""),d=Object(s.a)(o,2),b=d[0],v=d[1];return Object(l.jsx)(Y.default,{isOpen:c,minWidth:j.a?"70%":"36%",maskBg:!0,onKeyPress:a,onClickAway:n,children:Object(l.jsxs)("div",{className:"cancel-order",children:[Object(l.jsx)("textarea",{className:"comment",value:b,name:"message",onChange:function(e){return function(e){var t=e.currentTarget.value;e instanceof HTMLTextAreaElement&&(t=e.currentTarget.innerText),v(t)}(e)},rows:8,placeholder:" Cancelling order? Tell us why (Optional)"}),Object(l.jsxs)("div",{className:"cancel-order-action btn-group",children:[Object(l.jsx)("button",{className:"cancel btn-primary-outline",onClick:function(){if(null===t||void 0===t?void 0:t.length){var e={url:"".concat(B.T).concat(t,"/cancel"),method:"PUT",body:{message:b}};Object(u.e)(e).then((function(e){e.success?(Object(u.q)("Cancel successful"),i(!0),n()):e.isError&&(Object(u.p)("Cancel fail"),n())}))}},children:"CANCEL ORDER"}),Object(l.jsx)("button",{className:"back btn-primary",onClick:function(){v(""),n()},children:"GO BACK"})]})]})})};var L=function(e){var t=Object(R.c)((function(e){return e.productReducer})),c=Object(R.b)(),n=Object(T.g)(),a=Object(r.useState)(""),i=Object(s.a)(a,2),d=i[0],j=i[1],b=Object(r.useState)(!1),v=Object(s.a)(b,2),m=v[0],h=v[1],O=function(){n.push("/page/return-policy")};return Object(l.jsxs)(l.Fragment,{children:[Object(o.map)(null===e||void 0===e?void 0:e.data,(function(e,n){var a,i,s,r,d,b,v;return Object(l.jsxs)("div",{className:"wrapper-row-item",children:[Object(l.jsxs)("div",{className:"row info-extra",children:[Object(l.jsx)("div",{className:"col-2",children:D()(null===e||void 0===e?void 0:e.created_at).format("MMM DD YYYY")}),Object(l.jsx)("div",{className:"col-4",children:null===e||void 0===e||null===(a=e.order)||void 0===a?void 0:a.name}),Object(l.jsx)("div",{className:"col-4",children:(null===e||void 0===e?void 0:e.shipping)&&(null===e||void 0===e?void 0:e.expected_date_of_receipt)?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:D()(null===e||void 0===e?void 0:e.expected_date_of_receipt).format("MMM DD YYYY")}),Object(l.jsxs)("p",{className:"text-store-location",children:["(",(null===e||void 0===e?void 0:e.cash_on_pickup)?"Cash on pickup":"Paid",")"]})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Picked up in store"}),!(null===e||void 0===e?void 0:e.shipping)&&(null===e||void 0===e?void 0:e.cash_on_pickup)?Object(l.jsx)("p",{className:"text-store-location",children:"(Cash on pickup)"}):"",(null===e||void 0===e||null===(i=e.store_location)||void 0===i?void 0:i.address1)?Object(l.jsxs)("p",{className:"text-store-location",children:["(",null===e||void 0===e||null===(s=e.store_location)||void 0===s?void 0:s.address1,")"]}):""]})}),Object(l.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:Object(u.l)(null===e||void 0===e||null===(r=e.order)||void 0===r?void 0:r.current_total_price)})]}),Object(o.map)(null===e||void 0===e||null===(d=e.order)||void 0===d?void 0:d.line_items,(function(n,a){var i,s,o,r,d;return Object(l.jsxs)("div",{className:"rowItem row",children:[Object(l.jsx)("div",{className:"col-md-2 col-3",children:Object(l.jsx)("div",{className:"wrapper-img",children:Object(l.jsx)(C.default,{data:null===n||void 0===n||null===(i=n.image)||void 0===i?void 0:i.url})})}),Object(l.jsx)("div",{className:"col-md-4 col-9",children:Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("h3",{children:null===n||void 0===n?void 0:n.vendor}),Object(l.jsx)("h4",{children:null===n||void 0===n?void 0:n.title}),Object(l.jsxs)("div",{children:[(null===n||void 0===n?void 0:n.variant_title)&&Object(l.jsxs)("p",{children:[Object(l.jsx)("label",{children:"Size:"})," ",Object(l.jsx)("span",{children:null===n||void 0===n?void 0:n.variant_title})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("label",{children:"Quantity:"})," ",Object(l.jsx)("span",{children:null===n||void 0===n?void 0:n.quantity})]})]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("label",{children:"Price:"})," ",Object(l.jsx)("span",{children:Object(u.l)(null===n||void 0===n?void 0:n.updated_price)})]})]})}),Object(l.jsx)("div",{className:"col-md-4 col-12",children:"fulfilled"==(null===e||void 0===e||null===(s=e.order)||void 0===s?void 0:s.fulfillment_status)?Object(l.jsxs)("div",{className:"delevery-info",children:[Object(l.jsx)("img",{src:E,alt:"",className:"package-ic"}),Object(l.jsxs)("p",{className:"status",children:[Object(l.jsx)("i",{className:"gg-check"})," Completed"]})]}):"cancelled"==(null===e||void 0===e||null===(o=e.order)||void 0===o?void 0:o.fulfillment_status)?Object(l.jsxs)("div",{className:"delevery-info",children:[Object(l.jsx)("img",{src:S,alt:"",style:{marginLeft:"3.3em"}}),Object(l.jsxs)("p",{className:"status",children:[Object(l.jsx)("i",{className:"gg-check"})," Cancelled"]})]}):"in_transit"==(null===e||void 0===e||null===(r=e.order)||void 0===r?void 0:r.fulfillment_status)?Object(l.jsxs)("div",{className:"delevery-info",children:[Object(l.jsx)("img",{src:S,alt:"",style:{marginLeft:"3.3em"}}),Object(l.jsxs)("p",{className:"status",children:[Object(l.jsx)("i",{className:"gg-check"})," In transit"]})]}):Object(l.jsxs)("div",{className:"delevery-info",children:[Object(l.jsx)("img",{src:S,alt:""}),Object(l.jsxs)("p",{className:"status",children:[Object(l.jsx)("i",{className:"gg-check"})," Order placed"]}),(null===e||void 0===e?void 0:e.expected_date_of_receipt)?Object(l.jsxs)("p",{children:["You have until"," ",D()(null===e||void 0===e?void 0:e.expected_date_of_receipt).utcOffset(null===e||void 0===e?void 0:e.expected_date_of_receipt).format("MMM DD hh:mm a")," ","to cancel this order"]}):""]})}),Object(l.jsx)("div",{className:"col-md-2 col-12",children:"fulfilled"==(null===e||void 0===e||null===(d=e.order)||void 0===d?void 0:d.fulfillment_status)?Object(l.jsxs)("div",{className:"btn-group group-fullfiled",children:[Object(l.jsx)("button",{className:"btn-primary-outline",onClick:function(){return function(e){var n={variant_id:(null===e||void 0===e?void 0:e.variant_id)||"",quantity:1},a=null===t||void 0===t?void 0:t.lineItems.findIndex((function(e){return e.variant_id==n.variant_id})),i=Object(I.a)(null===t||void 0===t?void 0:t.lineItems);if(-1!=a){var s={variant_id:n.variant_id,quantity:(null===t||void 0===t?void 0:t.lineItems[a].quantity)+n.quantity};i[a]=s}else i.push(n);c(P.a(i)),c(A.c(!0))}(n)},children:"ORDER AGAIN"}),Object(l.jsx)("button",{className:"btn-policy",onClick:O,children:"Return policy"})]}):""})]},a)})),Object(l.jsx)("div",{className:"row action-order-history",children:"cancelled"!=(null===e||void 0===e||null===(b=e.order)||void 0===b?void 0:b.fulfillment_status)?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"btn-group",children:[(null===e||void 0===e?void 0:e.uuid)?Object(l.jsx)("a",{target:"__blank",className:"btn-receipt",href:"/receipt/".concat(null===e||void 0===e?void 0:e.uuid)||!1,children:"Receipt"}):"",1==(null===e||void 0===e?void 0:e.shipping)?Object(l.jsx)("button",{className:"btn-primary",onClick:function(){return function(e){(null===e||void 0===e?void 0:e.tracking_url)&&window.open(null===e||void 0===e?void 0:e.tracking_url,"_blank")}(e)},children:"TRACK ORDER"}):"","unfulfilled"==(null===e||void 0===e||null===(v=e.order)||void 0===v?void 0:v.fulfillment_status)?Object(l.jsx)("button",{className:"btn-primary-outline",onClick:function(){return function(e){h(!0),j(null===e||void 0===e?void 0:e.order_id)}(e)},children:"CANCEL ORDER"}):""]})}):""})]},n)})),Object(l.jsx)(F,{isOpen:m,orderId:d,onClickAway:function(){h(!1),j("")},fetchDataOrder:e.fetchDataOrder})]})};var q=function(){var e=Object(r.useState)({}),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),i=Object(s.a)(a,2),d=i[0],j=i[1];Object(r.useEffect)((function(){b(!0)}),[]);var b=function(e){e&&j(!0);var t={url:B.i,method:"GET",body:null};Object(u.e)(t).then((function(e){e.success&&(!function(e){var t=Object(o.groupBy)(e.data,(function(e){return D()(new Date(e.created_at),"DD/MM/YYYY").startOf("month")}));n(t)}(e),j(!1))}))};return Object(l.jsxs)("section",{className:"tab-OrderHistory animated faster fadeIn",children:[Object(l.jsx)("h1",{children:"ORDER HISTORY"}),d?Object(l.jsx)("div",{className:"wrapper-loading",children:Object(l.jsxs)("div",{className:"lds-ellipsis",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})}):Object(l.jsx)(l.Fragment,{children:Object.keys(c).length?Object(o.map)(Object.keys(c),(function(e,t){return Object(l.jsxs)("div",{className:"wrapper-month-list",children:[Object(l.jsx)("h2",{children:e?D()(e).format("MMMM YYYY"):""}),Object(l.jsxs)("div",{className:"table-custom-order-history",style:{paddingBottom:"8px"},children:[Object(l.jsx)("div",{className:"head",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-2",children:"Order Placed"}),Object(l.jsx)("div",{className:"col-4",children:"Order#"}),Object(l.jsx)("div",{className:"col-4",children:"Est delivery date"}),Object(l.jsx)("div",{className:"col-2",style:{textAlign:"right"},children:"total"})]})}),Object(l.jsx)("div",{className:"main",children:Object(l.jsx)(L,{data:c[e],fetchDataOrder:b})})]})]},t)})):Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:"No order history found"})})})]})},G=c(442),z=(c(386),c.p+"static/media/expand.026d37b8.svg"),U=c.p+"static/media/close-small.ac6695c8.svg",W=function(){var e,t=Object(r.useState)((e=0,Array.from({length:e},(function(e,t){return t})).map((function(e){return{id:"item-".concat(e),content:"item ".concat(e)}})))),c=Object(s.a)(t,2),n=c[0],a=c[1],i=Object(r.useState)(null),d=Object(s.a)(i,2),j=d[0],b=d[1],m=function(e){if(e.destination&&n){var t=function(e,t,c){var n=Array.from(e),a=n.splice(t,1),i=Object(s.a)(a,1)[0];n.splice(c,0,i);var l=Object(o.map)(n,(function(e,t){return{id:null===e||void 0===e?void 0:e.content.id,ordinal_number:t+1}})),r={url:"".concat(B.w,"/").concat(j,"/"),method:"PUT",body:{products:l}};return Object(u.e)(r),n}(n,e.source.index,e.destination.index);a(t)}};Object(r.useEffect)((function(){var e={url:"".concat(B.w,"/"),method:"GET",body:null};Object(u.e)(e).then((function(e){if(e.success){var t,c,i=Object(I.a)(n);b(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id),Object(o.map)(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.products,(function(e,t){var c=[{id:"item-".concat(t),content:e}];i=[].concat(Object(I.a)(i),c)})),a(i)}}))}),[]);var h=Object(T.g)(),O=function(e,t){h.push("/brand/"+t+"/"+e)};return Object(l.jsxs)("section",{className:"tab-WishList animated faster fadeIn",children:[Object(l.jsx)("h1",{children:"MY WISH LIST"}),Object(l.jsxs)("div",{className:"head row",children:[Object(l.jsx)("div",{className:"col-1"}),Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("p",{children:"Product"})}),Object(l.jsx)("div",{className:"col-5"}),Object(l.jsx)("div",{className:"col-4",children:Object(l.jsx)("p",{children:"Price"})})]}),n.length?Object(l.jsx)(G.a,{onDragEnd:m,children:Object(l.jsx)(G.c,{droppableId:"droppable",children:function(e){return Object(l.jsxs)("div",Object(v.a)(Object(v.a)({},e.droppableProps),{},{ref:e.innerRef,style:{width:"100%"},children:[Object(o.map)(n,(function(e,t){return Object(l.jsx)(G.b,{draggableId:e.id,index:t,children:function(t,c){var n,i,s,r,d,j,m,h,p,x,f,g,N;return Object(l.jsx)("div",Object(v.a)(Object(v.a)(Object(v.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(g=c.isDragging,N=t.draggableProps.style,Object(v.a)({userSelect:"none",padding:"16px 0",borderBottom:"1px solid #cccccc",margin:"0",background:"white",boxShadow:g?"0px 3px 5px #e8e7e7":""},N)),children:Object(l.jsxs)("div",{className:"row-item row ".concat(c.isDragging?"dragging":""),children:[Object(l.jsx)("div",{className:"col-1 info",children:Object(l.jsx)("img",{src:z,alt:"",className:"expand-ic"})}),Object(l.jsx)("div",{className:"col-2",onClick:function(){var t,c,n;return O(null===e||void 0===e?void 0:e.content.handle,null===e||void 0===e||null===(t=e.content)||void 0===t||null===(c=t.brand_page)||void 0===c||null===(n=c.page_ptr)||void 0===n?void 0:n.handle)},children:Object(l.jsx)("div",{className:"wrapper-img",children:(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.images)&&(null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.images.length)>0?Object(l.jsx)(C.default,{data:null===e||void 0===e||null===(s=e.content)||void 0===s||null===(r=s.images[0])||void 0===r?void 0:r.url}):""})}),Object(l.jsxs)("div",{className:"col-5 info",onClick:function(){var t,c,n;return O(null===e||void 0===e?void 0:e.content.handle,null===e||void 0===e||null===(t=e.content)||void 0===t||null===(c=t.brand_page)||void 0===c||null===(n=c.page_ptr)||void 0===n?void 0:n.handle)},children:[Object(l.jsx)("h4",{children:null===e||void 0===e||null===(d=e.content)||void 0===d?void 0:d.name}),Object(l.jsx)("p",{children:null===e||void 0===e||null===(j=e.content)||void 0===j||null===(m=j.brand)||void 0===m?void 0:m.name})]}),Object(l.jsx)("div",{className:"col-4 price-info",onClick:function(){var t,c,n;return O(null===e||void 0===e?void 0:e.content.handle,null===e||void 0===e||null===(t=e.content)||void 0===t||null===(c=t.brand_page)||void 0===c||null===(n=c.page_ptr)||void 0===n?void 0:n.handle)},children:(null===e||void 0===e||null===(h=e.content)||void 0===h?void 0:h.product_variants)&&(null===e||void 0===e||null===(p=e.content)||void 0===p?void 0:p.product_variants.length)>0?Object(l.jsx)("h3",{children:Object(u.l)(null===e||void 0===e||null===(x=e.content)||void 0===x||null===(f=x.product_variants[0])||void 0===f?void 0:f.price)}):""}),Object(l.jsx)("button",{onClick:function(){return function(e){var t,c={url:"".concat(B.w,"/"),method:"DELETE",body:{product_id:(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.id)||null}};Object(u.e)(c).then((function(e){if(e.success){var t,c;b(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.id);var n=Object(o.map)(null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.products,(function(e,t){return{id:"item-".concat(t),content:e}}));a(Object(I.a)(n))}}))}(e)},className:"close-ic",children:Object(l.jsx)("img",{src:U,alt:""})})]})}))}},e.id)})),e.placeholder]}))}})}):Object(l.jsx)("div",{className:"row-item row",children:Object(l.jsx)("div",{className:"col-12 no-products",children:"No products found in wish list!"})})]})},H=c(43),V=c(380),K=c(50),J=c(12);var Q=function(e){var t,c,n,a,i=Object(R.b)(),d=Object(r.createRef)(),j=Object(r.createRef)(),b=Object(r.useState)({addressInfo:null,isBillingAddress:!0,billingInfo:""}),m=Object(s.a)(b,2),h=m[0],O=m[1],p=Object(r.useState)({first_name_last_name:"",password:"",email:"",phone:""}),x=Object(s.a)(p,2),f=x[0],g=x[1],N=Object(r.useState)({first_name:null,last_name:null,password:"",confirm_password:"",email:null,phone:null}),w=Object(s.a)(N,2),_=w[0],y=w[1],k=function(){if(localStorage.getItem("sundoraToken")){var e={url:B.t,method:"GET",body:null};Object(u.e)(e).then((function(e){if(e.success){if(e.data.phone){var t=e.data.phone;e.data.phone=t.slice(t.indexOf("0"),t.length)}var c=e.data;if(c.guest){var n,a,i,s,l,r,d,j;if(null===c||void 0===c||null===(n=c.note)||void 0===n||null===(a=n.guest)||void 0===a?void 0:a.email)c.email=null===c||void 0===c||null===(l=c.note)||void 0===l||null===(r=l.guest)||void 0===r?void 0:r.email;if(null===c||void 0===c||null===(i=c.note)||void 0===i||null===(s=i.guest)||void 0===s?void 0:s.phone)c.phone=Object(o.replace)(null===c||void 0===c||null===(d=c.note)||void 0===d||null===(j=d.guest)||void 0===j?void 0:j.phone,"+88","")}y(c)}}))}};Object(r.useEffect)((function(){localStorage.getItem("sundoraToken")&&(i(J.d("shipping")),i(J.d("billing"))),k()}),[]);var I=function(e){O(Object(v.a)(Object(v.a)({},h),{},{addressInfo:e,isShowStep2:!1}))},C=function(e){y(Object(v.a)(Object(v.a)({},_),{},Object(H.a)({},e.target.name,e.target.value)))},S=function(){return _.email?0==Object(u.t)(_.email.trim())?"Please enter valid email":void 0:"Please enter email"},E=function(){var e=function(){var e=_.first_name&&(null===_||void 0===_?void 0:_.first_name.trim().replace(/\s+/g," ").length)>0?_.first_name.trim().replace(/\s+/g," ").length:0,t=_.last_name&&(null===_||void 0===_?void 0:_.last_name.trim().replace(/\s+/g," ").length)>0?_.last_name.trim().replace(/\s+/g," ").length:0;return 0===e&&0===t?(d.current.focus(),d.current.scrollIntoView({block:"center",behavior:"smooth"}),"Please enter first name and last name!"):0===e?(d.current.focus(),d.current.scrollIntoView({block:"center",behavior:"smooth"}),"Please enter first name!"):0===t?(j.current.focus(),j.current.scrollIntoView({block:"center",behavior:"smooth"}),"Please enter last name!"):void 0}(),t=function(){if((_.password||_.confirm_password)&&_.password!=_.confirm_password)return"Password confirmation doesn't match password"}(),c=S(),n=function(){if(!_.phone||""==(null===_||void 0===_?void 0:_.phone))return"Please enter phone number";var e=Object(u.g)(_.phone);return 0==Object(u.u)(e)?"Please enter valid phone number":void 0}();return S(),g(Object(v.a)(Object(v.a)({},f),{user_name_last_name:e,password:t,email:c,phone:n})),!!(e||t||c||n)};return Object(l.jsxs)("section",{className:"tab-MyAccount",children:[Object(l.jsxs)("h1",{children:["My Account ",(null===_||void 0===_?void 0:_.guest)?Object(l.jsx)("span",{className:"text-guest",children:"(guest)"}):""]}),Object(l.jsxs)("div",{className:"row",style:{marginBottom:32,paddingBottom:24,borderBottom:"1px solid #ddd"},children:[Object(l.jsx)("div",{className:"col-md-2 col-12",children:Object(l.jsx)("h3",{children:"Account"})}),Object(l.jsx)("div",{className:"col-lg-6 col-md-10 col-12",children:Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(K.a,{type:"text",for:"First name",label:"First name",name:"first_name",value:null===_||void 0===_?void 0:_.first_name,handleChange:C,refName:d})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(K.a,{type:"text",for:"Last name",label:"Last name",name:"last_name",value:null===_||void 0===_?void 0:_.last_name,handleChange:C,validate:!!f.user_name_last_name,validateContent:f.user_name_last_name,refName:j})})]}),Object(l.jsxs)("div",{className:"row p-0",children:[Object(l.jsx)("div",{className:"col-6 off-animation-text",children:Object(l.jsx)(K.a,{type:"text",for:"Birthday",label:"Birthday",name:"",readOnly:!0,value:null!==(t=null===_||void 0===_||null===(c=_.note)||void 0===c?void 0:c.birthday)&&void 0!==t?t:""})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(K.a,{type:"text",for:"gender",label:"Gender",name:"",readOnly:!0,value:null!==(n=null===_||void 0===_||null===(a=_.note)||void 0===a?void 0:a.gender)&&void 0!==n?n:""})})]}),Object(l.jsx)(K.a,{type:"text",for:"Email address",label:"Email address",name:"email",value:(null===_||void 0===_?void 0:_.email)||"",validate:!!f.email,validateContent:f.email,handleChange:C}),Object(l.jsx)("div",{className:"phone-input",children:Object(l.jsx)(K.a,{type:"text",for:"Phone number",label:"Phone number",name:"phone",value:(null===_||void 0===_?void 0:_.phone)||"",validate:!!f.phone,validateContent:f.phone,handleChange:C})}),(null===_||void 0===_?void 0:_.guest)?"":Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(K.a,{type:"password",for:"Password",label:"Password",name:"password",value:(null===_||void 0===_?void 0:_.password)||"",handleChange:C})}),Object(l.jsx)("div",{className:"col-6",children:Object(l.jsx)(K.a,{type:"password",for:"Confirm password",label:"Confirm password",name:"confirm_password",value:(null===_||void 0===_?void 0:_.confirm_password)||"",validate:!0,handleChange:C,validateContent:f.password})})]}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("button",{className:"btn-change-password",onClick:function(){if(!E()){var e={url:B.U,method:"PUT",body:{first_name:_.first_name,last_name:_.last_name,password:_.password?_.password.trim():"",email:_.email||"",phone:_.phone?Object(u.g)(_.phone.trim()):"",confirm_password:_.confirm_password?_.confirm_password.trim():""}};Object(u.e)(e).then((function(e){e.success?(k(),Object(u.q)("Update info successfully")):e.isError}))}},children:"Change"})})]})}),Object(l.jsx)("div",{className:"col-lg-4 col-md-1 col-12"})]}),Object(l.jsxs)("div",{className:"row",style:{marginBottom:32,paddingBottom:24,borderBottom:"1px solid #ddd"},children:[Object(l.jsx)("div",{className:"col-md-2 col-12",children:Object(l.jsx)("h3",{children:"Address"})}),Object(l.jsx)("div",{className:"col-lg-6 col-md-10 col-12",children:Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)(V.a,{google:e.google,center:{lat:18.5204,lng:73.8567},height:"300px",zoom:15,confirmAddressStep:I,isAllowDelete:!0,type:"shipping"}),Object(l.jsxs)("label",{className:"checkbox-button",children:[Object(l.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"choice1-1",name:"isBillingAddress",checked:h.isBillingAddress,onChange:function(e){O(Object(v.a)(Object(v.a)({},h),{},Object(H.a)({},e.target.name,e.target.checked)))}}),Object(l.jsx)("span",{className:"checkbox-button__control"}),Object(l.jsx)("span",{className:"checkbox-button__label",children:"Yes, make this to my billing address"})]})]})}),Object(l.jsx)("div",{className:"col-md-4 col-12"})]}),(null===h||void 0===h?void 0:h.isBillingAddress)?"":Object(l.jsxs)("div",{className:"row",style:{marginBottom:24,marginTop:32},children:[Object(l.jsx)("div",{className:"col-md-2 col-12",children:Object(l.jsx)("h3",{children:"Billing"})}),Object(l.jsx)("div",{className:"col-lg-6 col-md-10 col-12",children:Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)(V.a,{google:e.google,center:{lat:18.5204,lng:73.8567},height:"300px",zoom:15,confirmAddressStep:I,isAllowDelete:!0,type:"billing"})})}),Object(l.jsx)("div",{className:"col-md-4 col-12"})]})]})},X=c(79),Z=c.n(X),$=c(317),ee=c(318);var te=function(e){var t=Object(r.useState)({stars:[1,2,3,4,5],rating:0,hovered:0}),c=Object(s.a)(t,2),n=c[0],a=c[1];Object(r.useEffect)((function(){a({stars:[1,2,3,4,5],rating:(null===e||void 0===e?void 0:e.star)||0,hovered:0})}),[e.star]);var i=function(e){var t=Object(v.a)({},n);t.hovered=e,a(t)},d=n.stars,j=n.rating,u=n.hovered;return Object(l.jsxs)("section",{className:"rating",children:[Object(l.jsx)("span",{className:"title",children:"Overall rating:"}),Object(o.map)(d,(function(t,c){return Object(l.jsx)("span",{style:{cursor:"pointer"},onClick:function(){var c;c=t,a(Object(v.a)(Object(v.a)({},n),{},{rating:c})),e.onChange&&e.onChange(c)},onMouseEnter:function(){i(t)},onMouseLeave:function(){i(0)},children:j<t&&u<t?Object(l.jsx)("img",{src:ee.a,alt:""}):Object(l.jsx)("img",{src:$.a,alt:""})},c)}))]})};var ce=function(e){var t,c=e.item,n=Object(r.useState)(""),a=Object(s.a)(n,2),i=a[0],o=a[1],d=Object(r.useState)(0),j=Object(s.a)(d,2),b=j[0],v=j[1],m=Object(r.useState)(!1),h=Object(s.a)(m,2),O=h[0],p=h[1],x=Object(T.g)(),f=function(e,t){x.push("/brand/"+t+"/"+e)};return Object(l.jsxs)("div",{className:"row-item row",children:[Object(l.jsx)("div",{className:"col-md-2 col-3",onClick:function(){var e,t;return f(null===c||void 0===c?void 0:c.handle,null===c||void 0===c||null===(e=c.brand_page)||void 0===e||null===(t=e.page_ptr)||void 0===t?void 0:t.handle)},children:Object(l.jsx)("div",{className:"wrapper-img",children:Object(l.jsx)(C.default,{data:null===c||void 0===c||null===(t=c.image)||void 0===t?void 0:t.url})})}),Object(l.jsxs)("div",{className:"col-md-4 col-9 info",onClick:function(){var e,t;return f(null===c||void 0===c?void 0:c.handle,null===c||void 0===c||null===(e=c.brand_page)||void 0===e||null===(t=e.page_ptr)||void 0===t?void 0:t.handle)},children:[Object(l.jsx)("h4",{children:null===c||void 0===c?void 0:c.title}),Object(l.jsx)("p",{children:null===c||void 0===c?void 0:c.vendor})]}),Object(l.jsxs)("div",{className:"col-md-6 col-12 review-wrapper",children:[Object(l.jsxs)("div",{className:"review-section",children:[Object(l.jsx)("textarea",{rows:5,onChange:function(e){o(null===e||void 0===e?void 0:e.target.value)},value:i}),Object(l.jsx)(te,{onChange:function(e){v(e)},star:b}),Object(l.jsxs)("label",{className:"checkbox-button",children:[Object(l.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"choice",checked:O,onChange:function(){p(!O)}}),Object(l.jsx)("span",{className:"checkbox-button__control"}),Object(l.jsx)("span",{className:"checkbox-button__label",children:"I want to remain anomynous"})]})]}),Object(l.jsx)("button",{onClick:function(){return function(t){if(""!=i){var c={url:B.q,method:"POST",body:{variant_id:t.variant_id,comment:i,star:b||null,anonymous:O}};Object(u.e)(c).then((function(t){(null===t||void 0===t?void 0:t.success)?(o(""),v(0),p(!1),e.fetchDataReview(),Z.a.info("Review success")):Z.a.error("Review error")}))}else Z.a.error("Please enter reviews")}(c)},children:"Send reviews"})]})]})},ne=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),c=t[0],n=t[1],a=function(){var e={url:B.q,method:"GET",body:null};Object(u.e)(e).then((function(e){e.success&&n(e.data)}))};return Object(r.useEffect)((function(){a()}),[]),Object(l.jsxs)("section",{className:"tab-Reviews animated faster fadeIn",children:[Object(l.jsx)("h1",{children:"MY REVIEWS"}),Object(l.jsxs)("div",{className:"head row",children:[Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("p",{children:"Product"})}),Object(l.jsx)("div",{className:"col-4"}),Object(l.jsx)("div",{className:"col-6",children:j.a?"":Object(l.jsx)("p",{children:"Reviews"})})]}),c.length?Object(o.map)(c,(function(e,t){return Object(l.jsx)(ce,{item:e,fetchDataReview:a},t)})):Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12 no-review",children:"No review found"})})]})},ae=c(135);var ie=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,1)[0],c=Object(r.useState)({newsletter_email:!0,newsletter_sms:!0}),n=Object(s.a)(c,2),a=n[0],i=n[1],o=function(){if(localStorage.getItem("sundoraToken")){var e={url:B.t,method:"GET",body:null};Object(u.e)(e).then((function(e){e.success&&i({newsletter_email:e.data.newsletter_email,newsletter_sms:e.data.newsletter_sms})}))}};Object(r.useEffect)((function(){o()}),[]);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=e.target.value;t&&(c=e.target.checked),i(Object(v.a)(Object(v.a)({},a),{},Object(H.a)({},e.currentTarget.name,c)))},j=function(){var e={url:B.S,method:"PUT",body:a};Object(u.e)(e).then((function(e){e.success?(o(),Object(u.q)("Update info successfully")):e.isError}))};return Object(l.jsxs)("section",{className:"tab-Newsletter animated faster fadeIn",children:[Object(l.jsx)("h1",{children:"Newsletters"}),t?Object(l.jsx)("div",{className:"wrapper-loading",children:Object(l.jsxs)("div",{className:"lds-ellipsis",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"newsletter-text",children:"I consent to Sundora and its service providers, sending me marketing information and materials of Sundora's and its partners' products, services and events, by the following methods:"}),Object(l.jsxs)("div",{className:"newsletter",children:[Object(l.jsxs)("label",{className:"checkbox-button",htmlFor:"newsletter_email",children:[Object(l.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"newsletter_email",name:"newsletter_email",onChange:function(e){return d(e,!0)},checked:a.newsletter_email}),Object(l.jsx)("div",{className:"checkbox-button__control"})]}),Object(l.jsx)("label",{className:"checkbox-button__label",htmlFor:"newsletter_email",children:"Email"}),"\xa0",Object(l.jsxs)("label",{className:"checkbox-button",htmlFor:"newsletter_sms",children:[Object(l.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"newsletter_sms",name:"newsletter_sms",onChange:function(e){return d(e,!0)},checked:a.newsletter_sms}),Object(l.jsx)("div",{className:"checkbox-button__control"})]}),Object(l.jsx)("label",{className:"checkbox-button__label",htmlFor:"newsletter_sms",children:"SMS"})]}),Object(l.jsx)("button",{className:"btn-primary",onClick:j,children:"SAVE"})]})]})};function se(e){var t,c,n=Object(R.b)(),v=Object(r.useState)([]),m=Object(s.a)(v,2),h=m[0],O=m[1],p=Object(r.useState)([]),x=Object(s.a)(p,2),f=x[0],g=x[1],N=Object(r.useState)([]),w=Object(s.a)(N,2),_=w[0],y=w[1],I=Object(r.useState)(""),C=Object(s.a)(I,2),S=C[0],E=C[1],P=function(){var t=Object(i.a)(a.a.mark((function t(){var c,n,i,s,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.match.params?e.match.params:void 0,!(Object(o.isEmpty)(h)||c||Object(o.isEmpty)(_))){t.next=16;break}return n=[Object(u.d)(B.F)],t.prev=3,t.next=6,Promise.all(n);case 6:i=t.sent,s=i[0],l=Object(o.get)(s,"dynamic_links"),O(null===l||void 0===l?void 0:l.navigation),y(null===l||void 0===l?void 0:l.footer),g(!1),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(3);case 16:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){P()}),[]),Object(r.useEffect)((function(){E(e.match.params.tabName)}),[e.match.params.tabName]),Object(l.jsxs)("div",{className:"site-AccountPage",children:[Object(l.jsxs)(ae.a,{children:[Object(l.jsx)("meta",{property:"og:title",content:"Account page | Sundora"}),Object(l.jsx)("meta",{property:"og:description",content:"Account page | Sundora"}),Object(l.jsx)("title",{children:"Account page | Sundora"}),Object(l.jsx)("meta",{name:"description",content:"Account page | Sundora"})]}),f?Object(l.jsx)(d.default,{}):"",Object(l.jsx)("main",{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-lg-3 col-md-12 col-12",children:Object(l.jsx)(k,{activeItemId:(null===e||void 0===e||null===(t=e.match)||void 0===t?void 0:t.url)?null===e||void 0===e||null===(c=e.match)||void 0===c?void 0:c.url:"/account/my-account",onSelect:function(t){var c=t.itemId;e.history.push(c)},items:[{title:"My account",itemId:"/account/my-account",iconName:"account"},{title:"Wish list",itemId:"/account/wish-list",iconName:"heart"},{title:"Newsletter",itemId:"/account/newsletter",iconName:"tag"},{title:"Order history",itemId:"/account/order-history",iconName:"order"},{title:"My reviews",itemId:"/account/my-reviews",iconName:""},{title:"Logout",itemId:"/account/logout",iconName:""}]})}),Object(l.jsx)("div",{className:"col-lg-9 col-md-12 col-12",style:{padding:j.a?"0 1em":"0 2em"},children:function(){switch(S){case"order-history":return Object(l.jsx)(q,{});case"wish-list":return Object(l.jsx)(W,{});case"my-account":return Object(l.jsx)(Q,{});case"my-reviews":return Object(l.jsx)(ne,{});case"newsletter":return Object(l.jsx)(ie,{});case"logout":return void n(J.l());default:return""}}()})]})})}),Object(l.jsx)(b.default,{data:_})]})}t.default=Object(r.memo)(se)}}]);
//# sourceMappingURL=29.d3d92ea8.chunk.js.map