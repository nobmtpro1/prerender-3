(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[41,52],{298:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(3),i=n.n(c),o=n(18),r=n(6),s=n(0),l=n(30),d=n.n(l),u=n(24),j=n.n(u),v=n(2),b=n(135),m=n(20),p=n(31),h=(n(312),n(43)),O=n(28),f=n(50),x=n(7),g=n(13),y=n(137),_=n.n(y),N=n(160);function S(e){var t,n,c,l,d,u;if(1!==e.currentStep)return Object(s.jsx)(s.Fragment,{});var j=Object(m.c)((function(e){return e.userReducer})),b=Object(v.useState)(!0),p=Object(r.a)(b,2),h=p[0],y=p[1],S=Object(v.useState)(!1),k=Object(r.a)(S,2),w=k[0],C=k[1],E=Object(v.useState)(!0),A=Object(r.a)(E,2),T=A[0],P=A[1],I=Object(v.useState)(!0),R=Object(r.a)(I,2),F=R[0],B=R[1],L=Object(v.useState)({email:"",username:"",password:"",phone:"",firstName:"",lastName:"",birthday:""}),V=Object(r.a)(L,2),q=V[0],D=V[1],K=Object(v.useState)(!1),U=Object(r.a)(K,2),z=U[0],G=U[1],H=Object(v.useState)(null),J=Object(r.a)(H,2),Q=J[0],Y=J[1],X=localStorage.getItem("sundoraToken"),M=function(){var t,n,a=Object(g.u)(null===(t=e.data.email)||void 0===t?void 0:t.trim()),c=Object(g.t)(null===(n=e.data.email)||void 0===n?void 0:n.trim()),i={url:x.K,method:"POST",body:{email:e.data.email.trim().toLowerCase().trim()}};if(Object(g.e)(i).then((function(t){t.success?y(!0):t.isError&&(y(!1),!c&&a&&e.handleEmailPhoneChange("",e.data.email))})),!c&&!a)return"Please enter valid email or phone number";B(!1)},Z=function(){var t;return e.data.password&&""!=(null===(t=e.data)||void 0===t?void 0:t.password)?0==e.data.password.length>=8?"Please enter a password of more than 8 characters":void 0:"Please enter password"},W=function(){var t=Object(o.a)(i.a.mark((function t(){var n,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.data.phone&&""!=(null===(n=e.data)||void 0===n?void 0:n.phone)){t.next=2;break}return t.abrupt("return","Please enter phone number");case 2:if(a=Object(g.g)(e.data.phone),0!=Object(g.u)(a)){t.next=6;break}return t.abrupt("return","Error phone, Need help? Please call: ".concat(x.I));case 6:return c={url:x.K,method:"POST",body:{email:a}},t.prev=7,t.next=10,Object(g.e)(c);case 10:if(!t.sent.success){t.next=13;break}return t.abrupt("return","Please choose another phone number");case 13:t.next=17;break;case 15:t.prev=15,t.t0=t.catch(7);case 17:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(){return t.apply(this,arguments)}}(),$=function(){var t;if(!e.data.firstName||""==(null===(t=e.data)||void 0===t?void 0:t.firstName))return"Please enter first name"},ee=function(){var t;if(!e.data.lastName||""==(null===(t=e.data)||void 0===t?void 0:t.lastName))return"Please enter last name"},te=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n,c,o,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M(),n=Z(),c=$(),o=ee(),e.next=6,W();case 6:if(r=e.sent,D(Object(a.a)(Object(a.a)({},q),{email:t,password:n,firstName:c,lastName:o,phone:r})),!(t||n||c||o||r)){e.next=12;break}return e.abrupt("return",!0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var t=function(){var t;if(!e.data.phone||""==(null===(t=e.data)||void 0===t?void 0:t.phone))return"Please enter phone number";var n=Object(g.g)(e.data.phone);return 0==Object(g.u)(n)?"Error phone, Need help? Please call: ".concat(x.I):void 0}(),n=$(),c=ee(),i=function(){if(0==Object(g.t)(e.data.email.trim()))return"Please enter valid email"}(),o=void 0;return""!=e.data.password&&(o=Z()),D(Object(a.a)(Object(a.a)({},q),{email:i,password:o,firstName:n,lastName:c,phone:t})),!!(i||o||n||c||t)},ae=function(){var t=Object(o.a)(i.a.mark((function t(n){var a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),Y({email:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.email,phone:null===e||void 0===e||null===(c=e.data)||void 0===c?void 0:c.phone}),!h){t.next=5;break}return e.handleLogin(n),t.abrupt("return");case 5:return t.next=7,te();case 7:if(!t.sent){t.next=10;break}return t.abrupt("return",!1);case 10:e.resetForm(),y(!0),B(!0),e.handleRegister(n),G(!0),window.scrollTo(0,0);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ce=function(){var t=Object(o.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,ne();case 3:if(!t.sent){t.next=6;break}return t.abrupt("return",!1);case 6:P(!1),e.handleRegisterGuest(n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(v.useEffect)((function(){var t;!!localStorage.getItem("sundora_guest_id")&&C(!0),!(null===(t=e.data.email)||void 0===t?void 0:t.length)&&(y(!0),B(!0))}),[]);var ie=Object(O.g)();return Object(s.jsxs)("section",{className:"form-step form-step-1",children:[Object(s.jsxs)("h2",{style:{cursor:"".concat(w?"pointer":"")},className:"title-form ".concat(X||j.user||!T?"logged":""),onClick:function(){return w&&P((function(e){return!e}))},children:[Object(s.jsx)("span",{children:X||j.user||!T?Object(s.jsx)("i",{className:"gg-check"}):1}),(null===e||void 0===e||null===(t=e.userInfo)||void 0===t?void 0:t.guest)?"CONTINUE AS GUEST":"SIGN IN / GUEST INFO"]}),z&&Object(s.jsx)(N.a,{dataForm:Q,setOpenSMSVerify:G}),X||j.user||!T||z?"":Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)(f.a,{type:"text",for:"email",name:"email",label:"Enter email ".concat(h?"or phone":"","*"),value:e.data.email,handleChange:e.handleChange,validate:!0,validateContent:q.email,handleBlurInput:M})}),(null===j||void 0===j||null===(n=j.loginRequestStatus)||void 0===n?void 0:n.inProgress)?Object(s.jsxs)("div",{className:"lds-roller",style:{transform:"scale(0.5)",bottom:"-5px",left:"-35px"},children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]}):null,function(){var e;return(null===j||void 0===j||null===(e=j.loginRequestStatus)||void 0===e?void 0:e.new_register)?Object(s.jsx)("p",{className:"err-login",children:"A magic link has been sent to your email for verification"}):null}(),h&&!F?Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"password",className:"animated faster fade-in",children:"Enter your password to login"}),Object(s.jsx)(f.a,{type:"password",for:"password",name:"password",label:"Enter password",value:e.data.password,validate:!h,validateContent:q.password,handleChange:e.handleChange})]}):Object(s.jsx)(s.Fragment,{}),h?Object(s.jsx)("div",{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"form-group ",children:[Object(s.jsxs)("label",{htmlFor:"password",className:"animated faster fade-in",children:["Enter your password to register",Object(s.jsx)("span",{style:{fontWeight:"bold"},children:"(OPTIONAL)"})]}),Object(s.jsx)(f.a,{type:"password",for:"password",name:"password",label:"Enter password",value:e.data.password,validate:!h,validateContent:q.password,handleChange:e.handleChange})]}),Object(s.jsxs)("div",{className:"form-group phone-input",children:[Object(s.jsx)("label",{htmlFor:"phone",className:"animated faster fade-in",children:"Enter your phone number *"}),Object(s.jsx)(f.a,{type:"text",for:"Phone number",label:"Phone number",name:"phone",value:e.data.phone,validate:!0,validateContent:q.phone,handleChange:e.handleChange}),Object(s.jsx)("div",{className:"input-description",children:"If you register, an OTP will be sent to your number"})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"first_name",className:"animated faster fade-in",children:"Enter your first name *"}),Object(s.jsx)(f.a,{type:"text",for:"first_name",name:"firstName",label:"Enter first name",value:e.data.firstName,validate:!0,validateContent:q.firstName,handleChange:e.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"last_name",className:"animated faster fade-in",children:"Enter your last name *"}),Object(s.jsx)(f.a,{type:"text",for:"last_name",name:"lastName",label:"Enter last name",value:e.data.lastName,validate:!0,validateContent:q.lastName,handleChange:e.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"last_name",className:"animated faster fade-in",children:"Enter your birthday"}),Object(s.jsx)(f.a,{type:"date",for:"birthday",name:"birthday",label:"",value:e.data.birthday,validate:!0,validateContent:q.birthday,handleChange:e.handleChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{htmlFor:"gender",className:"text-help animated faster fade-in",children:"Enter gender"}),Object(s.jsx)(_.a,{placeholder:"Select",className:"primary-select",name:"gender",required:!1,searchable:!1,labelField:"name",onChange:function(t){e.handleChangeSelect("gender",t)},valueField:"name",options:[{id:1,name:"Other"},{id:2,name:"Male"},{id:3,name:"Female"}],multi:!1,values:[]})]})]}),function(){if(h&&!j.loginRequestStatus.inProgress&&j.loginRequestStatus.error){if(!j.loginRequestStatus.email_verified&&j.loginRequestStatus.exists)return Object(s.jsx)("p",{className:"err-login",children:"Email not verified, new magic link has been sent to your email"});if(!j.loginRequestStatus.exists||j.loginRequestStatus.sms_verified)return Object(s.jsx)("p",{className:"err-login",children:"Wrong username or password"});G(!0)}return null}(),h?Object(s.jsx)("div",{className:"submit-box",style:{flexWrap:"wrap"},children:h&&!F?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{type:"button",className:"btn-forgot-password",onClick:function(){ie.push("/forgot-password")},children:"Forgot password?"}),Object(s.jsx)("button",{type:"submit",onClick:function(e){return ae(e)},children:"SIGN IN"})]}):Object(s.jsx)(s.Fragment,{})}):Object(s.jsxs)("div",{className:"row submit-box",children:[(null===j||void 0===j||null===(c=j.loginRequestStatus)||void 0===c?void 0:c.inProgress)?Object(s.jsxs)("div",{className:"lds-roller",style:{transform:"scale(0.5)",bottom:"-5px",left:"-35px"},children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]}):"",Object(s.jsx)("button",{style:{width:"100%",border:"0.5px #ffffff solid",cursor:(null===j||void 0===j||null===(l=j.loginRequestStatus)||void 0===l?void 0:l.inProgress)?"not-allowed":""},disabled:null===j||void 0===j||null===(d=j.loginRequestStatus)||void 0===d?void 0:d.inProgress,className:"col-lg-4 col-sm-5 col-12",onClick:function(e){return ae(e)},children:"REGISTER"}),Object(s.jsx)("div",{children:Object(s.jsx)("span",{style:{cursor:(null===j||void 0===j||null===(u=j.loginRequestStatus)||void 0===u?void 0:u.inProgress)?"not-allowed":"pointer"},className:"continue-guest col disabled={stateUser?.loginRequestStatus?.inProgress}",onClick:function(e){return ce(e)},children:"CONTINUE AS GUEST"})})]})]})]})}var k=Object(v.memo)(S),w=n.p+"static/media/cash-on-pickup.dcd1597e.svg",C=n.p+"static/media/master-card.d58be188.svg",E=n.p+"static/media/visa-card.feb273c8.svg",A=n.p+"static/media/Bkash.4d2bb151.png";var T=function(){return Object(s.jsxs)("div",{className:"verify",children:[Object(s.jsx)("div",{className:"label",children:"Verified by"}),Object(s.jsx)("img",{src:"data:image/png;base64,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",alt:"sslcommesrz"})]})};var P=function(e){var t,n,a,c,i,o,l=Object(v.useState)(!0),d=Object(r.a)(l,2),u=d[0],j=d[1],b=Object(m.c)((function(e){return e.productReducer}));return Object(v.useEffect)((function(){"cod"!==e.data.payment&&j(!1)}),[]),Object(s.jsxs)("section",{className:"form-step form-step-3",children:[Object(s.jsxs)("h2",{className:"title-form",children:[Object(s.jsx)("span",{children:"3"}),"CHOOSE PAYMENT OPTION"]}),Object(s.jsx)("p",{style:{margin:"32px 0 8px 0",textAlign:"justify",lineHeight:"1.5rem"},children:"Sundora Beauty payment gateway is PCI-DSS certified. PCI DSS stands for Payment Card Industry Data Security Standard, which sets the requirements for organizations and sellers to safely and securely accept, store, process, and transmit cardholder data during credit card transaction to prevent fraud and data breaches."}),Object(s.jsxs)("div",{className:"form-group",children:[(null===e||void 0===e||null===(t=e.loading)||void 0===t?void 0:t.confirmAddress)?Object(s.jsx)("div",{style:{padding:"3.5vw 0",display:"flex",justifyContent:"center",alignItems:"center",transform:"translate(-5%, 0%)"},children:Object(s.jsxs)("div",{className:"lds-roller",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("label",{className:"radio-custom",children:[Object(s.jsx)("input",{type:"radio",name:"payment",value:"cod",checked:"cod"==e.data.payment,onChange:e.handleChange,disabled:(null===e||void 0===e||null===(n=e.placeOrderForm)||void 0===n?void 0:n.address_id)&&!(null===b||void 0===b||null===(a=b.product)||void 0===a?void 0:a.cash_on_delivery)}),Object(s.jsx)("span",{className:"radio-label payment-ic ".concat(u?"checked-input":""),children:Object(s.jsxs)("div",{className:"ic-group",children:[Object(s.jsx)("img",{className:(null===e||void 0===e||null===(c=e.placeOrderForm)||void 0===c?void 0:c.address_id)&&!(null===b||void 0===b||null===(i=b.product)||void 0===i?void 0:i.cash_on_delivery)?"disabled":"",src:w,alt:"cod"}),Object(s.jsx)("p",{children:(null===e||void 0===e||null===(o=e.placeOrderForm)||void 0===o?void 0:o.store_location_id)?"Cash on pickup":"Cash on delivery*"})]})})]}),Object(s.jsxs)("label",{className:"radio-custom",children:[Object(s.jsx)("input",{type:"radio",name:"payment",value:"mastercard",checked:"mastercard"==e.data.payment,onChange:e.handleChange}),Object(s.jsx)("span",{className:"radio-label payment-ic ".concat("mastercard"==e.data.payment?"checked-input":""),children:Object(s.jsxs)("div",{className:"ic-group",children:[Object(s.jsx)("img",{src:C,alt:"master-card"}),Object(s.jsx)("p",{children:"MasterCard"})]})}),Object(s.jsx)("div",{className:"ssllogo",children:Object(s.jsx)(T,{})})]}),Object(s.jsxs)("label",{className:"radio-custom",children:[Object(s.jsx)("input",{type:"radio",name:"payment",value:"visacard",checked:"visacard"==e.data.payment,onChange:e.handleChange}),Object(s.jsx)("span",{className:"radio-label payment-ic ".concat("visacard"==e.data.payment?"checked-input":""),children:Object(s.jsxs)("div",{className:"ic-group",children:[Object(s.jsx)("img",{src:E,alt:"visa"}),Object(s.jsx)("p",{children:"Visa"})]})}),Object(s.jsx)("div",{className:"ssllogo",children:Object(s.jsx)(T,{})})]}),Object(s.jsxs)("label",{className:"radio-custom",children:[Object(s.jsx)("input",{type:"radio",name:"payment",value:"mobilebank",checked:"mobilebank"==e.data.payment,onChange:e.handleChange,disabled:!0}),Object(s.jsx)("span",{className:"radio-label payment-ic ".concat("visacard"==e.data.payment?"checked-input":""),children:Object(s.jsxs)("div",{className:"ic-group",children:[Object(s.jsx)("img",{className:"disabled",src:A,alt:"mobile-card",style:{padding:6}}),Object(s.jsx)("p",{children:"Bkash"})]})}),Object(s.jsx)("div",{className:"ssllogo comming-soon",children:"Coming soon ..."})]})]}),Object(s.jsxs)("div",{style:{marginTop:8},children:[Object(s.jsx)(f.a,{type:"text",for:"company_name",name:"company_name",label:"Company name (optional)",value:e.data.company_name,handleChange:e.handleChange}),Object(s.jsxs)("div",{className:"cart-note",children:["*Cash on delivery unavailable for order ",">"," \u09f325,000"]})]})]})]})},I=n(380),R=n(12),F=n(42),B=n(25);function L(e){var t,n,c,i=Object(v.useState)(!0),o=Object(r.a)(i,2),l=o[0],d=o[1],u=Object(m.c)((function(e){return e.productReducer.placeOrderForm})),j=Object(m.b)(),b=Object(m.c)((function(e){return e.productReducer})),p=(null===b||void 0===b||null===(t=b.placeOrderForm)||void 0===t?void 0:t.address_id)||null,h=(null===b||void 0===b||null===(n=b.placeOrderForm)||void 0===n?void 0:n.address_billing_id)||null;Object(v.useEffect)((function(){var e={url:"".concat(x.h),method:"GET",body:null};Object(g.e)(e).then().catch((function(e){return console.log(e)})),localStorage.getItem("sundoraToken")&&j(R.d("billing"))}),[]);return Object(v.useEffect)((function(){null===e||void 0===e||e.setLoading((function(e){return Object(a.a)(Object(a.a)({},e),{},{confirmAddress:!1})})),j(B.k({multi_card_name:""})),null===e||void 0===e||e.setCheckoutForm((function(e){return Object(a.a)(Object(a.a)({},e),{},{payment:""})}))}),[null===b||void 0===b||null===(c=b.placeOrderForm)||void 0===c?void 0:c.address_id]),Object(s.jsxs)("section",{className:"form-step form-step-2",children:[Object(s.jsxs)("h2",{className:"title-form title-step-2 ".concat((null===u||void 0===u?void 0:u.address_id)||(null===u||void 0===u?void 0:u.store_location_id)?"step-done":""),onClick:e.toogleShowStep2,children:[Object(s.jsx)("span",{children:(null===u||void 0===u?void 0:u.address_id)||(null===u||void 0===u?void 0:u.store_location_id)?Object(s.jsx)("i",{className:"gg-check"}):2}),"CHOOSE DELIVERY ADDRESS"]}),Object(s.jsxs)("div",{style:{display:e.data.isShowStep2?"":"none"},children:[Object(s.jsx)("p",{style:{margin:F.a?"24px 0 8px 0":"32px 0 8px 0",textAlign:"justify",lineHeight:"1.5rem"}}),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(I.a,{google:e.google,center:{lat:18.5204,lng:73.8567},height:"300px",zoom:15,confirmAddressStep:e.confirmAddressStep,type:"shipping",isCheckoutForm:!0,fromCheckOut:!0,selectedAddressId:p,setLoading:null===e||void 0===e?void 0:e.setLoading,setCheckoutForm:null===e||void 0===e?void 0:e.setCheckoutForm}),Object(s.jsxs)("label",{className:"checkbox-button",children:[Object(s.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"choice1-1",name:"isBillingAddress",checked:l,onChange:function(e){d(e.target.checked)}}),Object(s.jsx)("span",{className:"checkbox-button__control"}),Object(s.jsx)("span",{className:"checkbox-button__label",children:"Yes, make this to my billing address"})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsxs)("label",{className:"radio-custom",children:[Object(s.jsx)("input",{id:"store",type:"radio",name:"deliveryType",value:"delivery",checked:!0,onChange:e.handleChange}),Object(s.jsx)("span",{className:"radio-label",children:"Standard delivery"})]})}),l?"":Object(s.jsxs)("div",{className:"row",style:{marginBottom:24,marginTop:32},children:[Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("h3",{children:"Billing"})}),Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)(I.a,{google:e.google,center:{lat:18.5204,lng:73.8567},height:"300px",zoom:15,confirmAddressStep:e.confirmAddressBillingStep,type:"billing",fromCheckOut:!0,setLoading:null===e||void 0===e?void 0:e.setLoading,setCheckoutForm:null===e||void 0===e?void 0:e.setCheckoutForm,selectedAddressId:h})})})]})]})]})]})}var V=Object(v.memo)(L);function q(e){var t=Object(m.b)(),n=Object(m.c)((function(e){return e.productReducer.placeOrderForm})),c=Object(v.useState)({register:!1,continueAsGuest:!1,confirmAddress:!1}),i=Object(r.a)(c,2),o=i[0],l=i[1],d=Object(v.useState)({first_name:null,last_name:null,password:"",confirm_password:"",email:null,phone:null}),j=Object(r.a)(d,2),b=j[0],p=j[1],O=Object(v.useState)({currentStep:1,isShowStep2:!0,email:"",phone:"",username:"",password:"",firstName:"",lastName:"",birthday:"",gender:"",deliveryType:"store",payment:1,addressInfo:null,company_name:""}),f=Object(r.a)(O,2),y=f[0],_=f[1],N=Object(v.useState)([]),S=Object(r.a)(N,2),w=S[0],C=S[1],E=function(e){var n=e.currentTarget.name,c=e.target.value;_(Object(a.a)(Object(a.a)({},y),{},Object(h.a)({},n,c))),"payment"==e.currentTarget.name&&t(B.k({multi_card_name:e.target.value})),"company_name"==e.currentTarget.name&&t(B.k({company_name:e.target.value}))},A=function(e){l(Object(a.a)(Object(a.a)({},o),{},Object(h.a)({},e.key,e.value)))};return Object(v.useEffect)((function(){!function(){if(localStorage.getItem("sundoraToken")){var e={url:x.t,method:"GET",body:null};Object(g.e)(e).then((function(e){e.success&&p(e.data)}))}}()}),[]),Object(s.jsxs)("section",{className:"checkout-form",children:[Object(s.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(s.jsx)(k,{currentStep:y.currentStep,handleChange:E,data:y,userInfo:b,loading:o,handleLogin:function(e){e.preventDefault();var n=localStorage.getItem("id_checkout")?localStorage.getItem("id_checkout"):null;t(R.h({email:y.email.toLowerCase(),password:y.password,draft_order_id:n}))},handleRegister:function(e){e.preventDefault();var n=localStorage.getItem("id_checkout");A({key:"register",value:!0}),t(R.m({customer:{email:y.email?y.email.toLowerCase():null,phone:Object(g.g)(y.phone),first_name:y.firstName,last_name:y.lastName,password:y.password,password_confirmation:y.password,draft_order_id:n,note:{birthday:y.birthday,gender:y.gender},withTimeout:!0}}))},handleRegisterGuest:function(e){e.preventDefault(),A({key:"continueAsGuest",value:!0});var n=localStorage.getItem("id_checkout");t(R.n({customer:{email:y.email?y.email.toLowerCase():null,phone:Object(g.g)(y.phone),first_name:y.firstName,last_name:y.lastName,password:y.password,password_confirmation:y.password,draft_order_id:n,note:{birthday:y.birthday,gender:y.gender},guest:!0}}))},handleChangeSelect:function(e,t){_(Object(a.a)(Object(a.a)({},y),{},Object(h.a)({},e,Object(u.trim)(Object(u.toLower)(t[0].name)))))},handleEmailPhoneChange:function(e,t){_((function(n){return Object(a.a)(Object(a.a)({},n),{},{email:e,phone:t})}))},resetForm:function(){_({currentStep:1,isShowStep2:!0,email:"",phone:"",username:"",password:"",firstName:"",lastName:"",birthday:"",gender:"",deliveryType:"store",payment:1,addressInfo:null,company_name:""})}})}),Object(s.jsx)(V,{handleChange:E,currentStep:y.currentStep,data:y,confirmAddressStep:function(e){_(Object(a.a)(Object(a.a)({},y),{},{addressInfo:e,isShowStep2:!1}))},toogleShowStep2:function(){_(Object(a.a)(Object(a.a)({},y),{},{isShowStep2:!y.isShowStep2}))},addressStore:w,handleSelectAddress:function(c){var i;e.handleDeleteDiscountAndShippingAddress(),C(c),t(B.l(Object(a.a)(Object(a.a)({},n),{},{address_id:null,store_location_id:"store"==y.deliveryType&&c[0].id?c[0].id:null,multi_card_name:null===e||void 0===e||null===(i=e.placeOrderForm)||void 0===i?void 0:i.multi_card_name}))),_(Object(a.a)(Object(a.a)({},y),{},{isShowStep2:!1}))},confirmAddressBillingStep:function(e){_(Object(a.a)(Object(a.a)({},y),{},{addressBillingInfo:e,isShowStep2:!0}))},setLoading:l,setCheckoutForm:_}),Object(s.jsx)(P,{handleChange:E,currentStep:y.currentStep,data:y,placeOrderForm:e.placeOrderForm,loading:o})]})}var D=Object(v.memo)(q),K=n(311),U=n(99),z=n(378),G=n(167),H=n(69),J=n(86);n(433);function Q(e){var t,n,c,l,h,O,f,y,_,N,S,k,w,C,E,A,T,P,I,R,F=Object(m.c)((function(e){return e.productReducer})),L=Object(m.c)((function(e){return e.userReducer})),V=Object(m.b)(),q=Object(v.useState)([]),Q=Object(r.a)(q,2),Y=Q[0],X=Q[1],M=Object(v.useState)([]),Z=Object(r.a)(M,2),W=Z[0],$=Z[1],ee=Object(v.useState)([]),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],ce=Object(v.useState)((null===F||void 0===F||null===(t=F.product)||void 0===t||null===(n=t.applied_discount)||void 0===n?void 0:n.title)||""),ie=Object(r.a)(ce,2),oe=ie[0],re=ie[1],se=Object(v.useState)(null),le=Object(r.a)(se,2),de=le[0],ue=le[1],je=Object(v.useState)(!1),ve=Object(r.a)(je,2),be=ve[0],me=ve[1],pe=Object(v.useState)(!1),he=Object(r.a)(pe,2),Oe=he[0],fe=he[1],xe=Object(v.useState)(),ge=Object(r.a)(xe,2),ye=ge[0],_e=ge[1],Ne=Object(v.useState)(!1),Se=Object(r.a)(Ne,2),ke=Se[0],we=Se[1],Ce=Object(v.useState)(!1),Ee=Object(r.a)(Ce,2),Ae=Ee[0],Te=Ee[1],Pe=function(){var t=Object(o.a)(i.a.mark((function t(){var n,a,c,o,r,s,l,d,j;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.match.params?e.match.params:void 0,a=localStorage.getItem("id_checkout")?localStorage.getItem("id_checkout"):null,localStorage.getItem("sundoraToken")&&V({type:"GET_ADDRESS"}),!(Object(u.isEmpty)(Y)||n||Object(u.isEmpty)(ne))){t.next=19;break}return c={url:"".concat(x.v).concat(a,"/order/"),method:"GET",body:null,toaster:!!(null===L||void 0===L?void 0:L.user)},o=[Object(g.d)("blogs-page"),Object(g.e)(c)],t.prev=6,t.next=9,Promise.all(o);case 9:r=t.sent,s=r[0],l=Object(u.get)(s,"dynamic_links"),X(null===l||void 0===l?void 0:l.navigation),ae(null===l||void 0===l?void 0:l.footer),$(!1),t.next=19;break;case 17:t.prev=17,t.t0=t.catch(6);case 19:if(!Object(u.isEmpty)(ye)){t.next=30;break}return d={url:"".concat(x.s),method:"GET",body:null,toaster:!!(null===L||void 0===L?void 0:L.user)},t.prev=21,t.next=24,Object(g.e)(d);case 24:(null===(j=t.sent)||void 0===j?void 0:j.success)&&(_e(null===j||void 0===j?void 0:j.data),$(!1)),t.next=30;break;case 28:t.prev=28,t.t1=t.catch(21);case 30:case"end":return t.stop()}}),t,null,[[6,17],[21,28]])})));return function(){return t.apply(this,arguments)}}();Object(v.useEffect)((function(){Pe()}),[F]),Object(v.useEffect)((function(){var e;ue(null===F||void 0===F||null===(e=F.product)||void 0===e?void 0:e.affiliate)}),[F]);var Ie=function(e){if(!Oe){var t=localStorage.getItem("id_checkout")?localStorage.getItem("id_checkout"):null;if(fe(!0),t){var n={url:"".concat(x.R).concat(t,"/discount_code_delete/"),method:"DELETE",body:null};Object(g.e)(n).then((function(t){if(null===t||void 0===t?void 0:t.success)V(Object(B.j)(null===t||void 0===t?void 0:t.data.line_items)),V(Object(B.c)(null===t||void 0===t?void 0:t.data)),ke&&function(e){if(re(""),!Oe){var t=localStorage.getItem("id_checkout")?localStorage.getItem("id_checkout"):null;if(fe(!0),t){var n={url:"".concat(x.R).concat(t,"/discount_loyalty_code/"),method:"PUT",body:{discount:{voucher_id:e.id}}};Object(g.e)(n).then((function(e){if(null===e||void 0===e?void 0:e.success)V(Object(B.j)(null===e||void 0===e?void 0:e.data.line_items)),V(Object(B.c)(null===e||void 0===e?void 0:e.data)),we(!1),fe(!1);else if(null===e||void 0===e?void 0:e.isError)return void fe(!1)}))}}}(e),fe(!1);else if(null===t||void 0===t?void 0:t.isError)return void fe(!1)}))}}},Re=Object(v.useState)(!1),Fe=Object(r.a)(Re,2),Be=Fe[0],Le=Fe[1];Object(v.useEffect)((function(){$(F.loading)}),[F.loading]);var Ve=F.product;return Object(s.jsxs)("div",{className:"site-CheckoutPage",children:[W?Object(s.jsx)(U.default,{}):"",Object(s.jsxs)(b.a,{children:[Object(s.jsx)("meta",{property:"og:title",content:"Checkout page | Sundora"}),Object(s.jsx)("meta",{property:"og:description",content:"Checkout page | Sundora"}),Object(s.jsx)("title",{children:"Checkout page | Sundora"}),Object(s.jsx)("meta",{name:"description",content:"Checkout page | Sundora"})]}),Object(s.jsx)("main",{children:Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-6 col-12",style:{borderRight:"1px solid #dddddd"},children:Object(s.jsx)(D,{draftOrder:Ve,placeOrderForm:null===F||void 0===F?void 0:F.placeOrderForm,handleDeleteDiscountAndShippingAddress:function(){var e=F.product,t=localStorage.getItem("id_checkout")?localStorage.getItem("id_checkout"):null;fe(!0);var n=Object(u.find)(null===e||void 0===e?void 0:e.note_attributes,(function(e){return"discount_code_type"==e.name&&"discount_free_shipping"==e.value}));if(t){var a={url:"".concat(x.R).concat(t,"/remove_shipping_address/"),method:"DELETE",body:null};if(n){var c={url:"".concat(x.R).concat(t,"/discount_code_delete/"),method:"DELETE",body:null};Object(g.e)(c).then((function(e){if(null===e||void 0===e?void 0:e.success)Object(g.e)(a).then((function(e){if(e.success)V(Object(B.j)(null===e||void 0===e?void 0:e.data.line_items)),V(Object(B.c)(null===e||void 0===e?void 0:e.data)),fe(!1);else if(null===e||void 0===e?void 0:e.isError)return void fe(!1)}));else if(null===e||void 0===e?void 0:e.isError)return void fe(!1)}))}else Object(g.e)(a).then((function(e){if(e.success)V(Object(B.j)(null===e||void 0===e?void 0:e.data.line_items)),V(Object(B.c)(null===e||void 0===e?void 0:e.data)),fe(!1);else if(null===e||void 0===e?void 0:e.isError)return void fe(!1)}))}}})}),Object(s.jsx)("div",{className:"col-md-6 col-12",children:Object(s.jsx)("section",{className:"shopping-bag checkout-bag-layout",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"head",children:Object(s.jsx)("h3",{children:"Shopping bag"})}),Object(s.jsx)("div",{className:"body",children:(null===Ve||void 0===Ve?void 0:Ve.line_items)?Object(s.jsx)(G.a,{data:(null===Ve||void 0===Ve?void 0:Ve.line_items)?null===Ve||void 0===Ve?void 0:Ve.line_items:[],DeleteCheckoutProduct:function(e){var t=Object(u.filter)(null===F||void 0===F?void 0:F.lineItems,(function(t){return t.variant_id!=e})),n=Object(u.find)(null===F||void 0===F?void 0:F.lineItems,(function(t){return t.variant_id==e}));Object(J.d)(n),V(B.e(t))},discountType:(null===Ve||void 0===Ve?void 0:Ve.note_attributes)&&(null===Ve||void 0===Ve?void 0:Ve.note_attributes.length)>0?null===Ve||void 0===Ve||null===(c=Ve.note_attributes[1])||void 0===c?void 0:c.value:"",offerData:(null===Ve||void 0===Ve?void 0:Ve.variants_recommendation)?null===Ve||void 0===Ve?void 0:Ve.variants_recommendation:[]}):Object(s.jsx)(z.default,{})}),Object(s.jsx)("div",{className:"foot",children:Object(s.jsxs)("div",{className:"checkout-box",children:[Object(s.jsx)("h4",{children:"Discount:"}),Object(s.jsxs)("div",{className:"discount-box",style:{marginTop:"10px"},children:[Object(s.jsx)("input",{type:"text",onChange:function(e){re(e.target.value),we(!1),Ie(e)},placeholder:"Enter discount code",value:oe}),Object(s.jsx)("button",{onClick:(null===(l=Object(u.find)(null===F||void 0===F||null===(h=F.product)||void 0===h?void 0:h.note_attributes,(function(e){return"discount_code"==e.name})))||void 0===l?void 0:l.value)?Ie:function(){var e=localStorage.getItem("id_checkout")?localStorage.getItem("id_checkout"):null;if(fe(!0),e){var t={url:"".concat(x.R).concat(e,"/discount_code/"),method:"PUT",body:{discount:{code:oe}}};Object(g.e)(t).then((function(e){var t;if(null===e||void 0===e?void 0:e.success)j.a.find(null===(t=e.data)||void 0===t?void 0:t.note_attributes,(function(e){return"discount_buy_x_get_y"==e.value}))&&V(H.c(!0)),V(Object(B.j)(null===e||void 0===e?void 0:e.data.line_items)),V(Object(B.c)(null===e||void 0===e?void 0:e.data)),we(!0),fe(!1);else if(null===e||void 0===e?void 0:e.isError){var n;return Object(g.p)(null===e||void 0===e||null===(n=e.message)||void 0===n?void 0:n.discount_code),void fe(!1)}}))}},disabled:!oe.length,children:(null===(O=Object(u.find)(null===F||void 0===F||null===(f=F.product)||void 0===f?void 0:f.note_attributes,(function(e){return"discount_code"==e.name})))||void 0===O?void 0:O.value)?"Changed discount":"submit"}),Oe?Object(s.jsxs)("div",{className:"lds-roller",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]}):""]}),Object(s.jsx)("h4",{children:"Affiliate code:"}),Object(s.jsxs)("div",{className:"discount-box",style:{marginTop:"10px"},children:[Object(s.jsx)("input",{type:"text",onChange:function(e){return ue((function(t){var n;return Object(a.a)(Object(a.a)({},t),{},{code:null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value})}))},placeholder:"Enter affiliate code",value:null===de||void 0===de?void 0:de.code}),Object(s.jsx)("button",{onClick:function(){var e;me(!0),d.a.get(x.e+"?affiliate_code=".concat(null===de||void 0===de?void 0:de.code,"&draft_order_id=").concat(null===F||void 0===F||null===(e=F.product)||void 0===e?void 0:e.id)).then((function(e){var t,n;ue(null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.affiliate),Object(g.q)("Apply affiliate code successfully"),me(!1),V(B.h())})).catch((function(){Object(g.p)("Affiliate code does not exist"),me(!1)}))},disabled:!(null===de||void 0===de||null===(y=de.code)||void 0===y?void 0:y.length),children:"Submit"}),(null===de||void 0===de?void 0:de.successful_text)&&Object(s.jsx)("div",{className:"affiliate-successful-text",children:null===de||void 0===de?void 0:de.successful_text}),be?Object(s.jsxs)("div",{className:"lds-roller",children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]}):""]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"info-checkout",children:[(null===Ve||void 0===Ve?void 0:Ve.applied_discount)&&(null===Ve||void 0===Ve?void 0:Ve.note_attributes.length)>0&&"discount_all"==(null===Ve||void 0===Ve?void 0:Ve.note_attributes[1].value)?Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("span",{children:"Price"}),Object(s.jsx)("span",{children:(null===Ve||void 0===Ve?void 0:Ve.subtotal_price)?Object(g.l)(parseInt(null===Ve||void 0===Ve?void 0:Ve.subtotal_price)+parseInt((null===Ve||void 0===Ve||null===(_=Ve.applied_discount)||void 0===_?void 0:_.amount)||0)):"0,00"})]}):Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("span",{children:"Price"}),Object(s.jsx)("span",{children:(null===Ve||void 0===Ve?void 0:Ve.subtotal_price_with_rebate)?Object(g.l)(null===Ve||void 0===Ve?void 0:Ve.subtotal_price_with_rebate):(null===Ve||void 0===Ve?void 0:Ve.subtotal_price)?Object(g.l)(null===Ve||void 0===Ve?void 0:Ve.subtotal_price):"0,00"})]}),(null===Ve||void 0===Ve?void 0:Ve.applied_discount)?Object(s.jsxs)("div",{className:"d-flex discount-all",children:[Object(s.jsx)("span",{children:"Price discounted"}),Object(s.jsx)("span",{children:(null===Ve||void 0===Ve||null===(N=Ve.applied_discount)||void 0===N?void 0:N.amount)?"- ".concat(Object(g.l)((null===Ve||void 0===Ve||null===(S=Ve.applied_discount)||void 0===S?void 0:S.amount)||"")):""})]}):"",(null===Ve||void 0===Ve?void 0:Ve.applied_discount)&&(null===Ve||void 0===Ve?void 0:Ve.note_attributes.length)>0&&"voucher_loyalty"==(null===Ve||void 0===Ve||null===(k=Ve.applied_discount)||void 0===k?void 0:k.title)&&Object(u.find)(null===Ve||void 0===Ve?void 0:Ve.note_attributes,(function(e){return"voucher_loyalty_id"==e.name}))?Object(s.jsxs)("div",{className:"d-flex discount-all",children:[Object(s.jsx)("span",{children:"Price discounted"}),Object(s.jsx)("span",{children:(null===Ve||void 0===Ve||null===(w=Ve.applied_discount)||void 0===w?void 0:w.amount)?"- ".concat(Object(g.l)((null===Ve||void 0===Ve||null===(C=Ve.applied_discount)||void 0===C?void 0:C.amount)||"")):""})]}):"",Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("span",{children:(null===Ve||void 0===Ve?void 0:Ve.tax_lines)&&Ve.tax_lines.length>0?"".concat(null===Ve||void 0===Ve||null===(E=Ve.tax_lines[0])||void 0===E?void 0:E.title,"(+").concat(100*(null===Ve||void 0===Ve||null===(A=Ve.tax_lines[0])||void 0===A?void 0:A.rate),"%)"):""}),Object(s.jsx)("span",{children:(null===Ve||void 0===Ve?void 0:Ve.total_tax)&&"0.00"!=(null===Ve||void 0===Ve?void 0:Ve.total_tax)?Object(g.l)(null===Ve||void 0===Ve?void 0:Ve.total_tax):""})]}),Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("span",{children:"Shipping price**"}),Object(s.jsx)("span",{children:(null===Ve||void 0===Ve?void 0:Ve.shipping_line)&&parseInt(null===Ve||void 0===Ve||null===(T=Ve.shipping_line)||void 0===T?void 0:T.price)>0?Object(s.jsx)("span",{children:Object(g.l)(null===Ve||void 0===Ve||null===(P=Ve.shipping_line)||void 0===P?void 0:P.price)}):0===parseInt(null===Ve||void 0===Ve||null===(I=Ve.shipping_line)||void 0===I?void 0:I.price)?Object(s.jsx)("span",{className:"free-shipping",children:"FREE"}):Object(s.jsx)("span",{className:"free-shipping",children:"-"})})]}),j.a.find(null===Ve||void 0===Ve?void 0:Ve.note_attributes,(function(e){return"discount_code_type"==e.name&&"discount_free_shipping"==e.value}))?Object(s.jsxs)("div",{className:"d-flex",children:[Object(s.jsx)("span",{children:"Shipping Discount Subtotal"}),Object(s.jsxs)("span",{className:"text-danger",children:["-"," ",Object(g.l)(null===(R=j.a.find(null===Ve||void 0===Ve?void 0:Ve.note_attributes,(function(e){return"discount_value"==e.name})))||void 0===R?void 0:R.value)]})]}):""]}),Object(s.jsxs)("div",{className:"total",children:[Object(s.jsx)("span",{children:"TOTAL "}),Object(s.jsx)("hr",{}),Object(s.jsx)("h3",{children:(null===Ve||void 0===Ve?void 0:Ve.total_price)?Object(g.l)(null===Ve||void 0===Ve?void 0:Ve.total_price):""})]}),Object(s.jsxs)("div",{className:"terms-cond",children:[Object(s.jsxs)("label",{className:"checkbox-button",htmlFor:"terms-cond",children:[Object(s.jsx)("input",{type:"checkbox",className:"checkbox-button__input",id:"terms-cond",name:"terms-cond",onChange:function(e){Te(e.target.checked)},checked:Ae}),Object(s.jsx)("div",{className:"checkbox-button__control"})]}),Object(s.jsxs)("label",{className:"checkbox-button__label",htmlFor:"terms-cond",children:["I agree to the\xa0",Object(s.jsx)(p.b,{to:"/about-us/terms-conditions",target:"_blank",children:"Terms and conditions"}),","," ",Object(s.jsx)(p.b,{to:"/customer-service/refund-policy",target:"_blank",children:"Refund Policy"}),"\xa0and\xa0",Object(s.jsx)(p.b,{to:"/about-us/privacy-policy",target:"_blank",children:"Privacy Policy"})]})]}),Object(s.jsx)("button",{className:"checkout-button",style:{cursor:Be?"not-allowed":""},onClick:function(){return function(){if(!Be){var e=localStorage.getItem("id_checkout"),t=F.placeOrderForm;t.cash_on_pickup=!1;var n=!!localStorage.getItem("sundora_guest_id");if(n&&(t.user_id=localStorage.getItem("sundora_guest_id")),"cod"==t.multi_card_name&&(t.cash_on_pickup=!0),localStorage.getItem("sundoraToken")||n)if(null!=(null===t||void 0===t?void 0:t.address_id)||null!=(null===t||void 0===t?void 0:t.store_location_id))if(null===t||void 0===t?void 0:t.multi_card_name){Le(!0);var a={url:"".concat(x.T).concat(e,"/pay/"),method:"POST",body:t,guest:n};Object(g.e)(a).then((function(e){if(null===e||void 0===e?void 0:e.success){var t,n;if("cash_on_pickup"==(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.type))return void(window.location.href="order-verify/success/".concat(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.order,"/"));Object(J.b)(F),window.location.href=e.data.redirectGatewayURL}Le(!1),(null===e||void 0===e?void 0:e.isError)&&Object(g.p)(null===e||void 0===e?void 0:e.message)})).catch((function(e){return console.log(e)}))}else Object(g.p)("Please choose payment option");else Object(g.p)("Please choose delivery address");else Object(g.p)("Please login to proceed")}}()},disabled:!Ae,children:"Place Order"}),Be?Object(s.jsxs)("div",{className:"lds-roller",style:{transform:"scale(0.5)",bottom:"27px"},children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]}):"",Object(s.jsxs)("div",{className:"cart-note",children:["**FREE shipping for order ",">"," \u09f35,000 (VAT excluded)"]})]})})]})})})]})})}),Object(s.jsx)(K.default,{data:ne})]})}t.default=Object(v.memo)(Q)},354:function(e,t,n){"use strict";var a=n(3);n(187);function c(e,t,n,a,c,i,o){try{var r=e[i](o),s=r.value}catch(e){return void n(e)}r.done?t(s):Promise.resolve(s).then(a,c)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function r(e){c(o,a,i,r,s,"next",e)}function s(e){c(o,a,i,r,s,"throw",e)}r(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=!1,r=null,s="en",l=null,d=null,u="https://maps.googleapis.com/maps/api/geocode/json";function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o&&(t?console.warn(e):console.log(e))}function v(e){return b.apply(this,arguments)}function b(){return(b=i(a.mark((function e(t){var n,c;return a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).catch((function(){return Promise.reject(new Error("Error fetching data"))}));case 2:return n=e.sent,e.next=5,n.json().catch((function(){return j("Error parsing server response"),Promise.reject(new Error("Error parsing server response"))}));case 5:if("OK"!==(c=e.sent).status){e.next=9;break}return j(c),e.abrupt("return",c);case 9:return j("".concat(c.error_message,".\nServer returned status code ").concat(c.status),!0),e.abrupt("return",Promise.reject(new Error("".concat(c.error_message,".\nServer returned status code ").concat(c.status))));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m={setApiKey:function(e){r=e},setLanguage:function(e){s=e},setRegion:function(e){l=e},setLocationType:function(e){d=e},enableDebug:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o=e},fromLatLng:function(e,t,n,c,o,b){return i(a.mark((function i(){var m,p;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e&&t){a.next=3;break}return j("Provided coordinates are invalid",!0),a.abrupt("return",Promise.reject(new Error("Provided coordinates are invalid")));case 3:return m="".concat(e,",").concat(t),p="".concat(u,"?latlng=").concat(encodeURIComponent(m)),(n||r)&&(p+="&key=".concat(r=n||r)),(c||s)&&(p+="&language=".concat(s=c||s)),(o||l)&&(l=o||l,p+="&region=".concat(encodeURIComponent(l))),(b||d)&&(d=b||d,p+="&location_type=".concat(encodeURIComponent(d))),a.abrupt("return",v(p));case 9:case"end":return a.stop()}}),i)})))()},fromAddress:function(e,t,n,c){return i(a.mark((function i(){var o;return a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return j("Provided address is invalid",!0),a.abrupt("return",Promise.reject(new Error("Provided address is invalid")));case 3:return o="".concat(u,"?address=").concat(encodeURIComponent(e)),(t||r)&&(o+="&key=".concat(r=t||r)),(n||s)&&(o+="&language=".concat(s=n||s)),(c||l)&&(l=c||l,o+="&region=".concat(encodeURIComponent(l))),a.abrupt("return",v(o));case 8:case"end":return a.stop()}}),i)})))()}};t.default=m},378:function(e,t,n){"use strict";n.r(t);var a=n(0),c=(n(2),n(91));t.default=function(e){return Object(a.jsxs)("section",{className:"empty-bag",children:[Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("h3",{children:"0 Products"}),Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("span",{children:"Price"}),Object(a.jsx)("span",{children:"0,00\u09f3"})]}),Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("span",{children:"Shipping cost"}),Object(a.jsx)("span",{children:"0,00\u09f3"})]}),Object(a.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h2",{children:"0,00\u09f3"})]})]}),(null===e||void 0===e?void 0:e.recommendationData)&&(null===e||void 0===e?void 0:e.recommendationData.length)>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{children:"Recommendations for you"}),Object(a.jsx)(c.a,{data:null===e||void 0===e?void 0:e.recommendationData,handleCloseShoppingBag:e.handleCloseShoppingBag,col:3})]}):""]})}},433:function(e,t,n){}}]);
//# sourceMappingURL=41.46bed8dc.chunk.js.map